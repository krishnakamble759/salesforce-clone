//15.163.0-es2019 2025-12-18T08:45:35.005Z (6eabac87aa381)
var CS_CONF={"collectionEnabled":true,"projectId":210192,"status":1,"hostnames":["salesforce.com"],"crossDomainTracking":0,"crossDomainSingleIframeTracking":0,"consentRequired":1,"allowSubdomains":1,"visitorCookieTimeout":34164000000,"sampleRate":100,"replayRecordingRate":0,"validationRate":10,"lastTrackingDraw":null,"trackerDomain":"c.contentsquare.net","recordingDomain":"r.contentsquare.net","useMalkaPipeline":1,"ed":"l.contentsquare.net/log/web","eMerchandisingEnabled":0,"mouseMoveHeatmapEnabled":1,"jsErrorsEnabled":0,"customErrorsEnabled":0,"jsCustomErrorsEnabled":0,"apiErrorsEnabled":0,"customHashIdEnabled":1,"recordingEncryptionEnabled":0,"recordingEncryptionPublicKey":null,"recordingEncryptionPublicKeyId":0,"secureCookiesEnabled":0,"triggerSessionReplayEnabled":0,"triggerSessionReplayRegex":null,"dynamicIdRegex":null,"whitelistedAttributes":null,"replayRecordingUnmaskedUrlRegex":null,"replayRecordingUnmaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegex":null,"anonymisationMethod":"replayRecordingUnmaskedUrlRegex","tagDeploymentMode":"CONTENTSQUARE","experimental":null,"iframesTracking":0,"textVisibilityEnabled":0,"cookielessTrackingEnabled":0,"malkaUrlEnabled":0,"malkaEtrEnabled":0,"pathComputationRules":{},"asyncSerializerEnabled":1,"pendingInactivityTimeout":5000,"accessibilityEnabled":0,"uxaDomain":"app.contentsquare.com","webviewsTrackingEnabled":0,"useStaticResourceManager":1,"performanceTimingOptions":{"withResource":false},"replayConsentRequiredForSession":0,"eventsApiEnabled":0,"clickedElementTextEnabled":1,"collectHierarchy":0,"collectSubmit":0,"collectTargetText":1,"displayAdOptions":null,"taskSchedulerOptions":{"enabled":1},"malkaQuotaServiceDomain":"q-aus1.contentsquare.net","malkaRecordingDomain":"k-aus1.contentsquare.net","staticResourceManagerDomain":"srm.bf.contentsquare.net","voc":{"siteId":null,"enabled":0},"anonymizeDigits":null,"dynamicConfDomain":"t.contentsquare.net/settings","tagVerificationDomain":"tcvsapi.contentsquare.com","startMode":1};
var CS_INTEGRATIONS_CONF = {"optimizely":{}};
/* integration-optimizely 2.9.2 */
(()=>{"use strict";function e(e,n){try{e()}catch(e){window._uxa=window._uxa||[],window._uxa.push(["logSnippetError",n,e]),(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&(console.log(`%cCSQ INTEGRATION ERROR: [${n}] : ${e.message}`,"color:rgb(228, 25, 45); font-weight: bold"),console.log(e))}}function n(e){window._uxa=window._uxa||[],window._uxa.push(["event",e])}function t(e,n,t){if((t=t||window)&&n&&e){let i=!1,o=t[e];o?n():Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return o},set:function(e){o=e,i||(i=!0,n())}})}}function i(e){return e&&"string"==typeof e?e.replace(/[\W_]+/g,"-"):""}const o=JSON.parse('{"QC":"Optimizely","Mz":"AB_OP_","be":"OP_"}'),a=function(n){let t,i,o,a;if(e(function(){const e=n.name;t=n.version;const c=e.replace("@contentsquare/integration-","");i=c+"-"+t;let r="-contentsquare";a=new RegExp(r+"$").test(c),o=c.replace(/-contentsquare([^-contentsquare]*)$/,"$1"),a||(r="-cap",a=new RegExp(r+"$").test(c),o=c.replace(/-cap([^-cap]*)$/,"$1"))},"Shared-Function-readPackageJSON"),a)return{snippetBuildName:i,parameterName:o,snippetVersion:t}}(JSON.parse('{"name":"@contentsquare/integration-optimizely-contentsquare","version":"2.9.2","scripts":{"build:snippet":"npx webpack"}}')),c=(a.parameterName,a.snippetBuildName),r=a.snippetVersion;e(function(){const a=o.QC,s=o.Mz,l=o.be;var u,p;function d(e,t){!function(e,n){window._uxa=window._uxa||[],window._uxa.push(["trackDynamicVariable",{key:e,value:n}])}(e=s+e,t);const o=t.endsWith(" [Holdback]");var a,r;n(`${o?"HB_":""}${i(e.replace(s,""))}/${o?t.replace(" [Holdback]",""):i(t)}`),n(`${l}${i(e.replace(s,""))}-${i(t)}`),function(e,n,t){(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&(t?"warn"===t&&console.log(`%cCSQ INTEGRATION: [${e}] : ${n}`,"color:rgb(255, 86, 2); font-weight: bold"):console.log(`%cCSQ INTEGRATION: [${e}] : ${n}`,"color: #2a9d8f; font-weight: bold"))}(c,(a=e,r=t,document.getElementById("csKey")&&document.getElementById("csValue")&&(document.getElementById("csKey").textContent=a,document.getElementById("csValue").textContent=r),`Dynamic variable with ${a} and value ${r} sent`))}u=a,p=r,CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push(u+" - v"+p);let m=!1;const g=[];!function(e,n,i){i=i||window;const o=e.split(".");if(1==o.length)t(e,n,i);else{let e=i,a=0;const c=function(){e=a>0?e[o[a-1]]:window,a++,a>=o.length?t(o[a-1],n,e):t(o[a-1],c,e)};c()}}("optimizely",function(){setTimeout(function(){e(function(){function n(){e(function(){const e=optimizely.get&&optimizely.get("state");if(e&&e.getCampaignStates&&"function"==typeof e.getCampaignStates&&"object"==typeof e.getCampaignStates()){const t=e.getCampaignStates({isActive:!0}),i=Object.keys(t);if(n=i,Array.isArray(n))for(let e=0;e<i.length;e++)if(-1===g.indexOf(i[e])){g.push(i[e]);const n=t[i[e]];if(n.experiment){let e,t;e=n.experiment.name?n.campaignName:n.experiment.id,t=n.experiment.campaignName&&n.experiment.name?n.experiment.name+" - "+n.variation.name:n.variation.name?n.variation.name:n.variation.id,n.isInCampaignHoldback&&(t+=" [Holdback]"),e&&t&&d(e,t)}}}var n},c)}n(),m||(m=!0,window.optimizely=window.optimizely||[],"function"==typeof optimizely.push&&optimizely.push({type:"addListener",filter:{type:"lifecycle",name:"campaignDecided"},handler:n}))},c)},500)})},c)})();
(()=>{var Qc=Object.defineProperty;var Zc=(s,i,t)=>i in s?Qc(s,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[i]=t;var Gt=(s,i,t)=>Zc(s,typeof i!="symbol"?i+"":i,t);var Ht={};Ht.d=(s,i)=>{for(var t in i)Ht.o(i,t)&&!Ht.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:i[t]})};Ht.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();Ht.o=(s,i)=>Object.prototype.hasOwnProperty.call(s,i);Ht.r=s=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var Cr={};Ht.r(Cr);Ht.d(Cr,{getRequestParameters:()=>qu});function qe(s,i){let t;return window.Zone&&typeof window.Zone.__symbol__=="function"&&(t=s[window.Zone.__symbol__(i)]),t!=null?t:s[i]}var Q=(()=>{let s;return function(i){i.debug="debug",i.warn="warn",i.implementation="implementation",i.error="error",i.critical="critical"}(s||(s={})),s})();function Ct(s){return K(s)&&(typeof s=="number"||s instanceof Number)&&!isNaN(s)}function Be(s){return s===parseInt(s,10)}function F(s){return K(s)&&(typeof s=="string"||s instanceof csString)}function si(s){return typeof s=="boolean"}function ys(s){return typeof s=="object"}function K(s){return typeof s!="undefined"}function St(s){return K(s)&&s!==null}function So(s){return typeof s=="object"&&s!==null}function tl(s,i,t){return Be(s)&&s>=i&&s<=t}function ir(s){for(let i in s)return!1;return!0}function Fe(s){return typeof s=="function"}function fi(s){return s instanceof Element}function Zt(s){return s instanceof Error}function _o(s){let i=s.length;for(let t=0;t<i;t++)switch(csString.prototype.charCodeAt.call(s,t)){case 9:case 10:case 11:case 12:case 13:case 32:case 160:continue;default:return!1}return!0}var Pi={[Q.debug]:0,[Q.warn]:1,[Q.implementation]:1,[Q.error]:2,[Q.critical]:3},rt={debug(...s){},warn(...s){},implementation(...s){},error(...s){},critical(...s){},isPerfLoggingActive(){return!1}};function el(s){rt=s}var W=s=>(i,t,e)=>{let r=(t==null?void 0:t.toString())||"",o=s||`${i.constructor&&i.constructor.name}.${r}`;if(e){let a=e.value;e.value=function(...c){return Ir(o,a.bind(this))(...c)}}};function Ir(s,i){return function(...t){try{let e=i.apply(this,t);return K(self.Promise)&&e instanceof self.Promise?e.then(r=>r,r=>rt.error(Zt(r)?r:new Error(r),s)):e}catch(e){try{rt.error(Zt(e)?e:new Error(e),s)}catch{}}}}function Te(s,i,t,e){var r=arguments.length,o=r<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,t):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,i,t,e);else for(var c=s.length-1;c>=0;c--)(a=s[c])&&(o=(r<3?a(o):r>3?a(i,t,o):a(i,t))||o);return r>3&&o&&Object.defineProperty(i,t,o),o}function wo(s){let i=new ArrayBuffer(s.length),t=new Uint8Array(i);for(let e=0,r=s.length;e<r;e+=1)t[e]=csString.prototype.charCodeAt.call(s,e);return i}function En(s){let i=new Uint8Array(s),t="";for(let e=0;e<i.byteLength;e+=1)t+=csString.fromCodePoint(i[e]);return t}function sl(s){let i=self.atob(s);return wo(i)}function il(s){let i=csArray.from(new Uint8Array(s));return csArray.prototype.join.call(csArray.prototype.map.call(i,t=>csString.prototype.padStart.call(t.toString(16),2,"0")),"")}var Ao=typeof performance!="undefined"&&!!performance.now,vn=Ao?()=>performance.now():()=>csDate.now(),rl=(()=>{var s,i;return Ao?(i=(s=performance.timing)===null||s===void 0?void 0:s.navigationStart)!==null&&i!==void 0?i:Math.floor(performance.timeOrigin):0})(),Pr=34164e6,z={now(){return Math.round(vn()+rl)},elapsed(){return vn()}};function Sn(){return Math.floor(z.now()/1e3)}function _n(){var s,i;return typeof((s=window.navigation)===null||s===void 0?void 0:s.addEventListener)=="function"&&typeof((i=window.navigation)===null||i===void 0?void 0:i.removeEventListener)=="function"}function Dt(s,i){return csString.prototype.lastIndexOf.call(s,i,0)===0}function Or(s,i){return csString.prototype.indexOf.call(s,i,s.length-i.length)!==-1}var nl=Number.MAX_SAFE_INTEGER||9007199254740991,ze={percentage(){return Math.floor(Math.random()*1e4)/100},boolean(s){return this.percentage()<s},integer(s=nl){return Math.floor(Math.random()*s)}},pi=typeof window=="undefined";function ol(){return typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof Ht.g!="undefined"?Ht.g:typeof process!="undefined"?process:Function("return this")()}var tt=ol();function rr(s,i){let t,e,r,o,a,c=null,h=g=>{let E=z.elapsed();if(!g&&c!==null){let m=i-(E-c);if(m>=1){r=tt.csSetTimeout(h,m);return}}let v=E-o;r=null,c=null,o=null,a=s.apply(t,[v,...e])},p=function(){if(t=this,e=arguments,o){c=z.elapsed();return}return o=z.elapsed(),r=tt.csSetTimeout(h,i),a};return p.flushPending=()=>{r&&(tt.csClearTimeout(r),h(!0))},p.cancel=()=>{c=null,o=null,r&&(tt.csClearTimeout(r),r=null)},p}var $e=(()=>{class s{static setGlobalService(t){s.globalService=t}constructor(t){this.name=t,this.values={}}reset(){this.values={}}flush(t=""){if(!s.globalService)return!1;let e=this.values,r=Object.keys(e);if(!r.length)return!1;let o=`${t===""?"":`${t}.`}${this.name}`,a=csArray.prototype.map.call(r,c=>({name:o,parameter:c,value:Math.round(e[c])}));return s.globalService.push(a),this.reset(),a.length>0}}return s.globalService=null,Te([W()],s.prototype,"flush",null),s})(),lt=(()=>{class s extends $e{constructor(t,e=100){super(t),this.DE=e,this.values={},e&&(this.debouncedFlush=rr(()=>this.flush(),this.DE))}count(t,e=1){$e.globalService&&(this.values[t]=(this.values[t]||0)+e,this.debouncedFlush())}}return s})(),Gs=(()=>{class s extends $e{constructor(t,e=["max","average","total","count"]){super(t),this.collecting=e,this.values={average:0,count:0,max:0,total:0}}get average(){return this.values.average}get count(){return this.values.count}get max(){return this.values.max}get total(){return this.values.total}flush(t=""){if(this.count===0)return!1;let e=Object.keys(this.values);return csArray.prototype.forEach.call(csArray.prototype.filter.call(e,r=>!csArray.prototype.some.call(this.collecting,o=>r===o)),r=>{delete this.values[r]}),super.flush(t)}push(t){this.values.count++,this.values.total+=t,this.values.max=Math.max(this.values.max,t),this.values.average=this.values.total/this.values.count}reset(){this.values={count:0,total:0,max:0,average:0}}}return s})(),Oi=(()=>{class s extends $e{constructor(t,e=["max","average","total","count"]){super(t),this.collecting=e}flush(t=""){let e=Object.keys(this.values);return csArray.prototype.forEach.call(csArray.prototype.filter.call(e,r=>!csArray.prototype.some.call(this.collecting,o=>csString.prototype.endsWith.call(r,`.${o}`))),r=>{delete this.values[r]}),super.flush(t)}add(t,e){var r,o,a,c,h,p,g;let E=v=>this.values[`${t}.${v}`];(r=(c=this.values)[h=`${t}.count`])!==null&&r!==void 0||(c[h]=0),(o=(p=this.values)[g=`${t}.total`])!==null&&o!==void 0||(p[g]=0),this.values[`${t}.count`]++,this.values[`${t}.total`]+=e,this.values[`${t}.max`]=Math.max((a=E("max"))!==null&&a!==void 0?a:0,e),this.values[`${t}.average`]=E("total")/E("count")}}return s})(),al=(()=>{class s extends $e{constructor(){super(...arguments),this.values={}}set(t,e="flags"){var r,o;$e.globalService&&((r=(o=this.values)[e])!==null&&r!==void 0||(o[e]=0),this.values[e]|=t,this.flush())}}return s})(),U={counters:{commandsFromIntegrations:new lt("commands-from-integrations"),commandsFromCSTC:new lt("commands-from-cstc"),commandsFromIframe:new lt("commands-from-iframe"),commandApplied:new lt("command-applied"),commandError:new lt("command-error"),commandMisuse:new lt("command-misuse"),CSTCSnippetUsed:new lt("cstc-snippet-used"),redactedPII:new lt("redacted-pii"),pageAnonymisation:new lt("page-anonymisation"),patchedNativeFunctions:new lt("patched-native-functions"),pureWindowState:new lt("pure-window-state"),sensitiveElements:new lt("sensitive-elements"),cspErrors:new lt("csp-errors"),networkRequests:new lt("network-requests"),webVitalsErrors:new lt("web-vitals-errors"),trackedFeatures:new lt("tracked-features"),longTasks:new Gs("long-tasks"),errors:new lt("errors"),methodPerformance:new Oi("perf"),transferSize:new Gs("transfer-size",["max","average"]),downloadTime:new Gs("download-time",["average"]),blockingTime:new Gs("blocking-time"),inpContribution:new Oi("inp-contribution"),tasks:new Oi("tasks"),availableFeatures:new al("available-features")},setService(s){$e.setGlobalService(s)}},Nr=(()=>{class s{constructor(){this.ta=0}get length(){return this.ta}get isEmpty(){return!this.Xs}pushAll(t){for(let e=0;e<t.length;e++)this.push(t[e])}push(t){this.ta++,this.un?this.un=this.un[1]=[t,void 0]:this.un=this.Xs=[t,void 0]}pop(){if(!this.Xs)return null;this.ta--;let t=this.Xs[0];return this.Xs=this.Xs[1],this.Xs||(this.un=void 0),t}forEach(t){let e=this.Xs;for(;e!=null&&e.length;)t(e[0]),e=e[1]}clear(){this.ta=0,this.Xs=this.un=void 0}}return s})(),nr=0,To=s=>{nr++,csQueueMicrotask(()=>ns(()=>{try{s()}finally{nr--}},[te.MicroTask,"queueMicrotask"]))},ii=new Nr,ri=new Nr;function bo(s,i="high"){ii.isEmpty&&ri.isEmpty&&Ro(cl),i==="high"?ri.push(wn(s)):ii.push(wn(s))}function Ro(s,i=10){i===0?To(s):csQueueMicrotask(()=>Ro(s,i-1))}function cl(){for(;!ri.isEmpty;)ri.pop()();for(;!ii.isEmpty;)ii.pop()()}function wn(s){return function(){try{s.apply(window,arguments)}catch(i){rt.critical(i)}}}var Zs="null",ve=null,Co=[],ll=()=>{var s;return pi||!!(!((s=document.body)===null||s===void 0)&&s.getAttribute("data-cs-tag-extension"))};!pi&&ll()&&(window._uxa?_uxa.push(["debugEvents",!0]):window._uxa=[["debugEvents",!0]],ve=new BroadcastChannel("cs-tag"),document.addEventListener("cs.tracking.recordingEvent",s=>{or({type:"UXA_EVENT",event:s.detail})}),ve.addEventListener("message",s=>{if(s.data.type==="CONNECT"){if(s.data.sessionId===Zs)return;Zs=s.data.sessionId,csArray.prototype.forEach.call(Co,i=>i()),ve==null||ve.postMessage({type:"CONNECTED",sessionId:Zs})}}));function hl(s){pi||(Zs!==null&&csSetTimeout(s),csSetTimeout(()=>csArray.prototype.push.call(Co,s)))}function or(s){ve==null||ve.postMessage(s)}function ar(s){var i;let t=(i=s.length)!==null&&i!==void 0?i:0,e=new csArray(t);for(let r=0;r<t;r+=1)e[r]=s[r];return e}function An(s,i){let t=s.length,e=new csArray(t);for(let r=0;r<t;r+=1)e[r]=i(s[r]);return e}function ul(s,i,t){let e=[],r=0;for(let o=0;o<s.length;o+=1){let a=i(s[o]);for(let c=0;c<a.length;c++)t(a[c],r++)}return e}function Io(s,i){let t=[];return ul(s,i,e=>csArray.prototype.push.call(t,e)),t}function Nt(s,i){if(dl(s)){let t=s.length;for(let e=0;e<t;e++)i(s[e],e)}else{let t=0,e=s.next();for(;!e.done;)i(e.value,t++),e=s.next()}}function dl(s){return s.length>=0}function fl(s,i){let t=s.length;for(let e=0;e<t;e++)if(i(s[e],e))return!0;return!1}function pl(s,i){let t=s.length,e=[];for(let r=0;r<t;r+=1){let o=s[r];i(o)&&csArray.prototype.push.call(e,o)}return e}function gl(s,i,t){let e=s.length+i.length+((t==null?void 0:t.length)||0),r=new csArray(e),o=0;for(let a=0;a<s.length;a++)r[o++]=s[a];for(let a=0;a<i.length;a++)r[o++]=i[a];if(!t)return r;for(let a=0;a<t.length;a++)r[o++]=t[a];return r}function Tn(s,i){for(let t=0;t<s.length;t++)csArray.prototype.push.call(i,s[t])}function Mr(s){let i=s instanceof Map,t=[];return s.forEach((e,r)=>csArray.prototype.push.call(t,i?[r,e]:e)),t}function ml(s){return csArray.isArray(s)&&s.length>0}var ws=(()=>{class s{constructor(t,e=""){this.name=t,this.format=e}}return s})(),qt=(()=>{class s extends ws{constructor(t){super(t,"Value: {count}"),this.count=0}increase(t=1){this.count+=t}decrease(){this.count>0&&this.count--}clear(){this.count=0}getData(){return{count:this.count}}}return s})();var bn=(()=>{class s extends ws{constructor(t){super(t,"Living intances: {instances}<br/>Added: {added}<br/>Removed: {removed}"),this.added=0,this.removed=0}get value(){return this.added-this.removed}increase(){this.added++}decrease(){this.removed++}getData(){return{added:this.added,removed:this.removed,instances:this.added-this.removed}}}return s})(),Wt=(()=>{class s extends ws{constructor(t){super(t,"Count: {count}<br/>Average: {average}ms<br/>Max: {max}ms<br/>Total: {total}ms"),this.total=0,this.count=0,this.max=0}get average(){return this.count?this.total/this.count:0}elapsed(t){return this.count++,this.max=Math.max(this.max,t),this.total+=t,t}measure(t){let e=z.elapsed();t(),this.count++;let r=z.elapsed()-e;return this.max=Math.max(this.max,r),this.total+=r,r}asyncMeasure(){let t=z.elapsed();return()=>{this.count++;let e=z.elapsed()-t;return this.max=Math.max(this.max,e),this.total+=e,e}}getData(){return{total:this.total,count:this.count,average:this.average,max:this.max}}}return s})(),yl=(()=>{class s extends ws{constructor(){super("INP","Value: {value}")}getData(){return{value:Mt.tasks.eventListener.max}}}return s})(),Mt={general:{category:"General",nbEvents:new qt("Nb of Events"),pendingTasks:new qt("Pending Tasks"),pendingEvents:new qt("Pending Tasks"),nbOfMutationObservers:new bn("Nb of Mutation Observers"),inp:new yl},mutations:{category:"Mutations",initialDOM:new Wt("Initial DOM"),pendingMutations:new qt("Nb of Mutations scheduled"),serializedMutations:new Wt("Serialized Mutations"),count:new qt("Mutation Count"),elementMutationObserved:new bn("Nb of Elements Observed by MutationObserver"),unobserveGarbageCollection:new Wt("Unobserve GC")},visibilityObserver:{category:"Visibility Observer",hiddenElements:new qt("Nb of Hidden Elements "),nbElements:new qt("Nb of  Elements")},tasks:{category:"Tasks",tasks:new qt("Tasks"),errors:new qt("Errors"),timer:new Wt("Timers"),microtask:new Wt("Microtasks"),mutationObserver:new Wt("MutationObserver"),monkeyPatch:new Wt("MonkeyPatch"),eventListener:new Wt("EventListener"),intersectionObserver:new Wt("Intersection")}};function El(){let s=null;hl(()=>{let i=o=>Object.keys(o),t=csArray.prototype.map.call(i(Mt),o=>Mt[o]),e=csArray.prototype.map.call(t,o=>csArray.prototype.filter.call(csArray.prototype.map.call(i(o),a=>o[a]),a=>a instanceof ws));or({type:"UXA_PERFORMANCE_COUNTER_SCHEMA",event:csArray.prototype.map.call(t,(o,a)=>({category:o.category,performanceCounters:csArray.prototype.map.call(e[a],c=>({name:c.name,format:c.format}))}))}),!s&&(s=csSetInterval(()=>{ns(()=>{let o=Io(An(e,a=>An(a,c=>c.getData())),a=>a);or({type:"UXA_PERFORMANCE_COUNTER",event:o})},[te.Timer,"performance-counter-interval"])},1e3))})}var te=(()=>{let s;return function(i){i.Timer="timer",i.MonkeyPatch="monkeyPatch",i.MutationObserver="mutationObserver",i.EventListener="eventListener",i.IntersectionObserver="intersectionObserver",i.MicroTask="microtask"}(s||(s={})),s})(),vt=null,vl=["click","tap","keyup","keydown","pointerup","pointerdown"];async function ns(s,i,t=null){if(vt&&i[0]!==te.MicroTask)return s();t&&(vt=t),vt||(vt={type:i[0],elapsed:0},Mt.tasks.tasks.increase());try{vt.elapsed+=Sl(s)}catch(e){Mt.tasks.errors.increase(),rt.critical(new Error(`Task error:  ${i}/${s.name}.
${e.message}
${e.stack}`,e),"TASK_ERROR")}finally{nr<=0&&(Mt.tasks[vt.type].elapsed(vt.elapsed),vt.elapsed>50&&(U.counters.longTasks.push(vt.elapsed),U.counters.blockingTime.push(vt.elapsed-50)),U.counters.tasks.add(i[0],vt.elapsed),csArray.prototype.includes.call(vl,i[1])&&U.counters.inpContribution.add(i[1],vt.elapsed),vt=null)}}function Sl(s){let i=z.elapsed();return s(),z.elapsed()-i}var Ni,_l="cs-native-frame";var de={navigatorProperties:[{propertyName:"sendBeacon",binding:navigator}],nodeProperties:["childNodes","parentNode","nextSibling","firstChild","nodeType"],elementProperties:["shadowRoot"],elementPropertiesValues:["matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector"],eventProperties:["target"],imageProperties:["src"],constructors:{Date:"csDate",JSON:"csJSON",Array:"csArray",String:"csString",URL:"csURL",MutationObserver:"csMutationObserver",screen:"csScreen",RegExp:"csRegExp"}};function Po(s,i){let t=qe(window,s);return function(e,r){return t(()=>ns(e,[i,s]),r)}}window.csSetTimeout=Po("setTimeout",te.Timer);window.csSetInterval=Po("setInterval",te.Timer);window.csQueueMicrotask=(Ni=qe(window,"queueMicrotask"))!==null&&Ni!==void 0?Ni:setTimeout;window.csClearTimeout=qe(window,"clearTimeout");window.csClearInterval=qe(window,"clearInterval");window.csFileReader=qe(window,"FileReader");(()=>{var s;let i=0;function t(r){return"cs$Symbol_"+r}function e(r){return t(r)+ ++i}e.for=t,window.csSymbol=(s=window.Symbol)!==null&&s!==void 0?s:e})();function wl(){let s=document.createElement("iframe");s.id=_l,s.setAttribute("hidden",""),s.setAttribute("title","Intentionally blank"),s.setAttribute("sandbox","allow-same-origin");let i=document.createElement("cs-native-frame-holder");if(i.setAttribute("hidden",""),document.body.appendChild(i),!!Element.prototype.attachShadow){let e=i.attachShadow({mode:"closed"});return e.innerHTML=s.outerHTML,e.firstElementChild.contentWindow}return i.innerHTML=s.outerHTML,i.firstElementChild.contentWindow}function Al(s,i){let t,e=s;for(;e&&!(t=Object.getOwnPropertyDescriptor(e,i));)e=Object.getPrototypeOf(e);return t}function Tl(s,i,t){let e=Al(s,i);if(!e)return function(){return this[i]};switch(t){case"get":return e.get;case"set":return e.set;case"value":return e.value}}function Oo(s){var i,t;Object.keys(de.constructors).forEach(r=>{window[de.constructors[r]]=s[r]instanceof Function&&s[r].prototype==null?s[r].bind(window):s[r]}),Cl(s);let e=s.MutationObserver;("Prototype"in window||Rl())&&(e=(t=(i=qe(window,"MutationObserver"))!==null&&i!==void 0?i:window.WebKitMutationObserver)!==null&&t!==void 0?t:window.MutationObserver),window.csIntersectionObserver=Rn(window.IntersectionObserver,te.IntersectionObserver),window.csMutationObserver=Rn(e,te.MutationObserver),Qe("csNode",de.nodeProperties,s.Node.prototype,"get"),Qe("csElement",de.elementProperties,s.Element.prototype,"get"),Qe("csElement",de.elementPropertiesValues,s.Element.prototype,"value",!1),Qe("csHTMLImageElement",de.imageProperties,s.HTMLImageElement.prototype,"set"),Qe("csEvent",de.eventProperties,s.Event.prototype,"get"),Qe("csNavigator",de.navigatorProperties,s.navigator,"value")}function Qe(s,i,t,e,r=!0){i.forEach(o=>{let a=typeof o!="string"&&"binding"in o,c=a?o.propertyName:o;(r||c in t)&&(window[`${s+c}`]=Tl(t,c,e),a&&(window[`${s+c}`]=window[`${s+c}`].bind(o.binding)))})}function Dr(s,i){window.CSProtectnativeFunctionsLogs=window.CSProtectnativeFunctionsLogs||{},window.CSProtectnativeFunctionsLogs[s]=i}function bl(){try{let s=wl();return s?(window.CSPureWindow=s,Oo(window.CSPureWindow),!0):!1}catch(s){return Dr("Warning",`failed to copy references from pure iframe: ${s.message}`),!1}}if(!bl())try{Oo(tt)}catch(s){Dr("Critical",`failed to copy references from window: ${s.message}`)}function Rl(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Cl(s){window.csquerySelector={1:s.Element.prototype.querySelector,9:s.Document.prototype.querySelector,11:s.DocumentFragment.prototype.querySelector},window.csquerySelectorAll={1:s.Element.prototype.querySelectorAll,9:s.Document.prototype.querySelectorAll,11:s.DocumentFragment.prototype.querySelectorAll}}function Rn(s,i){try{let t=function(e,r){return new s((a,c)=>{ns(()=>e(a,c),[i,s.name])},r)};return t.base=s,t}catch{return Dr("Warning",`failed to extends ${s.name}`),s}}var Kt=(()=>{let s;return function(i){i.ELLIPSIS="\u2026";function t(a){return csString.prototype.replace.call(a,/[.*+?^${}()|[\]\\]/g,"\\$&")}function e(a){return csString.prototype.replace.call(a,/([#;&,.+*~':"!^$[\]()<=>|/%?@`{}\\ ])/g,"\\$1")}i.escapeInvalidCharacters=e;function r(a,c,h){if("replaceAll"in csString.prototype)return csString.prototype.replaceAll.call(a,c,h);let p=new csRegExp(t(c),"g");return csString.prototype.replace.call(a,p,h)}i.stringReplaceAll=r;function o(a,c,h=""){return a.length<=c?a:csString.prototype.slice.call(a,0,c-h.length)+h}i.truncate=o}(s||(s={})),s})();function cr(s){return Kt.escapeInvalidCharacters(csString.prototype.toLowerCase.call(s.localName))}function Il(s){let i=s.getAttribute("id");return i&&Kt.escapeInvalidCharacters(i)}function dt(s){return csNodenodeType.apply(s)===1}function lr(s){return csNodenodeType.apply(s)===3}function Pl(s){return csNodenodeType.apply(s)===8}function No(s){return dt(s)&&s.localName==="a"}function kr(s){return dt(s)&&s.localName==="input"}function Mo(s){return dt(s)&&s.localName==="textarea"}function Ol(s){return dt(s)&&s.localName==="script"}function Nl(s){return dt(s)&&s.localName==="button"}function Do(s){return dt(s)&&"ownerSVGElement"in s}function ko(s){return dt(s)&&s.localName==="select"}function Ml(s){return dt(s)&&s.localName==="details"}function Dl(s){return dt(s)&&s.localName==="summary"}function kl(s){switch(csNodenodeType.apply(s)){case 9:case 11:return!0;default:return!1}}function xl(s){switch(csNodenodeType.apply(s)){case 9:case 11:case 1:return!0;default:return!1}}function Cn(s){return csNodenodeType.apply(s)===9}function Es(s){return kl(s)&&"host"in s&&"mode"in s}function xo(s){return dt(s)&&!!csElementshadowRoot.apply(s)&&Es(csElementshadowRoot.apply(s))}var As="detached";function Lo(s){let i=s,t=[i];for(;csNodeparentNode.apply(i)!==null;)i=csNodeparentNode.apply(i),csArray.prototype.push.call(t,i);return ni(i)&&csArray.prototype.push.call(t,As),{ancestors:t,selectionRoot:i}}function Ll(s){let i=s,t=[i],e=null;for(;csNodeparentNode.apply(i)!==null;)e===null&&No(i)&&(e=i),csArray.prototype.push.call(t,csNodeparentNode.apply(i)),i=csNodeparentNode.apply(i);return ni(i)&&csArray.prototype.push.call(t,As),{firstAnchorParent:e,ancestors:t,selectionRoot:i}}function ni(s){return be.isValidElement(s)}var xe=(()=>{var s,i;return(i=(s=tt.Element)===null||s===void 0?void 0:s.prototype)!==null&&i!==void 0?i:{}})(),Bt=xe.matches||xe.matchesSelector||xe.mozMatchesSelector||xe.msMatchesSelector||xe.oMatchesSelector||xe.webkitMatchesSelector,In=xe.closest,Vo=9;function Vl(s,i){return i?csArray.prototype.some.call(i,t=>Bt.call(s,t)):!1}function Ul(s,i,t){if(s===As||csNodenodeType.apply(s)===Vo)return 0;let e=t.dynamicElementNameRegex,r=!!(e!=null&&e.test(i.localName)),o=cr(i),a=0,c=i.previousElementSibling;for(;c;)(cr(c)===o||r&&(e!=null&&e.test(c.localName)))&&!Vl(c,t.reliableSelectors)&&(a+=1),c=c.previousElementSibling;return a}function jl(s,i,t){if(s===As||csNodenodeType.apply(s)===Vo)return 0;let e=0,r=i.previousElementSibling;for(;r;)Bt.call(r,t)&&(e+=1),r=r.previousElementSibling;return e}var Hl=[/\d{4}/,/^ember\d+$/],Bl="@",xr="data-cs-override-id",Fl="data-cs-dynamic-id";function Uo(s,i,t,e){let r=e.dynamicIdRegex||null,o=e.dynamicElementNameRegex,a=cr(s);if(o&&o.test(s.localName)&&(a=csString.prototype.replace.call(a,o,`$1${Bl}`)),Gl(s,t)){let v=Lr(s);return{hasUniqueIdentifier:!0,elementSelector:`${a}[${xr}="${v}"]`}}let c=Ql(s,t,e);if(c.success)return{hasUniqueIdentifier:!0,elementSelector:`${a}#UA[${c.attributeName}="${c.attributeValue}"]`};let h=zl(s,t,e);if(h)return{hasUniqueIdentifier:!0,elementSelector:`${a}#UCS[${h}]`};let p=Il(s);if(Wl(s,p,t,r))return{hasUniqueIdentifier:!0,elementSelector:`${a}#${p}`};let g=$l(s,e);if(g){let v=jl(i,s,g);return{hasUniqueIdentifier:!1,elementSelector:`${a}[${g}](${v})`}}let E=Ul(i,s,e);return{hasUniqueIdentifier:!1,elementSelector:`${a}:eq(${E})`}}function zl(s,i,t){if(t.uniqueCssSelectors){for(let e of t.uniqueCssSelectors)if(Bt.call(s,e)&&Jl(e,i))return e}}function $l(s,i){if(i.reliableSelectors){for(let t of i.reliableSelectors)if(Bt.call(s,t))return t}}function Gl(s,i){let t=Lr(s);return t&&csString.prototype.match.call(t,/^[\w-]+$/)&&Vr(xr,t,i)}function ql(s){return Lr(s)!==null}function Lr(s){return s.getAttribute(xr)}function Wl(s,i,t,e){return i&&!ql(s)&&!Yl(s,i,e)&&Kl(i,t)}function Yl(s,i,t){return s.hasAttribute(Fl)||Xl(i,t)}function Xl(s,i){let t=!1;return s&&i&&(t=i.test(s)),s&&(csArray.prototype.some.call(Hl,e=>e.test(s))||t)}function Kl(s,i){return s&&Vr("id",s,i)}function Vr(s,i,t){try{return window.csquerySelectorAll[t.nodeType].call(t,`[${s}="${i}"]`).length===1}catch(e){if(e.name!=="SyntaxError")throw e}return!1}function Jl(s,i){try{return window.csquerySelectorAll[i.nodeType].call(i,s).length===1}catch(t){if(t.name!=="SyntaxError")throw t}return!1}function Ql(s,i,t){if(!t.uniqueAttributes)return{success:!1};for(let e of t.uniqueAttributes){let r=s.getAttribute(e);if(r!==null&&Vr(e,r,i))return{attributeName:e,attributeValue:r,success:!0}}return{success:!1}}var hr=11;function oi(s,i,t){let e=csArray.prototype.shift.call(s);if(s.length===0)return Pn(e,t);let r=e,o=s[0],{elementSelector:a,hasUniqueIdentifier:c}=Uo(r,o,i,t);if(!t.fullPath&&c){let p=s[s.length-1];return`${Pn(p,t)}${a}`}let h=oi(s,i,t);return`${h?`${h}>`:""}${a}`}function Pn(s,i){if(s===As)return"|detached|";if(s.host){let{ancestors:t,selectionRoot:e}=Lo(s.host);return`${oi(t,e,i)}|shadow-root|`}return csNodenodeType.apply(s)===hr?"|fragment|":""}var jo=(()=>{class s{constructor(t){this.options=t,this.done=!1,this.path=null}getPath(){if(this.path===null)throw new Error("getPath was called before serializeElement");return this.path}isDone(){return this.done}}return s})(),Zl=(()=>{class s extends jo{constructor(){super(...arguments),this.sa=!1,this.ia=!1,this.Yc=!1}kE(t,e){return this.sa&&!(e===null&&ni(t))&&csNodenodeType.apply(t)!==hr&&!t.host}xE(t){return!t.localName}serializeElement(t,e,r){var o;if((o=this.path)!==null&&o!==void 0||(this.path=""),this.kE(t,e))return;let a=!1;e===null&&ni(t)&&(a=!0,this.done=!0);let c=this.ia&&!this.options.fullPath?"":">",h=!!t.host;if(h&&this.path&&(this.path="|shadow-root|"+c+this.path,this.Yc=!0,this.sa=!1,this.ia=!1),!h&&e===null&&csNodenodeType.apply(t)===hr){this.path="|fragment|"+c+this.path,this.done=!0;return}if(this.xE(t))return;let p=e!=null?e:"detached",{elementSelector:g,hasUniqueIdentifier:E}=Uo(t,p,r,this.options);E&&(this.ia=!0,this.sa=!this.options.fullPath);let v=`${a?`|detached|${c}`:""}${this.sa&&!E?"":g}`,w=!E&&this.ia&&!this.options.fullPath?"":this.path&&!this.Yc?">":"";this.Yc=!1,this.path=`${v}${w}${this.path}`}}return s})(),gt=(()=>{let s;return function(i){function t(){let E=[r()];return document.documentElement&&csArray.prototype.push.call(E,document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight),document.body&&csArray.prototype.push.call(E,document.body.scrollHeight,document.body.offsetHeight),Math.max(...E)}i.documentHeight=t;function e(){return document.documentElement.scrollWidth}i.documentWidth=e;function r(){return window.innerHeight}i.windowHeight=r;function o(){return window.innerWidth}i.windowWidth=o;function a(){let E=window.csScreen.width;return Be(E)&&E>0?E:window.screen.width}i.screenWidth=a;function c(){let E=window.csScreen.height;return Be(E)&&E>0?E:window.screen.height}i.screenHeight=c;function h(){return window.pageXOffset}i.windowOffsetX=h;function p(){return window.pageYOffset}i.windowOffsetY=p;function g(){return{dw:`${e()}`,dh:`${t()}`,ww:`${o()}`,wh:`${r()}`,sw:`${a()}`,sh:`${c()}`}}i.getRequestParameters=g}(s||(s={})),s})();function Qt(s,i=ft.SHOW_ALL){let t=i|ft.SHOW_ELEMENT,e=[document.createTreeWalker(s,t,null,!1)],r=On(s);r&&csArray.prototype.push.call(e,document.createTreeWalker(r,t,null,!1));let o=null;return{root:s,nextNode(){if(r){let a=r;return r=null,a}for(;e.length>0;){if(o){let p=o;return o=null,p}let c=e[e.length-1].nextNode();if(!c){csArray.prototype.pop.call(e);continue}let h=On(c);if(i&ft.SHOW_DOCUMENT_FRAGMENT&&h&&(o=h),h&&csArray.prototype.push.call(e,document.createTreeWalker(h,t,null,!1)),(Di[csNodenodeType.apply(c)]&i)!==0)return c}return null},visitAll(a){Di[csNodenodeType.apply(s)]&i&&a(s);let c=this.nextNode();for(;c;){if((Di[csNodenodeType.apply(c)]&i)===0){c=this.nextNode();continue}a(c),c=this.nextNode()}},find(a){let c;return this.visitAll(h=>a(h)&&(c=h)),c},collectAll(a){let c=[];return this.visitAll(h=>csArray.prototype.push.call(c,a?a(h):h)),c}}}function On(s){return s&&xo(s)?s.shadowRoot:null}var Mi=(()=>{var s;return(s=tt.Node)!==null&&s!==void 0?s:{}})(),ft=(()=>{var s;return(s=tt.NodeFilter)!==null&&s!==void 0?s:{}})(),Di={2:ft.SHOW_ATTRIBUTE,4:ft.SHOW_CDATA_SECTION,8:ft.SHOW_COMMENT,11:ft.SHOW_DOCUMENT_FRAGMENT,9:ft.SHOW_DOCUMENT,10:ft.SHOW_DOCUMENT_TYPE,1:ft.SHOW_ELEMENT,[Mi.ENTITY_NODE]:ft.SHOW_ENTITY,[Mi.ENTITY_REFERENCE_NODE]:ft.SHOW_ENTITY_REFERENCE,[Mi.NOTATION_NODE]:ft.SHOW_NOTATION,7:ft.SHOW_PROCESSING_INSTRUCTION,3:ft.SHOW_TEXT},Ho=!1,ur=5,qs=50;function th(s=5){Ho=rt.isPerfLoggingActive(),ur=s}function Ur(s,i){return function(){if(!Ho)return s.apply(this,arguments);let t=z.elapsed(),e=s.apply(this,arguments);if(e!=null&&e.then)e.then(()=>{let r=z.elapsed()-t;r>=ur&&U.counters.methodPerformance.add(i,r),r>qs&&U.counters.blockingTime.push(r-qs)});else{let r=z.elapsed()-t;r>=ur&&U.counters.methodPerformance.add(i,r),r>qs&&U.counters.blockingTime.push(r-qs)}return e}}var vs=function(s){return function(i,t,e){let r=e.value;e.value=Ur(r,s)}},He=(()=>{let s;return function(i){function t(){return!!Element.prototype.attachShadow}i.isSupported=t;function e(o){return o&&xo(o)?o.shadowRoot:null}i.getShadowRoot=e;function r(o){return Qt(o,NodeFilter.SHOW_DOCUMENT_FRAGMENT).collectAll(a=>a.host)}i.getAllShadowHosts=Ur(r,"getAllShadowHosts")}(s||(s={})),s})(),ki=(()=>{var s;return(s=tt.Node)!==null&&s!==void 0?s:Object})(),is=(()=>{let s;return function(i){let t="isConnected"in ki.prototype?y=>y.isConnected:y=>!y.ownerDocument||!(y.ownerDocument.compareDocumentPosition(y)&y.DOCUMENT_POSITION_DISCONNECTED);function e(y,O){for(let N=y;N;N=csNodenextSibling.apply(N))O(y)}i.forEachChild=e;function r(y){return t(y)}i.isConnected=r;function o(y,O){let N=[];for(let L of h(y,O))csArray.prototype.push.call(N,L);return N}i.getAncestors=o;let a=(y,O)=>{var N;return(N=csNodeparentNode.apply(y))!==null&&N!==void 0?N:O&&Es(y)?y.host:null};function c(y,O,N=!1){let L=y;for(;L;){if(O(L))return L;let Z=a(L,N);if(Z&&Z!==L)L=Z;else break}return null}i.findAncestor=c;function*h(y,O=!1){let N=y;for(;N;){yield N;let L=a(N,O);if(L&&L!==N)N=L;else break}}i.walkUp=h;function p(y,O){if(y===O||O.contains(y))return!0;let N=i.getParentElement(y);return N&&N!==y?p(N,O):!1}i.isDescendantOf=p;function g(y){var O;return y.parentElement?y.parentElement:i.getRootNode(y)?(O=i.getRootNode(y))===null||O===void 0?void 0:O.host:null}i.getParentElement=g;function E(y,O=document){let N=ar(window.csquerySelectorAll[O.nodeType].call(O,y)),L=He.getAllShadowHosts(O);for(let Z of L){let ot=He.getShadowRoot(Z);if(!ot)continue;let $t=ar(window.csquerySelectorAll[ot.nodeType].call(ot,y));csArray.prototype.push.call(N,...$t)}return N}i.findAllElements=E,i.getRootNode=(()=>{if("getRootNode"in ki.prototype)return(N,L)=>N.getRootNode(L);function y(N){let L=O(N);return Es(L)?y(L.host):L}function O(N){return csNodeparentNode.apply(N)!=null?O(csNodeparentNode.apply(N)):N}return(N,L)=>typeof L=="object"&&!!L.composed?y(N):O(N)})();function v(y){return y==="transparent"||/^(rgba|hsla)\(\d+, \d+%?, \d+%?, 0\)$/.test(y)}function m(y){let O=y.getBoundingClientRect();return O.right+gt.windowOffsetX()<0||O.bottom+gt.windowOffsetY()<0}function w(y){var O,N;if(((O=y.checkVisibility)===null||O===void 0?void 0:O.call(y,{checkOpacity:!0,checkVisibilityCSS:!0}))===!1)return!0;if(!y.offsetParent){if(!y.getBoundingClientRect)return rt.warn(`SUP-11432: Element doesn't have getBoundingClientRect. Node: ${y instanceof ki} Ctor: ${(N=y==null?void 0:y.constructor)===null||N===void 0?void 0:N.name}`),!1;let ot=y.getBoundingClientRect();if(ot.width===0&&ot.height===0)return!0}let L=window.getComputedStyle(y);return L?L.display==="none"||L.visibility==="hidden"||L.visibility==="collapse"||L.opacity==="0"||L.filter==="opacity(0)"||L.width==="0px"&&L.height==="0px"||v(L.color):!0}i.isHiddenByCSS=w;function P(y){if(w(y))return!0;let N=g(y);return N!=null&&P(N)}i.areAncestorsHiddenByCSS=P;function V(y){let O=null,N=y;do if(w(N))O=N;else break;while(N=g(N));return O}i.getTopAncestorHiddenByCSS=V;function T(y){let O=A(y);return O!==null&&!y.contains(O)&&!O.contains(y)}function A(y){let O=y.getBoundingClientRect(),N=O.left+.5*O.width,L=O.top+.5*O.height;return I(document,N,L)}i.getTopElement=A;function M(y){if(!y.getBoundingClientRect)return null;let O=y.getBoundingClientRect(),N=O.x+O.width/2,L=O.y+O.height/2;return i.getTopElementFromPoint(document,N,L)}i.getElementOnTop=M;function I(y,O,N){let L=y.elementFromPoint(O,N);if(!L)return null;let Z=He.getShadowRoot(L);return Z&&Z!==i.getRootNode(document.body)&&Z!==y?I(Z,O,N):L}i.getTopElementFromPoint=I;function b(y){return!m(y)&&!w(y)&&!T(y)}i.isVisibleInDocument=b;function k(y){return w(y)?!1:D(y)}i.isVisibleInViewportInForeground=k;function D(y){let O=A(y);return O===null?!1:y===O?!0:yt(y)?y.textContent!==""&&O.contains(y):y.contains(O)}i.isInViewPort=D;function G(y,O,N){let L=y.getAttributeNS(O,N);return L===""?y.hasAttributeNS(O,N)?L:null:L}i.getAttributeNS=G;function nt(y){return!!(y.hasAttribute("tabIndex")||y.getAttribute("contentEditable")==="true"||No(y)&&y.hasAttribute("href")||(ko(y)||Mo(y)||kr(y)||Nl(y))&&!y.hasAttribute("disabled")||Ml(y)||Dl(y))}i.isElementFocusable=nt;function yt(y){return y.localName==="span"||y.localName==="a"||y.localName==="b"||y.localName==="i"||y.localName==="button"||y.localName==="input"||y.localName==="label"||y.localName==="cite"||y.localName==="small"||y.localName==="strong"||y.localName==="code"||y.localName==="abbr"||y.localName==="em"||y.localName==="dfn"||y.localName==="time"||y.localName==="output"||y.localName==="object"||y.localName==="sub"}i.isInlineElement=yt;function At(y){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>y(),{once:!0}):csSetTimeout(y)}i.onDocumentLoaded=At}(s||(s={})),s})(),eh=(()=>{class s{constructor(t){this.LE=t}run(t){let e=[...this.LE],r=is.getAncestors(t,!1),o=r[r.length-1];for(;e.length>0&&r.length>0;){let a=csArray.prototype.shift.call(r),c=r[0]||null;if(this.VE(e,a,c,o),this.UE(e),e.length===0)break;r.length===0&&a.host&&(r=is.getAncestors(a.host,!1),o=r[r.length-1])}}VE(t,e,r,o){for(let a of t)a.serializeElement(e,r,o)}UE(t){for(let e=0;e<t.length;e++)t[e].isDone()&&(csArray.prototype.splice.call(t,e,1),e--)}}return s})(),sh=(()=>{class s extends jo{serializeElement(t){var e;if((e=this.path)!==null&&e!==void 0||(this.path=""),(t==="detached"||t.localName==="body")&&(this.done=!0,this.path.length>0))return;let r=this.jE(t);if(r+=r.length>0?"|":"",this.path.length+r.length>this.options.hierarchyMaxLength){this.done=!0;return}this.path=r+this.path}jE(t){if(!t.localName)return"";let e=`@${t.localName};`;return e+=this.HE(t.id),t.classList&&(e+=this.BE(csArray.from(t.classList))),t.attributes&&(e+=this.FE(t)),e}HE(t){return t?`#${t};`:""}BE(t){return t.length>0?`.${csArray.prototype.join.call(csArray.prototype.sort.call(t),";.")};`:""}zE(t,e){var r,o;return((o=(r=this.options).isAttributeSensitive)===null||o===void 0?void 0:o.call(r,t,e))||csArray.prototype.indexOf.call(this.options.attributeIgnoreTokens,e)!==-1||Do(t)&&csString.prototype.indexOf.call(e,"data-")===-1&&e!=="aria-label"||kr(t)&&e==="value"}$E(t,e){return this.options.useAnonymization&&!this.options.allWhitelistedAttributes.has(t)||e.length>this.options.attrMaxLength}GE(t){let e={};for(let r of csArray.from(t.attributes))this.zE(t,r.name)||(e[r.name]=r.value);return e}FE(t){var e,r;if(!((r=(e=this.options).isNodeSensitive)===null||r===void 0)&&r.call(e,t))return"";let o=Object.entries(this.GE(t));return csArray.prototype.join.call(csArray.prototype.sort.call(csArray.prototype.map.call(csArray.prototype.filter.call(o,([a])=>a.length<this.options.attrMaxLength),([a,c])=>this.$E(a,c)?`[${a}]`:`[${a}=${c}]`)),";")+(o.length>0?";":"")}}return s})(),be=(()=>{let s;return function(i){i.INVALID_ELEMENT="INVALID_ELEMENT";function t(c){return!!c&&"localName"in c&&"getAttribute"in c&&"hasAttribute"in c&&"parentNode"in c}i.isValidElement=t;function e(c,h,p={fullPath:!1,dynamicIdRegex:null}){let g=a(c);if(g===document)return{path:"",hierarchy:""};if(!t(g))return{path:i.INVALID_ELEMENT,hierarchy:i.INVALID_ELEMENT};let E=new Zl(p),v=new sh(h);return new eh([E,v]).run(g),{path:E.getPath(),hierarchy:v.getPath()}}i.getElementPathAndHierarchy=e;function r(c,h={fullPath:!1,dynamicIdRegex:null}){let p=a(c);if(p===document)return"";if(!t(p))return i.INVALID_ELEMENT;let{ancestors:g,selectionRoot:E}=Lo(p);return oi(g,E,h)}i.getElementPath=r;function o(c,h={fullPath:!1,dynamicIdRegex:null}){let p=a(c);if(p===document)return{path:"",firstAnchorParent:null};if(!t(p))return{path:i.INVALID_ELEMENT,firstAnchorParent:null};let{firstAnchorParent:g,ancestors:E,selectionRoot:v}=Ll(p);return{path:oi(E,v,h),firstAnchorParent:g}}i.getElementPathAndFirstAnchorParent=o;function a(c){return c&&"jquery"in c&&c.length===1?c[0]:c}}(s||(s={})),s})();window.CSPathComputation=window.CSPathComputation||be;var Bo=["t.contentsquare.net","clicktale"],ih=s=>{var i;if(typeof s.filename=="string"&&csArray.prototype.some.call(Bo,t=>csString.prototype.indexOf.call(s.filename,t)>-1)&&!(csString.prototype.indexOf.call(s.filename,"blob")>-1&&(s.message==null?void 0:csString.prototype.indexOf.call(s.message,"importScripts"))>-1)){let t=new Error(s.message);t.stack=(i=s.error)===null||i===void 0?void 0:i.stack,j.critical(t)}};window.addEventListener("error",ih);var j=(()=>{class s{constructor(){}static whiteListFilename(t){csArray.prototype.push.call(Bo,t)}static setStrategy(t){s.cr=t}static computeIsActive(t){s.Fe=ze.boolean(t),s.Fe?s.Xc=ze.boolean(10):s.Xc=!1}static isLoggingActive(){return s.Fe}static getStrategy(){return s.cr}static debug(t,e=""){s.Fe&&this.cr.send(t,e,Q.debug)}static warn(t,e=!0,r=""){var o;U.counters.errors.count("warning"),s.Fe&&e&&this.cr.send(t,r,Q.warn),(o=window.UXAnalytics.Console)===null||o===void 0||o.warn(t)}static implementation(t,e=""){U.counters.errors.count("implementation"),s.Fe&&this.cr.send(t,e,Q.implementation)}static error(t,e=""){var r;U.counters.errors.count("error"),s.Fe&&this.cr.send(t,e,Q.error),(r=window.UXAnalytics.Console)===null||r===void 0||r.error(t)}static critical(t,e=""){U.counters.errors.count("critical"),this.cr.send(t,e,Q.critical)}static tryToExecute(t,e){return function(...r){try{let o=e.apply(this,r);return K(tt.Promise)&&o instanceof tt.Promise?o.then(a=>a,a=>s.error(Zt(a)?a:new Error(a),t)):o}catch(o){try{s.error(Zt(o)?o:new Error(o),t)}catch{}}}}static isPerfLoggingActive(){return s.Xc}}return s.Fe=!1,s.Xc=!1,s})();var dr=!1;function rh(){dr=!0}function ye(){return(s,i,t)=>{if(t){let e=t.value;t.value=function(r,o){(r==null?void 0:r.isTrusted)===!1&&dr||e.call(this,r,o)}}else{let e=s[i];if(typeof e!="function")return;s[i]=function(r,...o){(r==null?void 0:r.isTrusted)===!1&&dr||e.call(this,r,o)}}}}function nh(s){if(document!=null&&document.prerendering){document.addEventListener("prerenderingchange",s,{once:!0});return}s()}var oh=(()=>{class s{constructor(t,e){this.ra=t,this.Yd=e}init(){this.Xd=this.ra!==this.ra.top,this.Kd=this.Yd.isWebView&&this.ra===this.ra.top,this.Yd.iframesTracking&&this.Xd||this.Kd?this.Jd=!1:this.Jd=!0}isInIframeContext(){return this.Xd}isTopWindowTracker(){return this.Jd}isInWebViewContext(){return this.Kd}}return s})(),Et=!pi&&document.createElement("a"),ah=/(:443|:80)$/;function ch(s,i){return csArray.prototype.some.call(i,t=>Or(s,`.${t}`)||s===t||t==="")}function lh(s){return s[0]==="/"?s:`/${s}`}function Nn(s){return csString.prototype.replace.call(s,ah,"")}function Fo(s){return!Et||!Dt(s,"http://")&&!Dt(s,"https://")?null:(Et.href=s,{hash:Et.hash,host:Nn(Et.host),hostname:Et.hostname,href:Et.href,origin:Et.origin?Et.origin:Nn(`${Et.protocol}//${Et.host}`),pathname:lh(Et.pathname),port:Et.port,protocol:Et.protocol,search:Et.search})}var ut=(()=>{let s;return function(i){i.Discovery="discovery",i.Stop="stop",i.RecordingContext="recordingContext",i.SensitiveStatus="sensitiveStatus",i.RecordingEvent="recordingEvent",i.EndOfBufferedMessages="endOfBufferedMessages",i.ChildLogMessage="childLogMessage",i.AnalysisEvent="analysisEvent",i.JavascriptError="javascriptError",i.ApiError="apiError",i.Assets="assets",i.DetailedApiError="detailedApiError",i.EmerchandisingMessage="emerchandisingMessage",i.Commands="commands",i.IntegrationCallback="integrationCallback",i.StaticResource="staticResource",i.TrackingContextResultMessage="trackingContextResultMessage",i.TrackingContextRequestMessage="trackingContextRequestMessage",i.CustomError="customError"}(s||(s={})),s})();var hh=(()=>{class s{setContext(t,e){this.O=t,this.R=e}getVisitorService(){return this.O}getSessionService(){return this.R}}return s})();function Mn(){}function fr(s,i){return csString.prototype.lastIndexOf.call(s,i,0)===0}function uh(s,i){return csString.prototype.indexOf.call(s,i,s.length-i.length)!==-1}var jr=(()=>{let s;return function(i){function t(e){return csArray.prototype.join.call(csArray.prototype.map.call(Object.keys(e),r=>`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`),"&")}i.toQuery=t}(s||(s={})),s})(),zo=(()=>{class s{constructor(t,e){this.domainUri=t,this.path=e,this.beforeRequestCallbacks=[],this.afterRequestCallbacks=[]}setRequestParametersProviders(...t){this.requestParametersProviders=t}before(t){csArray.prototype.push.call(this.beforeRequestCallbacks,t)}after(t){csArray.prototype.push.call(this.afterRequestCallbacks,t)}retrieveParameters(){return this.requestParametersProviders?csArray.prototype.reduce.call(csArray.prototype.map.call(this.requestParametersProviders,t=>t.getRequestParameters()),(t,e)=>({...t,...e})):{}}}return s})(),rs=(()=>{class s extends zo{constructor(t,e){super(t,e)}send(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,r=>r());let t=this.retrieveParameters();this.Kc(t);let e=jr.toQuery(t);this.qE(e),csArray.prototype.forEach.call(this.afterRequestCallbacks,r=>r())}qE(t){let e=new window.Image(1,1);e.onload=Mn,e.onerror=Mn,csHTMLImageElementsrc.call(e,`${this.domainUri}${this.path?`/${this.path}`:""}?${t}`)}Kc(t){t.r=csString.prototype.slice.call(`${Math.random()}`,2,8)}}return s})();var dh=(()=>{class s{constructor(t,e){this.As=t,this.WE=e}init(){this.Ts=new rs(this.As.getLoggerUri()),this.Ts.setRequestParametersProviders(this,this.WE)}send(t){this.na=t,this.Ts.send()}getRequestParameters(){return{a:this.na.app,l:this.na.level,m:this.na.message,s:this.na.stacktrace}}}return s})(),fh=/[a-zA-Z0-9._%+-]+(?:@|%40|%2540)[a-zA-Z0-9.%-_]+((?:\.|%2[eE])[a-zA-Z0-9-]+)+/g,ph=/[a-zA-Z0-9+_-](?:@|%40|%2540)/,gh="CS_ANONYMIZED_EMAIL",xi="([-A-Za-z0-9+/=_]|=[^=]|={3,})+",mh=new csRegExp(`(ey${xi}\\.ey${xi}\\.${xi})`,"g"),yh="CS_ANONYMIZED_JWT",Eh=/[0-9]{4}/,vh=/(^|[^a-zA-Z0-9*.,-])([45*][0-9*]{3}([ -]?)[0-9*]{4}\3[0-9*]{4}\3[0-9*]{4})($|[^a-zA-Z0-9*.,-])/g,Sh="CS_ANONYMIZED_PII",_h="\u2022",wh=/\d/g,Ah=/([+(]{0,2}\d[-_ ()/]{0,4}){9,}/,Th=/(?:\d{1,3}\.){3}\d{1,3}/,bh=/(?:[A-F0-9]{1,4}:){7}[A-F0-9]{1,4}/,fe=(()=>{let s;return function(i){function t(g){return csString.prototype.replace.call(g,fh,gh)}i.replaceEmail=t;function e(g){return csString.prototype.replace.call(g,mh,yh)}i.replaceJWT=e;function r(g,E){return csString.prototype.replace.call(g,vh,E)}i.replaceCreditCardNumber=r;function o(g){return csString.prototype.replace.call(g,wh,_h)}i.replaceDigits=o;function a(g){return Th.test(g)||bh.test(g)}i.mayHaveIPAddress=a;function c(g){return Ah.test(g)}i.mayHaveNumberSequence=c;function h(g){return Eh.test(g)}i.mayHaveCreditCardNumber=h;function p(g){return ph.test(g)}i.mayHaveEmail=p}(s||(s={})),s})(),Ts=(()=>{class s{hasPII(t,e){let r=this.checkAndAnonymizePII(t,e);return t!==r}checkAndAnonymizePII(t,e=null){let r=this.YE(this.Jc(t));return e===!0?r=this.XE(r):e===!1&&(r=this.KE(r)),r}anonymizePII(t){return this.Jc(t)}anonymizeJwt(t){return fe.replaceJWT(t)}anonymizeFields(t,e){return csArray.prototype.forEach.call(e,r=>{t[r]=this.Jc(t[r])}),t}Jc(t){if(fe.mayHaveEmail(t)){let e=fe.replaceEmail(t);return e!==t&&U.counters.redactedPII.count("email"),e}return t}XE(t){return fe.replaceDigits(t)}KE(t){return fe.mayHaveNumberSequence(t)?fe.replaceDigits(t):t}YE(t){return fe.mayHaveCreditCardNumber(t)?fe.replaceCreditCardNumber(t,(e,r,o,a,c)=>{if(csString.prototype.indexOf.call(o,"*")===-1){let p=a.length?csArray.prototype.join.call(csString.prototype.split.call(o,a),""):o;if(!this.JE(p))return e;U.counters.redactedPII.count("cc")}else U.counters.redactedPII.count("cc-partial");return`${r}${Sh}${c}`}):t}JE(t){let e=parseInt(t[t.length-1]),r=0;for(let o=t.length-2;o>=0;o--){let a=parseInt(t[o]);o%2===0&&(a*=2),r+=Math.floor(a/10)+a%10}return 10-r%10===e}}return s})(),$o="15.163.0";function Hr(){return{v:$o}}var Rh=(()=>{class s{constructor(t,e){this.E=t,this.D=e}getRequestParameters(){return{d:`${z.now()}`,p:this.D.anonymizePII(window.location.href),...this.E.getRequestParameters(),...Hr()}}}return s})(),Ch="uxa",Dn=5,Ih="No stacktrace",Go="snippet-",qo="implementation-snippet-",kn=(()=>{let s;return function(i){i.IMPLEMENTATION="implementation",i.DYNAMIC="dynamic"}(s||(s={})),s})(),Ph=(()=>{class s{constructor(t,e,r){this.lr=e,this.D=new Ts,this.Qd=Pi[Q.warn],this.Qd=Pi[t.minLogLevel||Q.warn],this.Ts=r||new dh(t,new Rh(t,this.D)),this.Zd={[Q.debug]:[],[Q.warn]:[],[Q.implementation]:[],[Q.error]:[],[Q.critical]:[]},this.oa={implementation:{},dynamic:{}},this.Ts.init()}send(t,e="",r=Q.warn){if(!this.QE(r,e))return;csArray.prototype.push.call(this.Zd[r],e||"");let o={message:this.ZE(t,e),stacktrace:this.sv(t),app:Ch,level:r};this.Ts.send(o)}ZE(t,e){let r=Zt(t)?this.D.anonymizePII(t.message||t.toString()):t;return e&&(r+=` ErrorCode: ${e}`),r}sv(t){return Zt(t)?`${t.stack||Ih} ${this.tf()}`:this.tf()}tf(){let t=this.lr.getVisitorService(),e=t==null?void 0:t.getVisitor();if(!e)return"No context";let r=this.lr.getSessionService(),o=r&&r.getSession(),a={userId:e.id,sessionNumber:e.visitsCount,pageNumber:o&&o.pageNumber};return csJSON.stringify(a)}QE(t,e){if(Pi[t]<this.Qd)return!1;if((e==null?void 0:csString.prototype.indexOf.call(e,qo,0))===0)return this.ef(e,kn.IMPLEMENTATION);if((e==null?void 0:csString.prototype.indexOf.call(e,Go,0))===0)return this.ef(e,kn.DYNAMIC);let r=this.Zd[t];return r.length>=Dn?!1:!(e&&csArray.prototype.some.call(r,o=>o===e))}ef(t,e){return t in this.oa[e]?this.oa[e][t]>=Dn?!1:(this.oa[e][t]+=1,!0):(this.oa[e][t]=1,!0)}}return s})();var Oh=(()=>{let s;return function(i){function t(){return typeof window.CSJavascriptBridge=="object"&&typeof window.CSJavascriptBridge.optIn=="function"&&typeof window.CSJavascriptBridge.optOut=="function"&&typeof window.CSJavascriptBridge.sendEvent=="function"&&typeof window.CSJavascriptBridge.sendDynamicVar=="function"&&typeof window.CSJavascriptBridge.sendTransaction=="function"}i.isCSJavascriptBridgeDefined=t;function e(){if(typeof window.CSJavascriptBridge.getVersion=="function")try{let D=window.CSJavascriptBridge.getVersion();if(Ct(D))return D}catch{j.warn("an error occurred when calling getVersion")}return null}i.getBridgeVersion=e;function r(){typeof window.CSJavascriptBridge.onWebviewTrackingReady=="function"&&window.CSJavascriptBridge.onWebviewTrackingReady()}i.notifyIsReadyForTracking=r;function o(D,G){window.CSJavascriptBridge.identify&&window.CSJavascriptBridge.identify(D,csJSON.stringify(G))}i.identify=o;function a(){window.CSJavascriptBridge.resetIdentity&&window.CSJavascriptBridge.resetIdentity()}i.resetIdentity=a;function c(D){window.CSJavascriptBridge.addUserProperties&&window.CSJavascriptBridge.addUserProperties(csJSON.stringify(D))}i.addUserProperties=c;function h(D){window.CSJavascriptBridge.addEventProperties&&window.CSJavascriptBridge.addEventProperties(csJSON.stringify(D))}i.addEventProperties=h;function p(D){window.CSJavascriptBridge.removeEventProperty&&window.CSJavascriptBridge.removeEventProperty(D)}i.removeEventProperty=p;function g(){window.CSJavascriptBridge.clearEventProperties&&window.CSJavascriptBridge.clearEventProperties()}i.clearEventProperties=g;function E(D){window.CSJavascriptBridge.addPageviewProperties&&window.CSJavascriptBridge.addPageviewProperties(csJSON.stringify(D))}i.addPageviewProperties=E;function v(D){window.CSJavascriptBridge.removePageviewProperty&&window.CSJavascriptBridge.removePageviewProperty(D)}i.removePageviewProperty=v;function m(){window.CSJavascriptBridge.clearPageviewProperties&&window.CSJavascriptBridge.clearPageviewProperties()}i.clearPageviewProperties=m;function w(D){window.CSJavascriptBridge.sendEvent(csJSON.stringify(D))}i.sendAnalysisEvent=w;function P(D){if(window.CSJavascriptBridge.sendSREvent)for(let G of D.events)window.CSJavascriptBridge.sendSREvent(csJSON.stringify(G))}i.sendSREvent=P;function V(D){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendLog&&window.CSJavascriptBridge.sendLog(csJSON.stringify(D))}i.sendLog=V;function T(){window.CSJavascriptBridge.optIn()}i.sendOptIn=T;function A(){window.CSJavascriptBridge.optOut()}i.sendOptOut=A;function M(D,G){window.CSJavascriptBridge.sendDynamicVar(D,G)}i.sendDynamicVariable=M;function I(D,G,nt){window.CSJavascriptBridge.sendTransaction(D,G,nt)}i.sendTransaction=I;function b(D,G){if(window.CSJavascriptBridge.sendAssets){let nt=csJSON.stringify(D);window.CSJavascriptBridge.sendAssets(nt,G||null)}else window.CSJavascriptBridge.sendSRAssets&&window.CSJavascriptBridge.sendSRAssets(csArray.prototype.map.call(D,nt=>nt.assetId))}i.sendAssets=b;function k(D){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendNativeSREvent&&window.CSJavascriptBridge.sendNativeSREvent(csJSON.stringify(D))}i.sendNativeSREvent=k}(s||(s={})),s})(),Nh=(()=>{class s{constructor(){}send(t,e,r=Q.warn){let o={message:t,errorCode:e,level:r};Oh.sendLog(o)}}return s})();var Mh=["id","class","style","srcset","sizes","rel","type","width","height","media","align","dir","bgcolor","color","border","colspan","rowspan","cols","rows","size","start","slot","data-cs-override-id"],Wo=s=>{let i=new Set(Mh);return csArray.prototype.forEach.call(s,t=>{i.add(t)}),i};function Li(s){return s?Dh(s):null}function Dh(s){try{let i=/^\/(.*)\/([gim]*)$/.exec(s);if(i){let[,t,e]=i;return new csRegExp(`^${t}$`,e)}return new csRegExp(`^${s}$`)}catch{return null}}var kh=/^\d+\.\d+(?:\.\d+)?$/,xh=s=>{if(!kh.test(s))return;let[i,t,e]=csArray.prototype.map.call(csString.prototype.split.call(s,"."),Number);return{major:i,minor:t,patch:!e||Number.isNaN(e)?0:e}},Lh=(s,i)=>s.major!==i.major?s.major-i.major:s.minor!==i.minor?s.minor-i.minor:s.patch-i.patch,Vh=(s,i)=>Lh(s,i)>=0,Uh=1,pr=(()=>{let s;return function(i){i[i.Disabled=0]="Disabled",i[i.ButtonAndLinkOnly=1]="ButtonAndLinkOnly",i[i.Enabled=2]="Enabled"}(s||(s={})),s})(),ai=(()=>{let s;return function(i){i[i.Automatic=1]="Automatic",i[i.Manual=2]="Manual"}(s||(s={})),s})(),jh=(()=>{class s{constructor(t){var e,r,o,a,c,h,p,g,E,v,m,w,P;this.isChild=!1,this.useFastDOM=!!t.useFastDOM,this.isSMB=(e=t.isSMB)!==null&&e!==void 0?e:!1,this.trackerDomain=t.trackerDomain,this.dynamicConfDomain=t.dynamicConfDomain,this.settingsFileUri=t.settingsFileUri,this.tagDomain=t.tagDomain,this.loggerDomain=t.ed,this.minLogLevel=t.logLevel,this.projectId=t.projectId,this.smbConfig=t.smbConfig,this.status=t.status,this.hostnames=t.hostnames,this.iframesTracking=!!t.iframesTracking,this.crossDomainTracking=!!t.crossDomainTracking,this.crossDomainSingleIframeTracking=!!t.crossDomainSingleIframeTracking,this.consentRequired=!!t.consentRequired,this.allowSubdomains=!!t.allowSubdomains,this.visitorCookieTimeout=t.visitorCookieTimeout||Pr,this.sampleRate=t.sampleRate,this.replayRecordingRate=t.replayRecordingRate,this.validationRate=t.validationRate,this.lastTrackingDraw=t.lastTrackingDraw||1,this.useHttps=!0,this.eMerchandisingEnabled=t.eMerchandisingEnabled,this.jsErrorsEnabled=t.jsErrorsEnabled,this.collectionEnabled=!!(!((a=(r=t.collectionEnabled)!==null&&r!==void 0?r:(o=t.smbConfig)===null||o===void 0?void 0:o.record)!==null&&a!==void 0)||a),this.apiErrors={enabled:(c=t.apiErrorsEnabled)!==null&&c!==void 0?c:0,...t.apiErrors},this.customErrors={enabled:(h=t.customErrorsEnabled)!==null&&h!==void 0?h:0,...t.customErrors},this.jsCustomErrorsEnabled=t.jsCustomErrorsEnabled,this.triggerSessionReplayEnabled=t.triggerSessionReplayEnabled,this.triggerSessionReplayRegex=Li(t.triggerSessionReplayRegex),this.dynamicIdRegex=t.dynamicIdRegex?new csRegExp(t.dynamicIdRegex):null,this.whitelistedAttributes=t.whitelistedAttributes||[],this.replayRecordingUnmaskedUrlRegex=Li(t.replayRecordingUnmaskedUrlRegex),this.replayRecordingMaskedUrlRegex=Li(t.replayRecordingMaskedUrlRegex),this.replayRecordingMaskedUrlRegexRules=t.replayRecordingMaskedUrlRegexRules||null,this.replayRecordingUnmaskedUrlRegexRules=t.replayRecordingUnmaskedUrlRegexRules||null,this.anonymisationMethod=t.anonymisationMethod||null,this.tagDeploymentMode=t.tagDeploymentMode,this.dualCollectionTagDomain=t.dualCollectionTagDomain||null,this.ptcDomain=t.ptcDomain||null,this.ptcGuid=t.ptcGuid||null,this.secureCookiesEnabled=!!t.secureCookiesEnabled,this.ptcSha512=t.ptcSha512||null,this.ptcSnapshotPath=t.ptcSnapshotPath||null,this.emitDebugEvents=!1,this.staticResourceManagerDomain=t.staticResourceManagerDomain||null,this.malkaRecordingDomain=t.malkaRecordingDomain||null,this.textVisibilityEnabled=t.textVisibilityEnabled,this.experimental=t.experimental||{},this.malkaEtrEnabled=!!t.malkaEtrEnabled,this.malkaUrlEnabled=!!t.malkaUrlEnabled,this.recordingUrlRules=(p=t.recordingUrlRules)!==null&&p!==void 0?p:[],this.cookielessTrackingEnabled=t.cookielessTrackingEnabled,this.customHashIdEnabled=!!t.customHashIdEnabled,this.encryptionEnabled=!!t.recordingEncryptionEnabled,this.encryptionPublicKey=t.recordingEncryptionPublicKey||null,this.pathComputationRules=t.pathComputationRules||{},t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex===""&&(this.pathComputationRules.dynamicElementNameRegex=null),t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex&&(this.pathComputationRules.dynamicElementNameRegex=new csRegExp(t.pathComputationRules.dynamicElementNameRegex)),this.asyncSerializerEnabled=!!t.asyncSerializerEnabled,this.encryptionPublicKeyId=t.recordingEncryptionPublicKeyId,this.pendingInactivityTimeout=t.pendingInactivityTimeout||5e3,this.accessibilityEnabled=!!t.accessibilityEnabled,this.useStaticResourceManager=!!t.useStaticResourceManager,t.taskSchedulerOptions&&(this.taskSchedulerOptions={...t.taskSchedulerOptions,enabled:!!t.taskSchedulerOptions.enabled}),this.uxaDomain=t.uxaDomain,this.environment=((g=t.uxaDomain)===null||g===void 0?void 0:g.indexOf("staging"))>-1?"staging":"production",this.performanceTimingOptions=t.performanceTimingOptions,this.replayConsentRequiredForSession=!!t.replayConsentRequiredForSession,this.isWebView=!1,t.displayAdOptions&&t.displayAdOptions.length&&(this.displayAdOptions=t.displayAdOptions),t.voc&&(this.voc={...t.voc,enabled:!!t.voc.enabled}),this.vocData=t.vocData,t.heapEnvironment&&(this.heapEnvironment=t.heapEnvironment),t.implementations&&t.implementations.length&&(this.implementations=t.implementations),this.eventsApiEnabled=!!t.eventsApiEnabled,this.anonymizeDigits=(E=t.anonymizeDigits)!==null&&E!==void 0?E:null,this.isHeapPresent=window.heap!==void 0,this.recordTargetingRules=(v=t.recordTargetingRules)!==null&&v!==void 0?v:[],this.paProxyDomainUri=t.paProxyDomainUri||null,this.emitRecordInfoEvents=t.emitRecordInfoEvents!==!1,this.collectHierarchy=!!t.collectHierarchy,this.collectSubmit=!!t.collectSubmit,this.collectTargetText=(m=t.collectTargetText)!==null&&m!==void 0?m:pr.Disabled,this.identityEncryptionKey=t.identityEncryptionKey||null,this.tagVerificationDomain=t.tagVerificationDomain,this.tagVerificationEnabled=!!t.tagVerificationEnabled,this.trackingCodeVerified=!!t.trackingCodeVerified,this.quotas=(w=t.quotas)!==null&&w!==void 0?w:null,this.startMode=(P=t.startMode)!==null&&P!==void 0?P:ai.Automatic,this.eventEnricher=t.eventEnricher||null}getTrackerUri(){return`${this.Ks()}://${this.trackerDomain}`}getRecordingUri(){return`${this.Ks()}://${this.malkaRecordingDomain}`}getLoggerUri(){return`${this.Ks()}://${this.loggerDomain}`}getMetricsUri(){return`${this.Ks()}://${this.loggerDomain}/metrics`}getStaticResourceManagerUri(){return`${this.Ks()}://${this.staticResourceManagerDomain}`}getVerificationEndpoint(){return`${this.Ks()}://${this.tagVerificationDomain}`}getSettingsFileUri(){return this.settingsFileUri?this.settingsFileUri:`${this.Ks()}://${this.dynamicConfDomain}/${this.projectId}.json`}isQuotaEnabled(){return this.isSMB||this.quotas!==null}getPaProxyDomainUri(){return`${this.Ks()}://${this.paProxyDomainUri}`}Ks(){return this.useHttps?"https":"http"}isProjectActive(){return this.status===Uh}processOptionOverrides(t){t&&t.forEach&&t.forEach(([e,...r])=>{if(e==="setOption"){let[o,a]=r;this.iv(o,a)}})}iv(t,e){t==="trackerDomain"&&(this.trackerDomain=e),t==="loggerDomain"&&(this.loggerDomain=e),t==="malkaRecordingDomain"&&(this.malkaRecordingDomain=e),t==="staticResourceManagerDomain"&&(this.staticResourceManagerDomain=e),t==="minLogLevel"&&(this.minLogLevel=e),t==="useHttps"&&(this.useHttps=!!e),t==="isWebView"&&(this.isWebView=e),t==="dynamicConfDomain"&&(this.dynamicConfDomain=e),t==="paProxyDomainUri"&&(this.paProxyDomainUri=e),t==="startMode"&&Be(e)&&csArray.prototype.includes.call(Object.values(ai),e)&&(this.startMode=e)}getRequestParameters(){return{pid:`${this.projectId}`}}updateDynamicFields(t,e){t==="emitDebugEvents"&&(this.emitDebugEvents=e),t==="minLogLevel"&&(this.minLogLevel=e)}isCsSideloadingHeap(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="cs_sideloads_heap"&&!this.isHeapPresent}isHeapSideloadsCs(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="heap_sideloads_cs"}isHeapSideloadsCsV5(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="heap_sideloads_cs"&&this.sf()}isHeapSideloadsStartDataCollection(){if(this.isHeapSideloadsCs()){if(this.sf())return!0;let t=xh(this.getHeapVersion()||"");if(t&&t.major===4&&Vh(t,{major:4,minor:23,patch:5}))return!0}return!1}sf(){var t;return typeof((t=window.heap)===null||t===void 0?void 0:t.getUserId)=="function"}getHeapVersion(){var t,e,r,o,a,c;return typeof((t=window.heap)===null||t===void 0?void 0:t.getConfig)=="function"&&((o=(r=(e=window.heap)===null||e===void 0?void 0:e.getConfig())===null||r===void 0?void 0:r.sdk)===null||o===void 0?void 0:o.version)||((c=(a=window.heap)===null||a===void 0?void 0:a.version)===null||c===void 0?void 0:c.heapJsVersion)||void 0}isCsCrosswritingHeap(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="cs_crosswrites_heap"}getHeapStorageLocation(){var t,e;return(e=(t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_storage_location)!==null&&e!==void 0?e:null}getHeapWebAppUri(){return this.getHeapStorageLocation()==="eu-west-1"?"https://eu.heapanalytics.com":"https://heapanalytics.com"}isCollectTargetTextEnabled(){return this.isSMB||this.collectTargetText!==pr.Disabled}isNetworkDetailsEnabled(){return this.performanceTimingOptions?this.performanceTimingOptions.withResource||this.performanceTimingOptions.withNavigation:!1}hasRecordingUrlRules(){var t;return!!(!((t=this.recordingUrlRules)===null||t===void 0)&&t.length)}hasTargetingRules(){var t;return!!(!((t=this.recordTargetingRules)===null||t===void 0)&&t.length)}getHeapEnvId(){return this.heapEnvironment?this.heapEnvironment.env_id:""}}return s})();function X(s,i,t,e){var r=arguments.length,o=r<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,t):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,i,t,e);else for(var c=s.length-1;c>=0;c--)(a=s[c])&&(o=(r<3?a(o):r>3?a(i,t,o):a(i,t))||o);return r>3&&o&&Object.defineProperty(i,t,o),o}function Hh(){let s=new MutationObserver(i=>{i.forEach(t=>{Nt(t.removedNodes,e=>{e instanceof HTMLElement&&e.tagName==="CS-NATIVE-FRAME-HOLDER"&&(U.counters.pureWindowState.count("iframe-deletion"),rt.warn("<cs-native-frame-holder> deleted"),s.disconnect())})})});s.observe(document.body,{childList:!0})}function xn(s){return typeof s!="function"?!1:s.toString().indexOf("[native code]")!==-1}function Bh(){(!xn(MutationObserver)||!xn(MutationObserver.prototype.observe))&&U.counters.patchedNativeFunctions.count("MutationObserver")}function Fh(){try{window.CSPureWindow&&Hh(),Bh()}catch{}}var et=(()=>{let s;return function(i){i.CURRENT_DOMAIN="CURRENT_DOMAIN";function t(h){let g=new csRegExp(`(^|;)[ ]*${h}=([^;]*)`).exec(document.cookie);return g?decodeURIComponent(g[2]):null}i.get=t;function e(h,p,g,E,v,m){let w=encodeURIComponent(`${p}`),P=g===i.CURRENT_DOMAIN?void 0:g,V=r(E),T=V?`;expires=${V.toUTCString()}`:"",A=";path=/",M=St(P)?`;domain=${P}`:"",I=`${h}=${w}${T}${A}${M}`;return K(v)&&v!==Se.NotSet&&(I=`${I};SameSite=${v}`),K(m)&&m===Ut.Yes&&(I=`${I};Secure`),document.cookie=I,!0}i.set=e;function r(h){return Ct(h)?new csDate(z.now()+h):h}i.toExpireDate=r;function o(h,p){t(h)&&e(h,"",p,new csDate(0)),t(h)&&e(h,"",p,new csDate(0),Se.None,Ut.Yes)}i.remove=o;function a(){return document.cookie.length>0}i.isCookiePresent=a;function c(h,p){let g="_cs_root-domain",E=t(g);if(E!==null&&E!=="1")return E;let v=csString.prototype.split.call(window.location.hostname,"."),m=csArray.prototype.pop.call(v);for(;v.length&&(E===null||E==="1");)m=csArray.prototype.join.call([csArray.prototype.pop.call(v),m],"."),e(g,m,m,void 0,h,p),E=t(g);return o(g,m),m}i.getRootDomain=c}(s||(s={})),s})(),zh=(()=>{let s;return function(i){function t(){return window.navigator.vendor&&csString.prototype.indexOf.call(window.navigator.vendor,"Apple")>-1&&window.navigator.appVersion&&csString.prototype.indexOf.call(window.navigator.appVersion,"Version/12.")>-1}i.browserIsSafariV12=t}(s||(s={})),s})(),Se=(()=>{let s;return function(i){i.None="None",i.Lax="Lax",i.NotSet="X"}(s||(s={})),s})(),Ut=(()=>{let s;return function(i){i[i.Yes=1]="Yes",i[i.No=0]="No"}(s||(s={})),s})(),gi=(()=>{class s{constructor(t,e,r){this.E=t,this.C=e,this.Pi=r,this.Qc=!1,this.rf=Se.NotSet,this.Zc=Ut.No}getSameSiteFlag(){return this.rf}getSecureFlag(){return this.Zc}getDomain(){return this.tl}getRootDomain(){return this.nf}init(){if(this.E.cookielessTrackingEnabled)return;let t=this.rv(),e=this.nv();this.Qc=this.ov(t,e),this.Qc?(this.rf=t,this.Zc=e):this.E.secureCookiesEnabled&&this.C.getUrlProtocol()==="https:"&&(this.Zc=Ut.Yes),this.nf=this.av(),this.tl=this.cv(this.nf)}ov(t,e){return zh.browserIsSafariV12()?!1:(et.set(s.COOKIE_TEST_FOR_SAME_SITE,"Test same site",s.CURRENT_DOMAIN,void 0,t,e),et.get(s.COOKIE_TEST_FOR_SAME_SITE)?(et.remove(s.COOKIE_TEST_FOR_SAME_SITE,s.CURRENT_DOMAIN),!0):!1)}rv(){return this.C.getUrlProtocol()==="http:"?Se.Lax:this.Pi.isSameSiteNoneSecureNeeded()||this.E.crossDomainTracking?Se.None:Se.Lax}nv(){return this.C.getUrlProtocol()==="http:"?Ut.No:this.E.secureCookiesEnabled||this.E.crossDomainTracking||this.Pi.isSameSiteNoneSecureNeeded()?Ut.Yes:Ut.No}isSameSiteSupported(){return this.Qc}set(t,e,r,o){let a=et.toExpireDate(r),c=o?Ut.Yes:this.getSecureFlag();et.set(t,e,this.tl,a,this.getSameSiteFlag(),c)}get(t){let r=new csRegExp(`(^|;)[ ]*${t}=([^;]*)`).exec(document.cookie);return r?decodeURIComponent(r[2]):null}delete(t,e){let r=e||this.tl;et.remove(t,r)}av(){let t=this.Pi.isSameSiteNoneSecureNeeded()&&this.isSameSiteSupported(),e=t?Se.None:void 0,r=t?Ut.Yes:void 0;return et.getRootDomain(e,r)}cv(t){return this.E.allowSubdomains?t:et.CURRENT_DOMAIN}}return s.CURRENT_DOMAIN="CURRENT_DOMAIN",s.COOKIE_TEST_FOR_SAME_SITE="_cs_same_site",s})(),Ze="_cs_t",Ln="1",$h=(()=>{class s{constructor(t,e){this.Pt=t,this.E=e,this.aa=!1,this.ca=!1}init(){if(!this.E.cookielessTrackingEnabled&&this.Pt.isTopWindowTracker()&&"cookie"in document){if(!this.Pt.isInIframeContext()&&et.isCookiePresent()){this.aa=!0,this.ca=!1;return}if(et.set(Ze,Ln,et.CURRENT_DOMAIN),et.get(Ze)!==null){this.aa=!0,this.ca=!1,et.remove(Ze,et.CURRENT_DOMAIN);return}et.set(Ze,Ln,et.CURRENT_DOMAIN,void 0,Se.None,Ut.Yes),et.get(Ze)!==null&&(this.aa=!0,this.ca=!0,et.remove(Ze,et.CURRENT_DOMAIN))}}areCookiesEnabled(){return this.aa}isSameSiteNoneSecureNeeded(){return this.ca}}return s})();function Gh(){let s="CSSessionStorageTest";try{return sessionStorage.setItem(s,s),sessionStorage.getItem(s)!==s?!1:(sessionStorage.removeItem(s),!0)}catch{return!1}}var qh=(()=>{class s{constructor(t,e){this.E=t,this.Pi=e}canTrack(){return this.E.isProjectActive()&&this.lv()&&this.of()&&this.hv()}canTrackInChild(){return this.E.isProjectActive()&&this.uv()&&(this.of()||this.fv())}hv(){return this.E.cookielessTrackingEnabled?Gh():this.Pi.areCookiesEnabled()}of(){return ch(window.location.hostname,this.E.hostnames)}lv(){return!this.af()&&this.pv()}uv(){return!this.af()&&this.gv()}fv(){return window.location.protocol==="about:"&&window.location.hostname===""}af(){return"visibilityState"in document&&document.visibilityState==="prerender"}pv(){return this.cf()&&this.mv()}gv(){return this.cf()}mv(){try{return!!window.localStorage}catch{return!1}}cf(){return"pageXOffset"in window&&"pageYOffset"in window&&"onpagehide"in window&&"JSON"in window&&"parse"in window.csJSON&&"stringify"in window.csJSON&&"addEventListener"in window&&"removeEventListener"in window&&"Node"in window&&"filter"in csArray.prototype&&"forEach"in csArray.prototype&&"querySelectorAll"in document&&"now"in csDate&&"keys"in Object&&"performance"in window&&"Map"in window&&"Set"in window}}return s})(),Yo=":";function Vn(s){let i=[],t=Wh(s),e=csString.prototype.split.call(t,"/");for(let r of e)Dt(r,Yo)?csArray.prototype.push.call(i,{key:r,value:`CS_ANONYMIZED_${csString.prototype.toUpperCase.call(csString.prototype.slice.call(r,1))}`}):csArray.prototype.push.call(i,{key:r,value:null});return i}function Wh(s){let i=s;return Dt(s,"/")&&(i=csString.prototype.substring.call(i,1)),Or(s,"/")&&(i=csString.prototype.slice.call(i,0,-1)),i}var Yh=/\b((?:profile|user|last|first|primary|primary(?:[/_+-]|%20)?last)(?:[/_+-]|%20)?(?:name)[/=])[^#;?&/]+/gi,Xh="$1CS_ANONYMIZED_NAME",Kh=(()=>{class s{constructor(t){this.D=t}anonymizeUrl(t,e={}){let r=e.maskingPatterns||[],o=e.partialMaskingPatterns||[],a=this.D.anonymizePII(t);if(a=this.D.anonymizeJwt(a),e.maskNames){let p=a;a=this.dn(a),a!==p&&(U.counters.redactedPII.count("name"),U.counters.redactedPII.count("name-in-url"))}let c=this.yv(a,r);if(c!==a)return U.counters.redactedPII.count("url"),c;let h=this.Ev(a,o);return h!==a&&U.counters.redactedPII.count("url"),h}removeQueryString(t){let{path:e,queryString:r}=this.sl(t);return r!==""?`${e}?`:e}sl(t){let e=csString.prototype.indexOf.call(t,"?"),r,o="";return e!==-1?(r=csString.prototype.slice.call(t,0,e),o=csString.prototype.slice.call(t,e,t.length)):r=t,{path:r,queryString:o}}yv(t,e){if(e.length===0)return t;let{path:r,queryString:o}=this.sl(t),a=csString.prototype.split.call(r,"/");for(let c of e){let h=this.vv(a,c);if(h!==null)return`${h}${o}`}return t}vv(t,e){if(t.length<e.length)return null;let r=[];for(let o=0;o<t.length;o++){let a=t[o];if(o>=e.length){csArray.prototype.push.call(r,a);continue}let c=e[o].key;if(this.lf(c)){let h=e[o].value;csArray.prototype.push.call(r,h);continue}if(a===c){csArray.prototype.push.call(r,a);continue}return null}return csArray.prototype.join.call(r,"/")}Ev(t,e){if(e.length===0)return t;let{path:r,queryString:o}=this.sl(t),a=csString.prototype.split.call(r,"/");for(let c of e)a=this.Sv(a,c);return`${csArray.prototype.join.call(a,"/")}${o}`}Sv(t,e){let r=[],o=0,c=t[0]==="http:"||t[0]==="https:"?2:0;for(let h=0;h<t.length;h++){let p=t[h],g=e[o].key;if(this.lf(g)&&h>=c){let E=e[o].value;csArray.prototype.push.call(r,p.length>0?E:""),o++,o===e.length&&(o=0);continue}if(p===g){csArray.prototype.push.call(r,p),o++,o===e.length&&(o=0);continue}for(let E=0;E<o;E++){let v=h-o+E;r[v]=t[v]}o=0,csArray.prototype.push.call(r,p)}for(let h=0;h<o;h++){let p=t.length-o+h;r[p]=t[p]}return r}lf(t){return Dt(t,Yo)}dn(t){return csString.prototype.replace.call(t,Yh,Xh)}}return s})(),Jh="spki",Un="RSA-OAEP",Qh="SHA-256",jn="AES-CTR",Zh="SHA-1",Hn=190,ps=(()=>{let s;return function(i){var t;let e=!1,r=null,o,a=typeof TextEncoder!="undefined"?new TextEncoder:null,c;i.crypto=(t=tt.crypto)===null||t===void 0?void 0:t.subtle,i.MAX_DIGEST_INPUT_SIZE=100;function h(){return!e}i.isKeyImported=h;function p(){return r}i.getCryptoKey=p;function g(){var I,b;return((b=(I=tt.self.crypto)===null||I===void 0?void 0:I.subtle)===null||b===void 0?void 0:b.encrypt)!=null&&tt.self.CryptoKey!=null}i.isSupported=g;async function E(I){o=i.crypto.importKey(Jh,sl(I),{name:Un,hash:Qh},!1,["encrypt"]).catch(()=>(e=!0,null)),r=await o,o=void 0,r||rt.warn(`Fail to import public key '${I}'`)}i.importKey=E;async function v(I){if(!g()||e)return null;await o;let b=wo(I);b.byteLength>Hn&&(b=b.slice(0,Hn));try{let k=await i.crypto.encrypt({name:Un},r,b);return En(k)}catch{return null}}i.asymmetricEncrypt=v;async function m(I,b){if(!g()||e)return null;let k={counter:b.initializationVector,name:jn,length:64},D=a.encode(I);try{let G=await i.crypto.encrypt(k,b.cryptoKey,D);return En(G)}catch{return null}}i.symmetricEncrypt=m;async function w(I){let b=await P(I);if(!b)throw new Error("Export secret failed");let k=await v(b);if(!k)throw new Error("Encrypt secret failed");return k}i.encryptSecret=w;async function P(I){var b;if(!g())return null;try{return(b=(await i.crypto.exportKey("jwk",I)).k)!==null&&b!==void 0?b:null}catch{return null}}async function V(){if(!g()||e)return null;try{return{cryptoKey:await i.crypto.generateKey({name:jn,length:128},!0,["encrypt","decrypt"]),initializationVector:tt.crypto.getRandomValues(new Uint8Array(16))}}catch{return null}}i.generateSymmetricKey=V;function T(I){c=I}i.setDigestSalt=T;async function A(I){I=csString.prototype.toLocaleLowerCase.call(csString.prototype.trim.call(I)),c&&(I=`${I}:${c}`);let b=a.encode(I);try{let k=await i.crypto.digest(Zh,b);return il(k)}catch{return null}}i.digest=A;function M(){return tt.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"])}i.generateKeyPair=M}(s||(s={})),s})(),Yt=(()=>{let s;return function(i){i.REGEX="regex",i.START="start",i.NOT_START="not-start",i.END="end",i.NOT_END="not-end",i.CONTAIN="contain",i.NOT_CONTAIN="not-contain",i.EXACT="exact",i.NOT_EXACT="not-exact"}(s||(s={})),s})(),pe=(()=>{let s;return function(i){i.START="start",i.NOT_START="not-start",i.END="end",i.NOT_END="not-end",i.CONTAIN="contain",i.NOT_CONTAIN="not-contain",i.EXACT="exact",i.NOT_EXACT="not-exact"}(s||(s={})),s})(),Me=(()=>{let s;return function(i){i.replayRecordingUnmaskedUrlRegex="replayRecordingUnmaskedUrlRegex",i.replayRecordingMaskedUrlRegex="replayRecordingMaskedUrlRegex",i.replayRecordingUnmaskedUrlRegexRules="replayRecordingUnmaskedUrlRegexRules",i.replayRecordingMaskedUrlRegexRules="replayRecordingMaskedUrlRegexRules"}(s||(s={})),s})(),Br=(()=>{class s{constructor(){this.il=[]}setRegexRules(t){this.il=csArray.prototype.filter.call(csArray.prototype.map.call(t,e=>this._v(e)),e=>e!==null)}evaluateUrl(t){return csArray.prototype.some.call(this.il,e=>this.hf(t,e))}getMatchingRules(t){return csArray.prototype.map.call(csArray.prototype.filter.call(this.il,e=>this.hf(t,e)),e=>e.ruleInput)}hf(t,e){var r,o;let a=this.wv(t,e);return!this.Av(e)||!this.Tv(e)?!1:!!(e!=null&&e.notOperator?!(!((r=e.regex)===null||r===void 0)&&r.test(a)):!((o=e.regex)===null||o===void 0)&&o.test(a))}Av(t){let e=new csDate,r=t.startDate&&t.startDate>e,o=t.endDate&&t.endDate<e;return!r&&!o}Tv(t){let e=t.samplingRate!==100,r=e&&ze.boolean(t.samplingRate);return!e||r}ha(t){return!Dt(t,"http://")&&!Dt(t,"https://")?`https://${t}`:t}wv(t,e){let r=Fo(this.ha(t));return r?e.ignoreQueryParams&&e.ignoreURIFragments?`${r.origin}${r.pathname}`:e.ignoreQueryParams?`${r.origin}${r.pathname}${r.hash}`:e.ignoreURIFragments?`${r.origin}${r.pathname}${r.search}`:t:t}ua(t){return t!=null&&t.ignoreCaseSensitivity?"i":""}_v(t){let e=null,r=!1;switch(t.operator){case pe.NOT_START:case Yt.NOT_START:r=!0;case pe.START:case Yt.START:e=new csRegExp(`^${t.value}`,this.ua(t));break;case pe.NOT_END:case Yt.NOT_END:r=!0;case pe.END:case Yt.END:e=new csRegExp(`${t.value}$`,this.ua(t));break;case pe.NOT_CONTAIN:case Yt.NOT_CONTAIN:r=!0;case pe.CONTAIN:case Yt.CONTAIN:case Yt.REGEX:e=new csRegExp(`${t.value}`,this.ua(t));break;case pe.NOT_EXACT:case Yt.NOT_EXACT:r=!0;case pe.EXACT:case Yt.EXACT:e=new csRegExp(`^${t.value}$`,this.ua(t));break;default:rt.warn(`compileRegexRule, unknown operator: ${t.operator}`)}if(e===null)return null;let o=t.startDate?this.uf(t.startDate):void 0,a=t.endDate?this.uf(t.endDate):void 0;return{regex:e,ignoreQueryParams:t.ignoreQueryParams,ignoreURIFragments:t.ignoreURIFragments,notOperator:r,samplingRate:t.samplingRate!==void 0?t.samplingRate:100,startDate:o,endDate:a,ruleInput:t}}uf(t){let e=new csDate(t);return isNaN(e.getTime())?void 0:e}}return s})(),H=(()=>{let s;return function(i){i[i.RESIZE=0]="RESIZE",i[i.SCROLL=1]="SCROLL",i[i.MOUSEMOVE=2]="MOUSEMOVE",i[i.MOUSEDOWN=3]="MOUSEDOWN",i[i.MOUSEUP=4]="MOUSEUP",i[i.CLICK=5]="CLICK",i[i.MOUSEOVER=6]="MOUSEOVER",i[i.MOUSEOUT=7]="MOUSEOUT",i[i.CHANGE=10]="CHANGE",i[i.FOCUSIN=11]="FOCUSIN",i[i.FOCUSOUT=12]="FOCUSOUT",i[i.TAP=14]="TAP",i[i.KEYDOWN=15]="KEYDOWN",i[i.KEYUP=16]="KEYUP",i[i.COMMAND=17]="COMMAND",i[i.PERFORMANCE=19]="PERFORMANCE",i[i.DRAG=20]="DRAG",i[i.FLICK=21]="FLICK",i[i.KEYBOARD_NAVIGATION=22]="KEYBOARD_NAVIGATION",i[i.ZOOM=23]="ZOOM",i[i.VIEWPORT_SCALE=24]="VIEWPORT_SCALE",i[i.TEXT_HIGHLIGHT=25]="TEXT_HIGHLIGHT",i[i.DEAD_CLICK=30]="DEAD_CLICK",i[i.DEAD_ZOOM=31]="DEAD_ZOOM",i[i.PAGE_RELOAD=32]="PAGE_RELOAD",i[i.THRASHED_CURSOR=33]="THRASHED_CURSOR",i[i.BLANK_PAGE=34]="BLANK_PAGE",i[i.EXTERNAL_EVENT=35]="EXTERNAL_EVENT",i[i.SUBMIT=36]="SUBMIT",i[i.CUSTOM_EVENT=37]="CUSTOM_EVENT"}(s||(s={})),s})(),_e=(()=>{let s;return function(i){i.APPCUES="appcues",i.CHAMELEON="chameleon",i.CONTENTSQUARE="contentsquare",i.SEGMENT="segment",i.WEB="web"}(s||(s={})),s})();function tu(s){return s.tgtHM!==void 0}function Xo(s){return s.tgt!==void 0}function eu(s){return s.tgtLk!==void 0}function su(s){return s.x!==void 0&&s.y!==void 0}function iu(s){return s===_e.APPCUES||s===_e.CHAMELEON||s===_e.CONTENTSQUARE||s===_e.SEGMENT||s===_e.WEB}var ru=Math.pow(2,31);function nu(s,i=0){let h=i>>>0,p=s.length;for(let m=0;m<p-3;m+=4){let w=(csString.prototype.charCodeAt.call(s,m)&255|(csString.prototype.charCodeAt.call(s,m+1)&255)<<8|(csString.prototype.charCodeAt.call(s,m+2)&255)<<16|(csString.prototype.charCodeAt.call(s,m+3)&255)<<24)>>>0;w=Math.imul(w,3432918353),w=w<<15|w>>>17,w=Math.imul(w,461845907),h^=w,h=h<<13|h>>>19,h=Math.imul(h,5)+3864292196}let g=0,E=p&3,v=p-E;switch(E){case 3:g^=(csString.prototype.charCodeAt.call(s,v+2)&255)<<16;case 2:g^=(csString.prototype.charCodeAt.call(s,v+1)&255)<<8;case 1:g^=csString.prototype.charCodeAt.call(s,v)&255,g=Math.imul(g,3432918353),g=g<<15|g>>>17,g=Math.imul(g,461845907),h^=g}return h^=p,h^=h>>>16,h=Math.imul(h,2246822507),h^=h>>>13,h=Math.imul(h,3266489909),h^=h>>>16,h>>>0}function Ko(s){return nu(s)+ru>>>0}var Fr=(()=>{class s{constructor(){this.listeners=[]}addListener(t){csArray.prototype.push.call(this.listeners,t)}}return s})(),gs="|iframe|",ou=(()=>{class s extends Fr{constructor(t,e,r,o){super(),this.bv=t,this.Rv=e,this.Cv=r,this.Iv=o}emitIframeEvent(t,e,r){if(this.Pv(e)&&t===null){j.error(`iframeEventEmitter received event ${e} with null iframe, content:${csJSON.stringify(r)}`);return}switch(e){case ut.ChildLogMessage:this.Ov(r);break;case ut.AnalysisEvent:{let o=r,a=this.bv.transformEvent(t,o);a.isUserEvent?this.Nv(a.event):this.Mv(a.event);break}case ut.RecordingEvent:{let o=r,a=this.Iv.transformEvents(t,o);if(a.events.length===0)return;a.containsUserEvent?this.Dv(a.events):this.kv(a.events);break}case ut.JavascriptError:this.xv(r);break;case ut.ApiError:this.Lv(r);break;case ut.DetailedApiError:this.Uv(r);break;case ut.CustomError:this.jv(r);break;case ut.EmerchandisingMessage:{let o=this.Cv.transformEvent(t,r);this.Hv(o);break}case ut.Commands:{let o=this.Rv.transformEvent(t,r);this.Bv(o);break}case ut.IntegrationCallback:this.Fv(r);break;case ut.StaticResource:this.zv(r);break;case ut.TrackingContextRequestMessage:this.$v(r);break;default:j.error(`Parent received unknown data type from iframe : ${csJSON.stringify(r)}`)}}Pv(t){let e=[ut.AnalysisEvent,ut.RecordingEvent,ut.EmerchandisingMessage,ut.Commands];return csArray.prototype.indexOf.call(e,t)!==-1}Ov(t){let{message:e,errorCode:r,level:o}=t;switch(o){case Q.debug:j.debug(e,r);break;case Q.warn:j.warn(e,!0,r);break;case Q.implementation:j.implementation(e,r);break;case Q.error:j.error(e,r);break;case Q.critical:j.critical(e,r);break}}Nv(t){for(let e of this.listeners)e.onIframeAnalysisUserEvent&&e.onIframeAnalysisUserEvent(t)}Mv(t){for(let e of this.listeners)e.onIframeAnalysisBrowserEvent&&e.onIframeAnalysisBrowserEvent(t)}Dv(t){for(let e of this.listeners)e.onIframeRecordingUserEvent&&e.onIframeRecordingUserEvent(t)}kv(t){for(let e of this.listeners)e.onIframeRecordingBrowserEvent&&e.onIframeRecordingBrowserEvent(t)}xv(t){for(let e of this.listeners)e.onIframeJavascriptError&&e.onIframeJavascriptError(t)}Lv(t){for(let e of this.listeners)e.onIframeApiError&&e.onIframeApiError(t)}Uv(t){for(let e of this.listeners)e.onIframeDetailedApiError&&e.onIframeDetailedApiError(t)}Hv(t){for(let e of this.listeners)e.onIframeEmerchandisingMessage&&e.onIframeEmerchandisingMessage(t)}Bv(t){for(let e of this.listeners)e.onIframeCommands&&e.onIframeCommands(t)}Fv(t){for(let e of this.listeners)e.onIframeIntegrationCallback&&e.onIframeIntegrationCallback(t)}zv(t){for(let e of this.listeners)e.onIframeStaticResource&&e.onIframeStaticResource(t)}$v(t){for(let e of this.listeners)e.onTrackingContextRequestCallback&&e.onTrackingContextRequestCallback(t)}jv(t){for(let e of this.listeners)e.onIframeCustomError&&e.onIframeCustomError(t)}}return s})(),au=(()=>{class s{constructor(t,e,r){this.tt=t,this.df=e,this.ff=r}transformEvent(t,e){this.Gv(t,e.event);let r=this.tt.getElementPath(t);return this.qv(r,e.event),this.Wv(e.event),e}Gv(t,e){if(su(e)){let r=t.getBoundingClientRect();e.x=Math.round(r.left+e.x+gt.windowOffsetX()),e.y=Math.round(r.top+e.y+gt.windowOffsetY())}}qv(t,e){Xo(e)&&(e.tgt=`${t}${gs}${e.tgt}`),tu(e)&&(e.tgtHM=`${t}${gs}${e.tgtHM}`,this.df||(e.tgtHMH=Ko(e.tgtHM))),eu(e)&&(e.tgtLk=`${t}${gs}${e.tgtLk}`)}Wv(t){!this.df&&this.ff&&this.ff.enhanceAnalysisEvent(null,t)}}return s})(),cu=(()=>{class s{constructor(t){this.tt=t}transformEvent(t,e){let r=this.tt.getElementPath(t);return{iframePath:e.iframePath?`${r}${gs}${e.iframePath}`:r,commands:e.commands}}}return s})(),lu=(()=>{class s{constructor(t){this.tt=t}transformEvent(t,e){if(e.products.length===0)return e;let r=this.tt.getElementPath(t),o=csArray.prototype.map.call(e.products,a=>({...a,targetPath:`${r}${gs}${a.targetPath}`}));return{...e,products:o}}}return s})(),hu=1,Bn=csSymbol("nodeIdentifier");function Jo(s){let i=s[Bn];return i!=null?i:s[Bn]=hu++}var De=(()=>{let s;return function(i){i[i.MUTATION_INSERT=1]="MUTATION_INSERT",i[i.MUTATION_REMOVE=2]="MUTATION_REMOVE",i[i.MUTATION_ATTRIBUTE=3]="MUTATION_ATTRIBUTE",i[i.MUTATION_CHARACTER_DATA=4]="MUTATION_CHARACTER_DATA",i[i.INITIAL_DOM=5]="INITIAL_DOM",i[i.SCROLL=6]="SCROLL",i[i.CLICK=8]="CLICK",i[i.RESIZE=9]="RESIZE",i[i.INPUT_CHECKABLE=10]="INPUT_CHECKABLE",i[i.INPUT_SELECT=11]="INPUT_SELECT",i[i.INPUT_TEXT=12]="INPUT_TEXT",i[i.HASH_CHANGE=13]="HASH_CHANGE",i[i.UNANONYMIZED_CONSENT_GRANTED=14]="UNANONYMIZED_CONSENT_GRANTED",i[i.UNANONYMIZED_CONSENT_WITHDRAWN=15]="UNANONYMIZED_CONSENT_WITHDRAWN",i[i.MOUSE_OVER=16]="MOUSE_OVER",i[i.VISIBILITY_CHANGE=17]="VISIBILITY_CHANGE",i[i.STYLESHEET_RULE_INSERT=18]="STYLESHEET_RULE_INSERT",i[i.STATIC_RESOURCE_URL=19]="STATIC_RESOURCE_URL",i[i.PERFORMANCE_TIMINGS=20]="PERFORMANCE_TIMINGS",i[i.ATTACH_SHADOW=22]="ATTACH_SHADOW",i[i.STYLESHEET_CSS_TEXT_UPDATE=23]="STYLESHEET_CSS_TEXT_UPDATE",i[i.JAVASCRIPT_ERROR=26]="JAVASCRIPT_ERROR",i[i.PAGE_EVENT=27]="PAGE_EVENT",i[i.API_ERROR=28]="API_ERROR",i[i.TEXT_VISIBILITY=29]="TEXT_VISIBILITY",i[i.MUTATION_ENCRYPTED_CHARACTER_DATA=30]="MUTATION_ENCRYPTED_CHARACTER_DATA",i[i.INPUT_ENCRYPTED_TEXT=31]="INPUT_ENCRYPTED_TEXT",i[i.KEY_DOWN=32]="KEY_DOWN",i[i.KEY_UP=33]="KEY_UP",i[i.CLIPBOARD_COMMAND=34]="CLIPBOARD_COMMAND",i[i.STYLESHEET_RULE_DELETE=37]="STYLESHEET_RULE_DELETE",i[i.USER_IDENTIFIER=38]="USER_IDENTIFIER",i[i.TOUCH_START=41]="TOUCH_START",i[i.TOUCH_MOVE=42]="TOUCH_MOVE",i[i.TOUCH_END=43]="TOUCH_END",i[i.GESTURE_RECOGNITION=44]="GESTURE_RECOGNITION",i[i.POINTER_DOWN=47]="POINTER_DOWN",i[i.POINTER_MOVE=48]="POINTER_MOVE",i[i.POINTER_UP=49]="POINTER_UP",i[i.CUSTOM_ERROR=50]="CUSTOM_ERROR",i[i.CUSTOM_ELEMENT_REGISTRATION=54]="CUSTOM_ELEMENT_REGISTRATION",i[i.REGISTER_ADOPTED_STYLE_SHEET=60]="REGISTER_ADOPTED_STYLE_SHEET",i[i.SET_ADOPTED_STYLE_SHEETS=61]="SET_ADOPTED_STYLE_SHEETS",i[i.ADOPTED_STYLESHEET_RULE_INSERT=62]="ADOPTED_STYLESHEET_RULE_INSERT",i[i.ADOPTED_STYLESHEET_RULE_DELETE=63]="ADOPTED_STYLESHEET_RULE_DELETE",i[i.SCREEN_RESIZE=65]="SCREEN_RESIZE",i[i.RESOURCE_HASHES=66]="RESOURCE_HASHES",i[i.PERFORMANCE_NAVIGATION_TIMING=67]="PERFORMANCE_NAVIGATION_TIMING",i[i.PERFORMANCE_RESOURCE_TIMING=68]="PERFORMANCE_RESOURCE_TIMING",i[i.RECORDING_INFO_EVENT=72]="RECORDING_INFO_EVENT",i[i.TEXT_REF=73]="TEXT_REF",i[i.TOUCH_CANCEL=74]="TOUCH_CANCEL",i[i.MUTATION_MOVE=75]="MUTATION_MOVE",i[i.STYLESHEET_RULE_UPDATE=76]="STYLESHEET_RULE_UPDATE",i[i.ADOPTED_STYLESHEET_RULE_UPDATE=77]="ADOPTED_STYLESHEET_RULE_UPDATE",i[i.VIDEO_PLAY=78]="VIDEO_PLAY",i[i.VIDEO_PAUSE=79]="VIDEO_PAUSE",i[i.VIDEO_SEEK=80]="VIDEO_SEEK",i[i.ADOPTED_STYLESHEET_DISABLED=98]="ADOPTED_STYLESHEET_DISABLED",i[i.STYLESHEET_DISABLED=99]="STYLESHEET_DISABLED",i[i.DOM_INITIAL_STATE=102]="DOM_INITIAL_STATE",i[i.DOM_PATCH_STATE=103]="DOM_PATCH_STATE",i[i.DEBUG=999]="DEBUG"}(s||(s={})),s})();var uu=(()=>{class s{constructor(){this.Yv={clientX:2,clientY:3},this.Xv={clientX:1,clientY:2},this.Kv=[De.POINTER_DOWN,De.POINTER_MOVE,De.POINTER_UP],this.Jv=[De.TOUCH_START,De.TOUCH_MOVE,De.TOUCH_END]}transformEvents(t,e){if(!is.isConnected(t))return e.events=csArray.prototype.filter.call(e.events,c=>c.type!==De.VISIBILITY_CHANGE),e.events.length===0||(j.warn(`IframeRecordingEventsTransformer received event ${ut.RecordingEvent}
        from disconnected iframe, content:${csJSON.stringify(e.events)}`),e.events=[]),e;let r=Jo(t),o=null;csArray.prototype.some.call(e.events,c=>this.pf(c)||this.gf(c))&&(o=t.getBoundingClientRect());for(let c of e.events)this.pf(c)?this.Qv(o,c):this.gf(c)&&this.Zv(o,c),c.context=c.context&&c.context.length>0?`${r}/${c.context}`:`${r}`;return e}Zv(t,e){this.mf(this.Xv,t,e)}Qv(t,e){this.mf(this.Yv,t,e)}mf(t,e,r){r.args&&(r.args[t.clientX]=Math.round(e.left+r.args[t.clientX]),r.args[t.clientY]=Math.round(e.top+r.args[t.clientY]))}pf(t){return csArray.prototype.indexOf.call(this.Kv,t.type)!==-1}gf(t){return csArray.prototype.indexOf.call(this.Jv,t.type)!==-1}}return s})(),mt=(()=>{class s extends Error{constructor(t,e){let r=e?`Command misuse: ${t} - ${e}`:`Command misuse: ${t}`;super(r),this.name="MisusedCommandError"}}return s})(),Vi;function ti(s){if(Vi||(Vi=document.createElement("div")),!(!!s&&F(s)))return rt.warn(`isValidSelector: invalid selector provided '${s}'`),!1;try{return Bt.call(Vi,s),!0}catch{return rt.warn(`isValidSelector: invalid selector provided '${s}'`),!1}}function gr(s,i){if(In)return In.call(s,i);let t=s;do{if(Bt.call(t,i))return t;t=t==null?void 0:t.parentElement}while(t!==null&&csNodenodeType.apply(t)===1);return null}function Qo(s){let i=null;return t=>t?i=t:i||(i=s())}var ts=Qo(()=>new WeakMap),Ui=Qo(()=>new Set),ji=(()=>{let s;return function(i){function t(g){return ts().get(g)}i.getAll=t;function e(g,E){var v;return(v=ts().get(g))===null||v===void 0?void 0:v[E]}i.get=e;function r(g,E,v){let m=ts().get(g);m||ts().set(g,m={}),m[E]=v,c(g)}i.set=r;function o(g,E){let v=ts().get(g);v&&(delete v[E],c(g))}i.remove=o;function a(){ts(new WeakMap)}i.reset=a;function c(g){for(let E of Ui())E(g)}function h(g){Ui().add(g)}i.subscribe=h;function p(g){Ui().delete(g)}i.unsubscribe=p}(s||(s={})),s})(),it=(()=>{let s;return function(i){function t(h,p,g){var E;if(typeof Node!="undefined"&&h instanceof Node)ji.set(h,p,g);else{let v=h;(E=v.props)!==null&&E!==void 0||(v.props={}),v.props[p]=g}}i.setProperty=t;function e(h,p){var g;return typeof Node!="undefined"&&h instanceof Node?ji.get(h,p):(g=h.props)===null||g===void 0?void 0:g[p]}i.getProperty=e;function r(h){return typeof Node!="undefined"&&h instanceof Node?ji.getAll(h):h.props}i.getProperties=r;function o(h,p){let g=null;return a(h,(E,v,m)=>p(E)&&(g=E)&&!!m()),g}i.findDescendant=o;function a(h,p){c(h,void 0,p)}i.traverse=a;function c(h,p,g){let E=!1;if(g(h,p,()=>E=!0),E)return;let m=h.shadowRoot;m&&c(m,h,g);let w=h.children;if(w!=null&&w.length){for(let P of w)if(P&&(c(P,h,g),E))break}}}(s||(s={})),s})(),B=(()=>{let s;return function(i){let t;(function(T){T[T.NotMasked=0]="NotMasked",T[T.Parent=1]="Parent",T[T.Child=2]="Child"})(t=i.MaskedElementState||(i.MaskedElementState={})),i.maskedProp="masked",i.maskedAttributeProp="maskedAttribute";function e(T){return ys(T)&&"Attributes"in T&&"PIISelectors"in T?T.Attributes instanceof Array&&T.PIISelectors instanceof Array:!1}i.isSelectorUserInput=e;function r(T){if(!ys(T)||T===null)throw new mt("setPIISelectors");return"Attributes"in T||(T.Attributes=[]),"PIISelectors"in T||(T.PIISelectors=[]),T}i.sanitizeSelectorUserInput=r;function o(T){var A,M,I;return"nodeType"in T?(A=it.getProperty(T,i.maskedProp))!==null&&A!==void 0?A:{state:t.NotMasked}:(I=(M=T.metadata)===null||M===void 0?void 0:M[i.maskedProp])!==null&&I!==void 0?I:{state:t.NotMasked}}i.getMaskedElementDetails=o;function a(T){var A,M,I;return"nodeType"in T?(A=it.getProperty(T,i.maskedAttributeProp))!==null&&A!==void 0?A:{attributes:[]}:(I=(M=T.metadata)===null||M===void 0?void 0:M[i.maskedAttributeProp])!==null&&I!==void 0?I:{attributes:[]}}i.getMaskedAttributeDetails=a;function c(T){let A=it.getProperty(T,i.maskedProp);return(A==null?void 0:A.state)===t.Parent}i.isMaskedElement=c;function h(T){let A=it.getProperty(T,i.maskedProp);return(A==null?void 0:A.state)===t.Child}i.isMaskedElementChild=h;function p(T,A){let M=it.getProperty(T,i.maskedAttributeProp);return((M==null?void 0:M.attributes)==null?void 0:csArray.prototype.indexOf.call(M==null?void 0:M.attributes,A))>-1}i.isMaskedAttribute=p;function g(T,A){it.setProperty(T,i.maskedProp,A)}i.setMaskedElementProperty=g;function E(T){it.setProperty(T,i.maskedProp,void 0)}i.unsetMaskedElementProperty=E;function v(T,A){it.setProperty(T,i.maskedAttributeProp,A)}i.setMaskedAttributeProperty=v;function m(T,A){let M=csArray.prototype.filter.call(T.PIISelectors,k=>ti(k));A.elementSelector.length>0&&csArray.prototype.push.call(M,...csString.prototype.split.call(A.elementSelector,","));let I=V([...M]),b={elementSelector:csArray.prototype.join.call(I,","),attrSelector:A.attrSelector,attrSelectors:A.attrSelectors};return csArray.prototype.forEach.call(T.Attributes,k=>{k!=null&&k.attrName&&(k!=null&&k.selector)&&ti(k.selector)&&!w(b.attrSelectors,k)&&csArray.prototype.push.call(b.attrSelectors,k)}),b.attrSelector=P(b.attrSelectors),b}i.getComputedSelectorSettings=m;function w(T,A){return csArray.prototype.some.call(T,M=>M.selector===A.selector&&M.attrName===A.attrName)}function P(T){let A="";return csArray.prototype.forEach.call(T,M=>{let I=csString.prototype.split.call(M.selector,",");csArray.prototype.forEach.call(I,b=>{ti(b)&&(A&&(A+=","),A+=b)})}),A}function V(T){if(T.length<=1)return T;let A=[];for(let M of T){let I=csString.prototype.split.call(M,",");for(let b of I)csArray.prototype.indexOf.call(A,b)===-1&&csArray.prototype.push.call(A,b)}return A}}(s||(s={})),s})(),du=(()=>{class s{constructor(){this.da={elementSelector:"",attrSelector:"",attrSelectors:[]},this.rl={elementSelector:"",attrSelector:"",attrSelectors:[]},this.tS=window.top===window?"pii-migration":"pii-migration-iframe",this.yf=!1}onAfterNaturalPageView(){this.Ef()}onParentSensitiveStatusChange(t){t.started&&!this.yf&&(this.yf=!0,t.maskedElementSettings&&(this.da=t.maskedElementSettings),this.Ef())}Ef(){var t,e;let r=this.vf(this.da),o=this.vf(this.rl),a=csArray.prototype.filter.call(o.elementSelectors,h=>csArray.prototype.indexOf.call(r.elementSelectors,h)===-1&&h!=="[data-cs-mask]"),c={};for(let[h,p]of Object.entries(o.attrSelectors)){let g=r.attrSelectors[h]||[],E=csArray.prototype.filter.call(p,v=>csArray.prototype.indexOf.call(g,v)===-1);E.length>0&&(c[h]=E)}(a.length>0||Object.keys(c).length>0)&&(j.computeIsActive(100),j.warn(csJSON.stringify({selectors:a,attrs:c}),!0,this.tS),j.computeIsActive((e=(t=window.CS_CONF)===null||t===void 0?void 0:t.validationRate)!==null&&e!==void 0?e:10))}vf(t){let e=csString.prototype.trim.call(t.elementSelector).length>0?csArray.prototype.filter.call(csArray.prototype.map.call(csString.prototype.split.call(t.elementSelector,","),o=>csString.prototype.trim.call(o)),o=>o.length>0):[],r={};for(let o of t.attrSelectors)r[o.attrName]=csArray.prototype.filter.call(csArray.prototype.map.call(csString.prototype.split.call(o.selector,","),a=>csString.prototype.trim.call(a)),a=>a.length>0);return{elementSelectors:e,attrSelectors:r}}markClicktalePIIInUse(t){this.rl=B.getComputedSelectorSettings(t,this.rl)}markPIIMaskingTemplateInUse(t){let e=B.sanitizeSelectorUserInput(t);this.da=B.getComputedSelectorSettings(e,this.da)}}return X([W()],s.prototype,"markPIIMaskingTemplateInUse",null),s})(),fu=(()=>{class s{constructor(t,e){this.S=t,this.bt=e}init(){this.bt.addListener(this.S)}onOptout(){this.S.stop()}onBeforeSessionRenewal(){this.S.stop()}}return s})();var kt=(()=>{class s{constructor(){this._isStarted=!1}get isStarted(){return this._isStarted}start(...t){this._isStarted||(this._isStarted=!0,this.onStart(...t))}stop(){this._isStarted&&(this._isStarted=!1,this.onStop())}restart(){this.stop(),this.start()}}return s})(),pu=(()=>{let s;return function(i){i.UXA="_uxa",i.WVT="cs_wvt"}(s||(s={})),s})(),gu=(()=>{class s extends kt{constructor(t,e){super(),this.nl=t,this.ol=e,this.as={}}register(t,e,r){for(let o of t){let a=(...c)=>{try{let h=e(...c);return U.counters.commandApplied.count(o),h}catch(h){h instanceof mt?(U.counters.commandMisuse.count(o),j.warn(`Misused Command: ${o}; Args: ${csJSON.stringify(c)}; Error: ${Zt(h)?h.stack:h}`)):(U.counters.commandError.count(o),j.error(`Command Error - ${o}: ${Zt(h)?h.stack:h}`))}};this.as[o]={callback:a,configuration:r},this.as}}onStart(){this.eS(),this.sS()}onStop(){for(let t of this.nl)window[t]=[]}applyFromIntegration(t,e,r){this.Sf(t,e,`Commands.apply.from.integration: ${r}`),U.counters.commandsFromIntegrations.count(t)}applyFromImplementation(t,e,r){var o;this.Sf(t,e,`Commands.apply.from.implementation: ${r}`),U.counters.commandsFromCSTC.count(t),r==="PIIMaskingTemplate"&&((o=this.ol)===null||o===void 0||o.markPIIMaskingTemplateInUse(e[0]))}onIframeCommands(t){for(let e of t.commands)this.iS(e.name,e.params,t.iframePath),U.counters.commandsFromIframe.count(e.name)}Sf(t,e,r){if(!this.isStarted){window._uxa.push([t,...e]);return}j.tryToExecute(r,()=>{if(this.as[t])return this.as[t].callback(...e)})()}iS(t,e,r){j.tryToExecute(`Commands.apply.from.iframe: ${r}`,()=>{if(this.as[t])return this.as[t].callback(...e)})()}eS(){for(let t of this.nl)window[t].forEach(([e,...r])=>this._f(e,r,!1))}sS(){for(let t of this.nl)window[t]={push:([e,...r])=>this._f(e,r,!0)}}_f(t,e,r){var o,a;if(this.as[t]){if(((o=this.as[t].configuration)===null||o===void 0?void 0:o.disableApplyPending)&&!r||((a=this.as[t].configuration)===null||a===void 0?void 0:a.disableApplyImmediate)&&r)return;try{return this.as[t].callback(...e)}catch(h){j.error(`Command ${t} failed - params: ${csJSON.stringify(e)}`,h)}}}}return s})(),mu=(()=>{class s extends Fr{emitPageEvent(t){for(let e of this.listeners)e.onPageEvent&&e.onPageEvent(t)}emitEventTriggerRecording(t,e){for(let r of this.listeners)r.onEventTriggerRecording&&r.onEventTriggerRecording(t,e)}emitCustomJavaScriptErrorEvent(t){for(let e of this.listeners)e.onCustomJavaScriptErrorEvent&&e.onCustomJavaScriptErrorEvent(t)}emitCustomErrorEvent(t){for(let e of this.listeners)e.onCustomErrorEvent&&e.onCustomErrorEvent(t)}emitUserIdentifierEvent(t){for(let e of this.listeners)e.onUserIdentifierEvent&&e.onUserIdentifierEvent(t)}emitExternalEvent(t){for(let e of this.listeners)e.onExternalEvent&&e.onExternalEvent({type:H.EXTERNAL_EVENT,name:t,ts:0})}emitTargetingRulesArtificialPageview(t){for(let e of this.listeners)e.onTargetingRulesArtificialPageview&&e.onTargetingRulesArtificialPageview(t)}}return s})();function yu(s){return csNodenodeType.apply(s)===1}function we(s){let i=csEventtarget.apply(s);return i&&yu(i)&&csElementshadowRoot.apply(i)&&s.composedPath?s.__csOriginalTarget||s.composedPath()[0]:i}function Eu(s){return s.composedPath&&Object.defineProperty(s,"__csOriginalTarget",{value:s.composedPath()[0],writable:!1,enumerable:!1}),s}var vu=["class","data-com.agilebits.onepassword.initial-value","data-com.onepassword.iv","data-ember-action","data-initial-value","data-previous-value","data-react-checksum","data-reactid","id","maxlength","onclick","onsubmit","style"],Su=1024,_u=1024,wu=(()=>{class s{constructor(t,e){this.pt=t,this.E=e}getEventTargetPathAndHierarchy(t,e){let r=we(t),o={isNodeSensitive(a){return B.isMaskedElement(a)||B.isMaskedElementChild(a)},isAttributeSensitive(a,c){return B.isMaskedAttribute(a,c)},allWhitelistedAttributes:Wo(this.E.whitelistedAttributes),attributeIgnoreTokens:vu,useAnonymization:e,attrMaxLength:_u,hierarchyMaxLength:Su};return this.pt.getElementPathAndHierarchy(r,o,{dynamicIdRegex:this.E.dynamicIdRegex,...this.E.pathComputationRules})}getEventTargetPath(t){let e=we(t);return this.pt.getElementPath(e,{dynamicIdRegex:this.E.dynamicIdRegex,...this.E.pathComputationRules})}getEventTargetPathAndTargetLink(t){let e=we(t),{path:r,firstAnchorParent:o}=this.pt.getElementPathAndFirstAnchorParent(e,{dynamicIdRegex:this.E.dynamicIdRegex,...this.E.pathComputationRules}),a=this.rS(o)?o.href:"";return{path:r,targetLink:a}}hasValidEventTarget(t){let e=we(t);return this.pt.isValidElement(e)}getElementPath(t){return this.pt.getElementPath(t,{dynamicIdRegex:this.E.dynamicIdRegex,...this.E.pathComputationRules})}rS(t){var e;return t!==null&&t.hasAttribute("href")&&!fr((e=t.getAttribute("href"))!==null&&e!==void 0?e:"","#")}}return s})();function zr(s,i){typeof i=="number"&&(i={wait:i});let t=i.wait,e=i.mode||"leading",r,o=[],a=null,c=0,h,p=()=>{c=z.now(),a=null,h=s.apply(r,o),o=[],r=null},g=function(...E){if(r=this!==null&&this!==void 0?this:tt,o=[...E],e==="trailing")return a||(a=tt.csSetTimeout(p,t)),h;let v=z.now(),m=t-(v-c);return m<=0||m>t?(c=v,h=s.apply(r,o),a?(tt.csClearTimeout(a),a=null):o=[]):a||(a=tt.csSetTimeout(p,m)),h};return g.cancel=()=>{a&&(tt.csClearTimeout(a),c=0,a=null,o=[])},g.flushPending=()=>{a&&(tt.csClearTimeout(a),p())},g}var $r=s=>(i,t,e)=>{e.value=zr(e.value,s)};var ci=".",Gr="__DOT__",Au=/^(([a-z0-9\-])+(\.[0-9]+){6})(\.[0-1])?(\.\b(x|[0-9a-fA-F]{12})\b)?$/,Zo="x";function Tu(s){let[i,t,e,r,o,a,c,h,p]=Pu(s);return{id:i,creationTimestamp:Number(t),visitsCount:Number(e),hitTimestamp:Number(r),lastVisitTimestamp:Number(o),appliedTrackingDraw:Number(a),expires:Number(c),allowSubdomains:h===void 0?void 0:!!Number(h),identityPrint:p===void 0||p===Zo?null:p}}function bu(s){var i;return csArray.prototype.join.call(csArray.prototype.map.call(csArray.prototype.map.call([s.id,s.creationTimestamp,s.visitsCount,s.hitTimestamp,s.lastVisitTimestamp,s.appliedTrackingDraw,s.expires,s.allowSubdomains?1:0,(i=s.identityPrint)!==null&&i!==void 0?i:Zo],csString),Cu),ci)}function Ru(s){return Au.test(s)}function Cu(s){return csString.prototype.replace.call(s,/\./g,Gr)}function Iu(s){return csString.prototype.replace.call(s,new csRegExp(Gr,"g"),ci)}function Pu(s){return csString.prototype.indexOf.call(s,Gr)!==-1?csArray.prototype.map.call(csString.prototype.split.call(s,ci),Iu):csString.prototype.split.call(s,ci)}var C=(()=>{let s;return function(i){i.QUOTA_REACHED="X",i.RECORDING_RULES_TARGETING="8",i.ANALYTICS_ONLY_RULES_TARGETING="9",i.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING="P",i.ANALYTICS_ONLY="0",i.RECORDING_GLOBAL_SAMPLING="5",i.RECORDING_TEMPORARILY="T",i.RECORDING_URL_SAMPLING="6",i.RECORDING_ETR_SAMPLING="7",i.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED="B",i.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN="W"}(s||(s={})),s})();function Ou(s){return s===C.RECORDING_TEMPORARILY||s===C.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING}function ta(s){return s===C.RECORDING_GLOBAL_SAMPLING||s===C.RECORDING_RULES_TARGETING||s===C.RECORDING_URL_SAMPLING||s===C.RECORDING_ETR_SAMPLING}var Nu={[C.RECORDING_RULES_TARGETING]:C.RECORDING_GLOBAL_SAMPLING},jt=(()=>{let s;return function(i){i.ETR_OFF="0",i.ETR_ON="1"}(s||(s={})),s})(),Hi=(()=>{let s;return function(i){i.ETR_LEGACY="0",i.ETR_SESSION="1",i.ETR_PAGE="2"}(s||(s={})),s})(),qr=(()=>{let s;return function(i){i.ETR_DISABLED="0",i.ETR_PENDING="1",i.ETR_SAVED_PAGE="2",i.ETR_SAVED_SESSION="3",i.ETR_NOT_SAVED_SESSION="9"}(s||(s={})),s})(),mr=(()=>{let s;return function(i){i.UNNECESSARY="U",i.NOT_EXPRESSED="N",i.WITHDRAWN="W",i.GRANTED="G"}(s||(s={})),s})(),ea=/^(\d+\.[01356789TBWXP](\.[01UNWG])?(\.[39])?)(\.\d+)?$/,sa=".";function Mu(s){return csArray.prototype.join.call([s.pageNumber,s.collectState,s.replayConsent,s.etrStatus],sa)}function Du(s){if(!Wr(s))return null;let i=yr(s);return i!==null?ia(i):null}function ia(s){var i,t;let[e,r,o,a]=csString.prototype.split.call(s,sa);return{collectState:r,replayConsent:(i=o)!==null&&i!==void 0?i:mr.UNNECESSARY,etrStatus:(t=a)!==null&&t!==void 0?t:qr.ETR_NOT_SAVED_SESSION,pageNumber:parseInt(e,10)}}function Wr(s){return ea.test(s)}function yr(s){if(!s)return null;let i=(()=>{var t;return(t=csString.prototype.match.call(s,ea))===null||t===void 0?void 0:t[1]})();return i!=null?i:null}var Xt="_cs_ex",Fn=2592e6,ku=/^[0-9]+$/,xu=(()=>{class s{constructor(t,e,r){this.E=t,this.N=e,this.K=r}onCookieToSet(t){this.Oi=t}onCookieToRemove(t){this.Ni=t}get(){return this.E.cookielessTrackingEnabled?Number(this.K.getItem(Xt)):Number(this.N.get(Xt))}set(t){var e;this.E.cookielessTrackingEnabled?this.K.setItem(Xt,t):(this.N.set(Xt,t,Fn),(e=this.Oi)===null||e===void 0||e.call(this,Xt,t,Fn))}remove(){var t;this.E.cookielessTrackingEnabled?this.K.removeItem(Xt):(this.N.delete(Xt),(t=this.Ni)===null||t===void 0||t.call(this,Xt))}static isValidExclusionString(t){return ku.test(t)}}return s})(),ge="_cs_cvars",Lu=(()=>{class s{constructor(t,e,r){this.E=t,this.N=e,this.K=r}onCookieToSet(t){this.Oi=t}onCookieToRemove(t){this.Ni=t}get(){return this.E.cookielessTrackingEnabled?this.K.getItem(ge):this.N.get(ge)}set(t){var e;this.E.cookielessTrackingEnabled?this.K.setItem(ge,t):(this.N.set(ge,t),(e=this.Oi)===null||e===void 0||e.call(this,ge,t))}remove(){var t;this.E.cookielessTrackingEnabled?this.K.removeItem(ge):(this.N.delete(ge),(t=this.Ni)===null||t===void 0||t.call(this,ge))}static isValidCustomVarString(t){return typeof t=="string"}}return s})();var Vu=(()=>{class s{constructor(t,e,r,o,a,c,h){this.w=t,this.S=e,this.pl=r,this.gl=o,this.cs=a,this.hS=c,this.Sn=h}start(){this.w.addListener(this.hS),this.w.addListener(this.Sn),this.w.addListener(this.pl),this.Sn.init(),this.gl.init(),this.cs.init(),!this.cs.isActive()&&this.S.start()}}return s})(),Uu=(()=>{class s{constructor(t){this.bs=t}onOptout(){this.bs.removeExclusion()}}return s})(),ju=(()=>{class s{constructor(t,e){this.xt=t,this.ft=e}exclude(t){this.ft.set(csString(t.lastTrackingDraw))}removeExclusion(){this.ft.remove()}isExcluded(){return this.uS()||this.dS()}uS(){return this.getAppliedTrackingDraw()!==0}getAppliedTrackingDraw(){return this.ft.get()}dS(){return csString.prototype.indexOf.call(this.xt.href,Xt)>0}}return s})(),Hu=["excludeURLforReplay"],Bu=(()=>{class s{constructor(t,e){this.bs=t,this.S=e}init(){this.S.register(Hu,t=>{if(F(t))this.bs.setExcludeUrlForSessionReplay(t);else throw new mt("excludeURLforReplay")})}}return s})(),Bi=(()=>{let s;return function(i){i.SessionReplay="SR",i.None=""}(s||(s={})),s})(),Fu=".^",zu=".*",$u=(()=>{class s{constructor(t){this.C=t,this.ml=new csRegExp(`${Fu}`)}setExcludeUrlForSessionReplay(t){try{this.ml=new csRegExp(t)}catch{j.warn(`excludeURLforReplay - invalid regex '${t}'`),this.ml=new csRegExp(`${zu}`)}}Nf(){return this.ml.test(this.C.getAnonymizedUrl())?Bi.SessionReplay:Bi.None}isUrlExcludedForSessionReplay(){return this.Nf()===Bi.SessionReplay}getRequestParameters(){return{ex:this.Nf()}}}return s})();var{toString:Bg}=Object.prototype;function ra(s,i){if(typeof s!="function"||i!=null&&typeof i!="function")throw new TypeError("Expected a function");let t=function(...e){let r=i?i.apply(this,e):e[0],{cache:o}=t;if(o.has(r))return o.get(r);let a=s.apply(this,e);return t.cache=o.set(r,a)||o,a};return t.cache=new(ra.Cache||Map),t}ra.Cache=Map;var{hasOwnProperty:Fg}=Object.prototype;var li=(()=>{class s{constructor(...t){this.xf=t}addProvider(t){csArray.prototype.push.call(this.xf,t)}getRequestParameters(){return csArray.prototype.reduce.call(this.xf,(t,e)=>({...e.getRequestParameters(),...t}),{})}}return s})(),Gu=window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage||window.navigator.systemLanguage||"unknown";function qu(){return{la:Gu}}var Ve=(()=>{let s;return function(i){i.Artificial="a",i.Renewal="r",i.Natural="n"}(s||(s={})),s})(),je=(()=>{let s;return function(i){i.Natural="Natural",i.Artificial="Artificial",i.Renewal="Renewal"}(s||(s={})),s})(),Wu=(()=>{class s extends kt{constructor(t,e,r,o,a,c){super(),this.E=t,this.w=e,this.Q=r,this.bl=o,this.C=a,this.ls=c,this.ga=null}init(){this.wS()}onStart(t=je.Natural){switch(t){case je.Natural:this.AS();break;case je.Artificial:this.TS();break;case je.Renewal:this.bS();break}}onStop(){}triggerArtificialPageView(t,e){this.isStarted?(this.w.emitArtificialPageViewEnd(),this.Rl(t,e)):(St(t)&&this.C.overridePath(t,e),this.Q.emitTargetingRulesArtificialPageview(this.C.getUrl()),this.E.hasTargetingRules()&&this.C.cleanupOverrideLifespan())}AS(){this.ls.setPageViewType(Ve.Natural);let t=this.C.getAnonymizedUrl();this.w.emitBeforeNaturalPageView(t),this.bl.send(),this.C.cleanupOverrideLifespan(),this.w.emitAfterNaturalPageView(Ve.Natural),this.ga=t}bS(){this.ls.setPageViewType(Ve.Renewal);let t=this.C.getAnonymizedUrl();this.w.emitBeforeNaturalPageView(t),this.bl.send(),this.w.emitAfterNaturalPageView(Ve.Renewal),this.ga=t}Rl(t,e,r=!1){St(t)&&this.C.overridePath(t,e);let o=this.C.getAnonymizedUrl();this.w.emitBeforeArtificialPageView(this.ga,o),this.ls.setPageViewType(Ve.Artificial),this.bl.send(),this.C.cleanupOverrideLifespan(),this.w.emitAfterArtificialPageView(r),this.ga=o}TS(){this.Rl(null,void 0,!0)}wS(){window.addEventListener("pageshow",t=>{this.isStarted&&t.persisted&&(this.w.emitArtificialPageViewEnd(),this.Rl())})}}return s})(),Yu=(()=>{class s{constructor(){this.Cl=Ve.Natural}setPageViewType(t){this.Cl=t}getPageViewType(){return this.Cl}getRequestParameters(){return{pvt:this.Cl}}}return s})();var Xu=99999,Ku=(()=>{class s{constructor(t){this.R=t,this.RS=this.CS()&&window.CSCurrentScript}IS(){let t=window.CSCurrentScript;if(!t)return null;let e=window.performance.getEntriesByName(t.src,"resource")[0];return!e||this.PS(e)?null:Math.round(e.responseEnd-e.fetchStart)}PS(t){let e=t.transferSize;return e!==void 0?e===0||e===300||e<t.encodedBodySize:t.connectStart===t.domainLookupEnd}getRequestParameters(){if(!this.RS||this.OS()!==1)return{};let t=this.IS();return t===null?{}:{dt:`${Math.min(t,Xu)}`}}OS(){var t;return((t=this.R.getSession())===null||t===void 0?void 0:t.pageNumber)||null}CS(){return typeof window.performance=="object"&&typeof window.performance.getEntriesByName=="function"}}return s})(),Ju=["trackPageview"],zn=["setPath"],$n=["setQuery"],Gn=["referrer:maskUrl"],Qu=["referrer:removeQueryString"],Zu=["referrer:keepQueryString"],Fi=s=>ys(s)&&s!==null,td=(s,i,t,e)=>{s.register(Ju,(r,o)=>{if(!F(r)){i.triggerArtificialPageView();return}Fi(o)?i.triggerArtificialPageView(r,o):i.triggerArtificialPageView(r)}),s.register(zn,(r,o)=>{if(!F(r))throw new mt(zn[0]);Fi(o)?t.overridePath(r,o):t.overridePath(r)}),s.register($n,(r,o)=>{if(!F(r))throw new mt($n[0]);Fi(o)?t.overrideQuery(r,o):t.overrideQuery(r)}),e&&(s.register(Gn,r=>{if(!F(r))throw new mt(Gn[0]);e.addUrlMaskingPattern(r)}),s.register(Qu,()=>e.enableRemoveQueryString()),s.register(Zu,()=>e.disableRemoveQueryString()))};var ed=(()=>{class s{constructor(t,e,r,o,a,c,h,p,g,E,v,m,w,P,V){this.E=t,this.S=e,this.w=r,this.Le=o,this.O=a,this.R=c,this.Is=h,this.Rt=p,this._t=g,this.C=E,this.ee=v,this.ls=m,this.Q=w,this.ze=P,this.ur=V}init(){let t=new rs(this.E.getTrackerUri(),"pageview");this.Cs=new Wu(this.E,this.w,this.Q,t,this.C,this.ls),this.Cs.init();let e=new li(this.Le,this.O,gt,this.Is,this.C,this.Rt,Cr,this._t,this.ls,new Ku(this.R),this.ee);this.ze&&e.addProvider(this.ze),this.ur&&e.addProvider(this.ur);let r=this.E.isCsCrosswritingHeap();if(r||this.E.isCsSideloadingHeap()||this.E.isHeapSideloadsCs()){let o=this.E.getHeapEnvId()||void 0;e.addProvider({getRequestParameters(){let a={cw:r?"1":"2"};return o&&(a.happid=o),a}})}t.setRequestParametersProviders(e),td(this.S,this.Cs,this.C,this.Is)}start(t){this.Cs.start(t)}stop(){this.Cs.stop()}onBeforeSessionRenewal(){this.Cs.stop()}}return s})();var na=["setCustomVariable"],sd=(()=>{class s{constructor(t,e){this.S=t,this._t=e}init(){this.S.register(na,(t,e,r,o)=>{this._t.set(t,e,r,o)})}onAfterArtificialPageView(){this._t.deleteNextPageOnlyCustomVariables()}onAfterNaturalPageView(){this._t.deleteNextPageOnlyCustomVariables()}onOptout(){this._t.removeCustomVariablesSession()}onBeforeVisitorRenewal(){this._t.removeCustomVariablesSession(),this._t.removeCustomVariablesPage()}}return s})();var id=["setEncryptionSelectors"],oa=["setPIISelectors"],rd=["setCapturedElementsSelector"],nd=(()=>{class s{constructor(t,e,r,o,a,c,h){this.w=t,this.S=e,this.lt=r,this.se=o,this.qt=a,this.ht=c,this.fr=h}init(){var t,e;this.fr&&this.ht&&((t=this.fr)===null||t===void 0||t.addSelector((e=this.ht)===null||e===void 0?void 0:e.getEncryptionSelectors())),this.ut()}onStartTracking(t){this.se.start(),this.w.emitSensitiveStatusChange()}onBeforeArtificialPageView(){this.se.stop(),this.w.emitSensitiveStatusChange()}onAfterArtificialPageView(){this.se.start(),this.w.emitSensitiveStatusChange()}onBeforeSessionRenewal(){this.se.stop(),this.w.emitSensitiveStatusChange()}onOptout(){this.se.stop(),this.w.emitSensitiveStatusChange()}onReplayUnanonymizationConsentGranted(){this.w.emitSensitiveStatusChange()}onReplayUnanonymizationConsentWithdrawn(){this.w.emitSensitiveStatusChange()}ut(){this.S.register(oa,t=>{this.lt.setMaskedElementSettingsFromCommand(t),this.w.emitSensitiveStatusChange()}),this.S.register(rd,t=>{this.qt.setWhitelistedElementsSelector(t),this.w.emitSensitiveStatusChange()}),this.S.register(id,t=>{var e,r;(e=this.ht)===null||e===void 0||e.setEncryptionSelectors(t),(r=this.fr)===null||r===void 0||r.addSelector(t)})}}return s})();var od=512,ad=255,zi=(()=>{class s{constructor(t,e){this.key=csString.prototype.slice.call(t,0,od),this.value=F(e)?csString.prototype.slice.call(e,0,ad):e}static isKeyValid(t){return F(t)}static isValueValid(t){return F(t)||Be(t)}}return s})(),cd=(()=>{class s extends kt{constructor(t,e){super(),this.Wt=t,this.D=e,this.Il=[]}onStart(){csArray.prototype.forEach.call(this.Il,t=>this.Lf(t.key,t.value)),this.Il=[]}onStop(){}Lf(t,e){let r=this.D.anonymizePII(t),o=Be(e)?e:this.D.anonymizePII(e);this.Wt.add(new zi(r,o))}trackDynamicVariable(t,e){if(zi.isKeyValid(t)&&zi.isValueValid(e)){if(!this.isStarted){csArray.prototype.push.call(this.Il,{key:t,value:e});return}this.Lf(t,e)}else throw new mt(aa[0])}}return s})(),ld=(()=>{class s{constructor(t){this.he=t,this.Wt=[]}add(t){csArray.prototype.push.call(this.Wt,t),this.setBatchReadyCall()}clear(){this.Wt=[]}onBatchReady(t){this.NS=t}getRequestParameters(){let t={};for(let e of this.Wt)t[e.key]=e.value;return{dv:this.he.compressSync(csJSON.stringify(t),"base64"),ct:this.he.algorithm}}setBatchReadyCall(){this.NS()}}return X([$r({wait:0,mode:"trailing"}),W("dynamicVariablesBatchReady")],s.prototype,"setBatchReadyCall",null),s})(),hd="dvar",aa=["trackDynamicVariable"],ud=(()=>{class s{constructor(t,e,r,o,a,c){this.S=t,this.R=e,this.E=r,this.Le=o,this.he=a,this.D=c,this.Ts=new rs(this.E.getTrackerUri(),hd),this.Wt=new ld(this.he),this.bs=new cd(this.Wt,this.D)}init(){this.Ts.setRequestParametersProviders(this.Le,this.Wt),this.R.setDynamicVariablesService(this.bs),this.Wt.onBatchReady(()=>this.Ts.send()),this.Ts.after(()=>this.Wt.clear()),this.S.register(aa,({key:t,value:e}={})=>{this.bs.trackDynamicVariable(t,e)})}onStartTracking(){this.bs.start()}onArtificialPageViewEnd(t){t&&this.bs.stop()}onAfterArtificialPageView(t){t&&this.bs.start()}}return s})();var ca=100,dd=100,fd=(()=>{class s extends kt{constructor(t,e){super(),this.DS=t,this.U=e,this.be=null,this.Pl=[]}onStart(){csArray.prototype.forEach.call(this.Pl,t=>{this.be=t,this.Vf()}),this.Pl=[]}onStop(){}addToCart(t){let e={};F(t.sku)&&(e.sku=csString.prototype.slice.call(t.sku,0,dd)),F(t.merchant)&&(e.merchant=csString.prototype.slice.call(t.merchant,0,ca)),(e.sku||e.merchant)&&(this.be=e,this.Vf())}getCartItem(){return this.be}Vf(){if(!this.isStarted&&this.be!==null){csArray.prototype.push.call(this.Pl,this.be),this.clear();return}this.U.refreshSession(),this.U.isSessionValid()&&this.DS.send()}clear(){this.be=null}getRequestParameters(){if(!this.be)return{};let t={};return F(this.be.sku)&&this.be.sku.length>0&&(t.sku=this.be.sku),F(this.be.merchant)&&this.be.merchant.length>0&&(t.me=this.be.merchant),t}}return s})(),qn=(()=>{class s{constructor(t,e){this.id=t,this.revenue=e}static from(t){let e=new s(t.id,parseFloat(t.revenue));return isNaN(parseFloat(t.tax))||(e.tax=parseFloat(t.tax)),isNaN(parseFloat(t.shipping))||(e.shipping=parseFloat(t.shipping)),F(t.currency)&&t.currency.length<=10&&(e.currency=t.currency),e}hasValidRevenue(){return!isNaN(this.revenue)&&this.revenue>=0}static isValid(t){return St(t)&&Ct(t.revenue)&&F(t.currency)&&t.currency.length<=10&&(!St(t.id)||F(t.id))}}return s})(),pd=(()=>{class s{constructor(t,e,r,o){this.id=t,this.name=e,this.price=r,this.quantity=o}static from(t){if(!s.Ol(t))return null;let e=new s(t.id,t.name,parseFloat(t.price),parseInt(t.quantity,10));return K(t.sku)&&(e.sku=t.sku),K(t.category)&&(e.category=t.category),K(t.merchant)&&t.merchant.length>0&&(e.merchant=t.merchant.slice(0,ca)),e}static Ol(t){return St(t)&&F(t.id)&&F(t.name)&&Ct(parseFloat(t.price))&&Be(parseInt(t.quantity,10))&&(!K(t.sku)||F(t.sku))&&(!K(t.category)||F(t.category))&&(!K(t.merchant)||F(t.merchant))}}return s})(),gd=(()=>{class s extends kt{constructor(t,e,r){super(),this.D=t,this.Uf=e,this.U=r,this.Nl=[],this.clear()}onStart(){csArray.prototype.forEach.call(this.Nl,t=>{this.ue=t.transaction,this.wn=t.transactionItems,this.sendTransaction()}),this.Nl=[]}onStop(){}addTransaction(t){let e=this.D.anonymizeFields(t,["id"]);this.ue=qn.from(e)}getTransaction(){return this.ue}sendTransaction(){if(!this.isStarted){csArray.prototype.push.call(this.Nl,{transaction:this.ue,transactionItems:[...this.wn]}),this.clear();return}if(!(this.Uf===null||this.U===null)&&(this.U.refreshSession(),!!this.U.isSessionValid())){if(!this.ue.hasValidRevenue()){j.warn("Transaction Service: unable to send transaction with invalid parameters");return}this.Uf.send()}}addItem(t){if(Fe(t))throw new mt(la[1]);let e=this.D.anonymizeFields(t,["id","name","sku","category"]),r=pd.from(e);r!==null&&csArray.prototype.push.call(this.wn,r)}getItems(){return this.wn}clear(){this.ue=qn.from({revenue:NaN}),this.wn=[]}getRequestParameters(){let t={id:this.ue.id?`${this.ue.id}`:"",revenue:`${this.ue.revenue}`};return K(this.ue.tax)&&(t.tax=`${this.ue.tax}`),K(this.ue.shipping)&&(t.shipping=`${this.ue.shipping}`),K(this.ue.currency)&&(t.cu=`${this.ue.currency}`),t.items=window.csJSON.stringify(this.wn),t}}return s})(),md=["ecommerce:addToCart","ec:cart:add"],yd=["ecommerce:addTransaction","ec:transaction:create"],la=["ecommerce:addItem","ec:transaction:items:add"],Ed=["ecommerce:send","ec:transaction:send"],vd=(()=>{class s{constructor(t,e,r,o,a,c,h){this.E=t,this.wt=e,this.O=r,this.S=o,this.D=a,this.U=c,this.C=h}init(){let t=new rs(this.E.getTrackerUri(),"transaction"),e=new rs(this.E.getTrackerUri(),"addtocart");this.Ve=new gd(this.D,t,this.U),this.pr=new fd(e,this.U);let r=new li(this.wt,this.O,this.C,this.Ve);t.setRequestParametersProviders(r),t.after(()=>{this.Ve.clear()});let o=new li(this.wt,this.O,this.C,this.pr);e.setRequestParametersProviders(o),e.after(()=>{this.pr.clear()}),this.S.register(yd,a=>{this.Ve.addTransaction(a)}),this.S.register(la,a=>this.Ve.addItem(a)),this.S.register(Ed,()=>this.Ve.sendTransaction()),this.S.register(md,a=>{this.pr.addToCart(a)})}onStartTracking(){this.Ve.start(),this.pr.start()}onArtificialPageViewEnd(t){t&&(this.Ve.stop(),this.pr.stop())}onAfterArtificialPageView(t){t&&(this.Ve.start(),this.pr.start())}}return s})();var Ge;(function(s){s.ContentSquare="CONTENTSQUARE",s.LoadedByClicktale="LOADED_BY_CLICKTALE",s.LoadClicktalePtc="LOAD_CLICKTALE_PTC",s.DualCollectionReview="DUAL_COLLECTION_REVIEW",s.DualCollection="DUAL_COLLECTION",s.ContentSquareTagClickTaleEndpoints="CONTENTSQUARE_TAG_CLICKTALE_ENDPOINTS"})(Ge||(Ge={}));var Wn=(()=>{let s;return function(i){function t(){return window.ClickTaleIsRecording&&window.ClickTaleIsRecording()}i.isRecording=t;function e(){window.ClickTaleStop&&window.ClickTaleStop()}i.stopRecording=e;function r(c){window.ClickTaleLogicalWithUploadPage&&window.ClickTaleLogicalWithUploadPage(c)}i.triggerLogicalPageView=r;function o(c){window.ClickTaleEvent&&window.ClickTaleEvent(c)}i.sendPageEvent=o;function a(c){window.ClickTaleEventTrigger&&window.ClickTaleEventTrigger(c)}i.sendEventTriggerRecording=a}(s||(s={})),s})();function Er(s){return s.tagDeploymentMode===Ge.DualCollectionReview||s.tagDeploymentMode===Ge.DualCollection}function Sd(s){return Er(s)||s.tagDeploymentMode===Ge.LoadClicktalePtc}var _d="@ETP@",Yn="@user-identifier@",wd=(()=>{class s extends kt{constructor(t,e,r,o){super(),this.E=t,this.LS=e,this.he=r,this.Q=o,this.Ml=[],this.Mi=[]}onStart(){csArray.prototype.forEach.call(this.Ml,t=>this.jf(t)),this.Ml=[],csArray.prototype.forEach.call(this.Mi,t=>this.Hf(t)),this.Mi=[]}onStop(){}jf(t){this.VS(t)?ps.isSupported()&&this.US(t):this.jS(t)}trackPageEvent(t){if(!s.Bf(t))throw new mt(ha[0]);this.isStarted?this.jf(t):csArray.prototype.push.call(this.Ml,t)}VS(t){return fr(t,Yn)}async US(t){if(!this.E.customHashIdEnabled)return;let e=csString.prototype.slice.call(t,Yn.length);if(e.length>ps.MAX_DIGEST_INPUT_SIZE){j.warn("UserIdentifier event: invalid user identifier");return}let r=await ps.digest(e);r?(this.gr={eventName:r,isETR:!1,isCustomHashId:!0},this.ya()):j.warn("Page event: unable to compute customHashId"),this.E.encryptionEnabled&&this.Q.emitUserIdentifierEvent(e)}jS(t){this.Q.emitPageEvent(t),this.gr={eventName:t,isETR:!1,isCustomHashId:!1},this.ya(),this.E.tagDeploymentMode===Ge.LoadClicktalePtc&&Wn.sendPageEvent(t)}Hf(t){this.E.malkaEtrEnabled?this.HS(t):this.BS(t)}trackEventTriggerRecording(t){if(!s.Bf(t))throw new mt(ua[0]);this.isStarted?this.Hf(t):csArray.prototype.push.call(this.Mi,t)}HS(t){fr(t,_d)?this.Q.emitEventTriggerRecording(t,Hi.ETR_PAGE):this.Q.emitEventTriggerRecording(t,Hi.ETR_SESSION),this.gr={eventName:t,isETR:!0,isCustomHashId:!1},this.ya()}BS(t){Sd(this.E)&&(this.Q.emitEventTriggerRecording(t,Hi.ETR_LEGACY),this.gr={eventName:t,isETR:!0,isCustomHashId:!1},this.ya(),this.E.tagDeploymentMode===Ge.LoadClicktalePtc&&Wn.sendEventTriggerRecording(t))}getRequestParameters(){return{value:this.he.compressSync(this.gr.eventName,"base64"),ct:this.he.algorithm,isETR:`${this.gr.isETR}`,isCustomHashId:`${this.gr.isCustomHashId}`}}ya(){this.LS.send()}static Bf(t){return F(t)&&!!csString.prototype.trim.call(t)}}return s})(),ha=["trackPageEvent"],ua=["trackEventTriggerRecording"],Ad=(()=>{class s{constructor(t,e,r,o,a){this.E=t,this.S=e,this.he=r,this.Le=o,this.Q=a}init(){let t=new rs(this.E.getTrackerUri(),"pageEvent");this.mr=new wd(this.E,t,this.he,this.Q),t.setRequestParametersProviders(this.mr,this.Le),this.S.register(ha,e=>{this.mr.trackPageEvent(e)}),this.S.register(ua,e=>{this.mr.trackEventTriggerRecording(e)})}onStartTracking(){this.mr.start()}onArtificialPageViewEnd(t){t&&this.mr.stop()}onAfterArtificialPageView(t){t&&this.mr.start()}}return s})();function Td(s,i,t,e){var r=arguments.length,o=r<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,t):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,i,t,e);else for(var c=s.length-1;c>=0;c--)(a=s[c])&&(o=(r<3?a(o):r>3?a(i,t,o):a(i,t))||o);return r>3&&o&&Object.defineProperty(i,t,o),o}function bd(){let s=new Error,i=s.stack?csArray.prototype.filter.call(csString.prototype.split.call(s.stack,`
`),e=>e!=="Error"&&csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(e),"promise ")===-1&&csString.prototype.indexOf.call(e,"[native code]")===-1&&csString.prototype.indexOf.call(e,"(<anonymous>)")===-1):[];if(i.length===0)return"";let t=Cd(i);return t===""||(i=Id(i,t),i.length===0)?"":da(i[0])}function Rd(s){return csString.prototype.indexOf.call(s,"@")!==-1}function Cd(s){return s.length>0?da(s[0]):""}function Id(s,i){return csArray.prototype.filter.call(s,t=>csString.prototype.indexOf.call(t,i)===-1)}function da(s){let i="",t;Rd(s)?t=new csRegExp("@(.+):(\\d+):(\\d+)$"):t=new csRegExp("\\((.+):(\\d+):(\\d+)\\)");let e=t.exec(s);return e&&(i=e[1]),i}var Pd=s=>s;function Od(s,i){let t=csSymbol.for(i);if(s[t])return s[t];let e=Object.getOwnPropertyDescriptor(s,i);if(!(e!=null&&e.writable)&&!(e!=null&&e.set))return rt.warn(`Cannot intercept read only function '${csString(i)}' of object '${s}'`),null;let r=new Set;s[t]=r;let o=s[i];if(typeof o=="function"){let a=function(){let c=arguments,h=[];try{h=csArray.prototype.map.call(Mr(r),g=>g(c))}catch(g){rt.critical(g)}let p=o.apply(this,c);return ns(()=>{let g={result:p,context:this,args:c};csArray.prototype.forEach.call(h,E=>E(g))},[te.MonkeyPatch,`${csString(i)}`]),p};Md(a,o),s[i]=a}return r}function Nd({target:s,methodName:i,hook:t,hookPrepareArgs:e=Pd,options:r}){let o=Od(s,i);if(!o)return null;let a=c=>{let h=e(c),p=r!=null&&r.withCallerName?{callerName:bd()}:{};return g=>t({...g,...p,args:h})};return{activate:()=>{o.add(a)},deactivate:()=>{o.delete(a)}}}function Md(s,i){s.prototype=i.prototype,Object.defineProperty(s,"toString",{value:()=>i.toString()})}var fa=(()=>{class s{constructor(){this.set=new Set}add(t){this.set.add(t),this.set.size===1&&csSetTimeout(()=>{this.set.clear()})}has(t){return this.set.has(t)}del(t){this.set.delete(t)}clear(){this.set.clear()}values(){return Mr(this.set)}get count(){return this.set.size}}return s})();function Dd(s,i=!1){let t=new fa;return{push(e){t.count===0&&(i?bo:csSetTimeout)(()=>{s(t.values()),t.clear()}),t.add(e)}}}var pa=(()=>{var s;class i{static GS(e){this.ti.forEach(r=>{e(r,"initial")})}static An(e){if(this.V||(this.V=new csMutationObserver(r=>{for(let o of r)o.target.isConnected&&Nt(o.addedNodes,this.qS),Nt(o.removedNodes,this.WS)})),csArray.prototype.push.call(this.Re,e),!this.Y){this.Y=!0,this.V.observe(document,this.Tn);for(let r of He.getAllShadowHosts(document)){let o=csElementshadowRoot.apply(r);this.ti.add(o),this.V.observe(o,this.Tn)}this.Bl||(this.Bl=Nd({target:Element.prototype,methodName:"attachShadow",hook:r=>this.yr(r.result)&&this.Ff(r.result)})),this.Bl.activate()}this.GS(e)}static yr(e){return e.isConnected&&e.ownerDocument===document}static bn(e){var r,o;this.Re=csArray.prototype.filter.call(this.Re,a=>a!==e),this.Re.length===0&&(this.Re=[],this.Y=!1,(r=this.V)===null||r===void 0||r.disconnect(),(o=this.Bl)===null||o===void 0||o.deactivate(),this.ti.clear())}constructor(e){this.A=e,this.A=Ir("DocumentShadowRootObserver:callback",(r,o)=>e(r,o))}get shadowRoots(){return Mr(s.ti)}takeRecords(){var e,r;return(r=(e=s.V)===null||e===void 0?void 0:e.takeRecords())!==null&&r!==void 0?r:[]}observe(){He.isSupported()&&s.An(this.A)}disconnect(){He.isSupported()&&s.bn(this.A)}}return s=i,i.Re=[],i.ti=new Set,i.Y=!1,i.Tn={childList:!0,subtree:!0},i.Ff=t=>{s.ti.has(t)||(s.V.observe(t,s.Tn),s.ti.add(t),Nt(s.Re,e=>e(t,"added")))},i.qS=t=>{Qt(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(s.Ff)},i.WS=t=>{t.isConnected||Qt(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(e=>{s.ti.has(e)&&(s.ti.delete(e),Nt(s.Re,r=>r(e,"removed")))})},Te([W()],i.prototype,"observe",null),Te([W()],i.prototype,"disconnect",null),i})();var Xn={childList:!0,subtree:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0},mi=(()=>{var s;class i{static setShadowRootFilter(e){csArray.prototype.push.call(s.shadowRootFilters,e)}static Gl(e){if(s.shadowRootFilters.length>0&&Es(e))for(let r=0;r<s.shadowRootFilters.length;r++){let o=s.shadowRootFilters[r];if(o(e))return}this.observedTargets.add(e),this.mutationObserver.observe(e,Xn)}static disconnectShadowRoot(e){this.observedTargets.has(e)&&(this.observedTargets.delete(e),this.isRefreshing||(this.isRefreshing=!0,bo(()=>{this.isRefreshing=!1;let r=this.mutationObserver.takeRecords();r.length&&s.mutationCallback(r),this.mutationObserver.disconnect(),this.observedTargets.forEach(o=>{this.mutationObserver.observe(o,Xn)})})))}static observe(e,r){csArray.prototype.push.call(this.callbacks,e),r&&csArray.prototype.push.call(this.shadowRootCallbacks,r),this.started?r&&csArray.prototype.forEach.call(He.getAllShadowHosts(document),o=>r(csElementshadowRoot.apply(o),"initial")):(this.mutationObserver=new csMutationObserver(this.mutationCallback),this.Gl(document),this.shadowRootObserver=new pa(this.onShadowRoot),this.shadowRootObserver.observe(),this.started=!0,Nt(this.shadowRootObserver.shadowRoots,o=>{this.Gl(o)}))}static disconnect(e,r){var o,a;this.callbacks=csArray.prototype.filter.call(this.callbacks,c=>c!==e),r&&(this.shadowRootCallbacks=csArray.prototype.filter.call(this.shadowRootCallbacks,c=>c!==r)),this.callbacks.length===0&&(this.callbacks=[],this.shadowRootCallbacks=[],s.shadowRootFilters=[],(o=this.shadowRootObserver)===null||o===void 0||o.disconnect(),(a=this.mutationObserver)===null||a===void 0||a.disconnect(),this.observedTargets.clear(),this.started=!1)}constructor(e,r){this.A=e,this.$f=r;let o=Dd(a=>e(a,this),!0);this.A=Ir("DocumentMutationObserver:callback",a=>{Nt(a,c=>o.push(c))})}get shadowRoots(){var e,r;return(r=(e=s.shadowRootObserver)===null||e===void 0?void 0:e.shadowRoots)!==null&&r!==void 0?r:[]}takeRecords(){var e;let r=(e=s.mutationObserver)===null||e===void 0?void 0:e.takeRecords(),o=s.shadowRootObserver.takeRecords();return r!=null&&r.length&&o.length?gl(r,o):r!=null?r:o}observe(){s.observe(this.A,this.$f)}disconnect(){s.disconnect(this.A,this.$f)}}return s=i,i.callbacks=[],i.shadowRootCallbacks=[],i.started=!1,i.observedTargets=new Set,i.shadowRootFilters=[],i.mutationCallback=t=>{Mt.mutations.count.increase(t.length),csArray.prototype.forEach.call(s.callbacks,e=>e(t,s.mutationObserver))},i.onShadowRoot=(t,e)=>{Nt(s.shadowRootCallbacks,r=>r(t,e)),e!=="removed"?s.Gl(t):s.disconnectShadowRoot(t)},i.isRefreshing=!1,Te([W()],i.prototype,"observe",null),Te([W()],i.prototype,"disconnect",null),i})();var kd=(()=>{class s{constructor(){this.Ct=[],this.isStarted=!1}async produceEvent(t){var e;this.isStarted&&(t.timestamp=(e=t.timestamp)!==null&&e!==void 0?e:z.now(),t.timestamp==null&&(t.timestamp=z.now()),csArray.prototype.forEach.call(this.Ct,r=>r(t)))}onStop(){}start(){this.isStarted||(this.isStarted=!0,this.onStart())}stop(){this.isStarted&&(this.isStarted=!1,this.onStop(),this.Ct=[])}stopForInactivity(){this.isStarted&&(this.isStarted=!1,this.onStop())}subscribe(t){return csArray.prototype.push.call(this.Ct,t),()=>{let e=csArray.prototype.indexOf.call(this.Ct,t);csArray.prototype.splice.call(this.Ct,e,1)}}}return s})();var Ee=(()=>{let s;return function(i){i.ANONYMIZED_TEXT_STATUS_PROP="anonymizationStatus",i.WHITELISTED_STATUS="whitelisted";function t(o){return it.getProperty(o,i.ANONYMIZED_TEXT_STATUS_PROP)===i.WHITELISTED_STATUS}i.isWhitelistedElement=t;function e(o){it.setProperty(o,i.ANONYMIZED_TEXT_STATUS_PROP,i.WHITELISTED_STATUS)}i.whitelistElement=e;function r(o){it.setProperty(o,i.ANONYMIZED_TEXT_STATUS_PROP,void 0)}i.removeWhitelistElement=r}(s||(s={})),s})();var xd=()=>(s,i,t)=>{t.value=Ld(t.value)};function Ld(s){let i=csSymbol("oncePerTickSymbol"),t=null,e={},r=function(){var o;let a=(o=this)!==null&&o!==void 0?o:e;if(t=arguments,a[i])return;a[i]=!0,To(()=>{a[i]=!1,s.apply(a,t)})};return r.oncePerTickSymbol=i,r}xd.isScheduled=(s,i)=>{let t=i.oncePerTickSymbol;return s[t]};var Vd=(()=>{let s;return function(i){i.ENCRYPTED_NODE_PROP="encrypted";function t(o){return it.getProperty(o,i.ENCRYPTED_NODE_PROP)===!0}i.shouldEncrypt=t;function e(o){it.setProperty(o,i.ENCRYPTED_NODE_PROP,!0)}i.markEncryptedNode=e;function r(o){it.setProperty(o,i.ENCRYPTED_NODE_PROP,void 0)}i.unmarkEncryptedNode=r}(s||(s={})),s})(),Le=(()=>{let s;return function(i){i.EDITABLE_NODE_PROP="editableNode";function t(o){var a;return"nodeType"in o?it.getProperty(o,i.EDITABLE_NODE_PROP)===!0:((a=o.metadata)===null||a===void 0?void 0:a[i.EDITABLE_NODE_PROP])===!0}i.isEditableNode=t;function e(o){it.setProperty(o,i.EDITABLE_NODE_PROP,!0)}i.markEditableNode=e;function r(o){it.setProperty(o,i.EDITABLE_NODE_PROP,void 0)}i.unmarkEditableNode=r}(s||(s={})),s})();var ga=!0,ei=csSymbol("safe"),Kn=csSymbol("task");function Ss(s,i=ga){var t;(t=s[ei])!==null&&t!==void 0||(s[ei]=function(e){let r=arguments;ns(()=>(e[Kn]=vt,s.listener.apply(s.boundElement,r)),[te.EventListener,s.type],e[Kn])}),s.boundElement.addEventListener(s.type,s[ei],i)}function _s(s,i=ga){s.boundElement.removeEventListener(s.type,s[ei],i)}var hi=(()=>{class s{get selectors(){return this.qe===""?null:this.qe}constructor(t,e={closest:!1}){this.A=t,this.Ot=e,this.qe="",this.xn=new fa,this.wr=Ur(r=>{if(this.qe==="")return;let o=[];for(let a of Io(r,c=>c.addedNodes)){if(!(xl(a)||this.Ot.closest&&lr(a)))continue;let c=this.Ot.closest?this.ew(a,this.qe):this.findMatchingElements(a,this.qe);Tn(c,o)}o.length&&this.A(o,"added")},"SelectorObserver.processMutations"),this.iw=(r,o)=>{if(this.qe===""||o!=="added")return;let a=this.findMatchingElements(r,this.qe);a.length&&this.A(a,"added")},this.G=new mi(this.wr,this.iw)}observe(t){this.qe===""?this.G.observe():this.qe+=",",this.qe+=t;let e=this.findMatchingElements(document,t);for(let r of this.G.shadowRoots){let o=this.findMatchingElements(r,t);Tn(o,e)}e.length&&(Nt(e,r=>{this.xn.add(r)}),this.A(e,"initial"))}processPendingMutations(){this.wr(this.G.takeRecords())}disconnect(){this.G.disconnect(),this.xn.clear(),this.qe=""}ew(t,e){let r=[];if(lr(t)){if(t.parentElement){let o=gr(t.parentElement,e);o&&csArray.prototype.push.call(r,o)}return csArray.prototype.filter.call(r,o=>this.xn.has(o)===!1)}else{if(fi(t)){let o=gr(t,e);if(o)return csArray.prototype.push.call(r,o),csArray.prototype.filter.call(r,a=>this.xn.has(a)===!1)}return this.findMatchingElements(t,e)}}findMatchingElements(t,e){let r=ar(window.csquerySelectorAll[t.nodeType].call(t,e));return dt(t)&&Bt.call(t,e)&&csArray.prototype.push.call(r,t),csArray.prototype.filter.call(r,o=>this.xn.has(o)===!1)}}return Te([W()],s.prototype,"observe",null),Te([W()],s.prototype,"disconnect",null),Te([vs("SelectorObserver.findMatchingElements")],s.prototype,"findMatchingElements",null),s})();var Rt=(()=>{let s;return function(i){i[i.TAP=0]="TAP",i[i.LONG_PRESS=1]="LONG_PRESS",i[i.DRAG=2]="DRAG",i[i.FLICK=3]="FLICK",i[i.PINCH_IN=4]="PINCH_IN",i[i.PINCH_OUT=5]="PINCH_OUT"}(s||(s={})),s})(),Ws=(()=>{let s;return function(i){i[i.UP=1]="UP",i[i.DOWN=2]="DOWN",i[i.LEFT=3]="LEFT",i[i.RIGHT=4]="RIGHT"}(s||(s={})),s})(),Ud=(()=>{class s{compute(t,e){let r=this.ci(e.x)-this.ci(t.x),o=this.ci(e.y)-this.ci(t.y),a=e.time-t.time;return{duration:a,distance:this.Np(r,o),direction:this._w(r,o),velocity:this.Aw(r,o,a)}}computePinchMetrics(t,e){let r=this.ci(e.x)-this.ci(t.x),o=this.ci(e.y)-this.ci(t.y);return{duration:e.time-t.time,distance:this.Np(r,o)}}getScale(t,e){return Math.abs(e/t-1)}ci(t){return t/window.devicePixelRatio}Np(t,e){return Math.round(Math.sqrt(t*t+e*e))}Aw(t,e,r){let o=r/1e3,a=t/o,c=e/o;return Math.round(Math.abs(a)+Math.abs(c))}_w(t,e){return Math.abs(t)>Math.abs(e)?t>0?Ws.RIGHT:Ws.LEFT:e>0?Ws.DOWN:Ws.UP}}return s})(),ma=typeof performance!="undefined"&&!!performance.now,Jn=ma?()=>performance.now():()=>csDate.now(),jd=(()=>{var s;return ma?(s=performance.timing)===null||s===void 0?void 0:s.navigationStart:0})(),Ys={now(){return Math.round(Jn()+jd)},elapsed(){return Jn()}};function Qn(s,i=0){let t=Math.pow(10,i);return Math.round(s*t)/t}var Hd=1e3,Bd=100,Fd=.1,zd=(()=>{class s{constructor(){this.Kt={},this._h=()=>{},this.Ma=new Ud,this.Ce()}static isGestureDetectionSupported(){return typeof devicePixelRatio!="undefined"}onGesture(t){this._h=t}isValidTouchEvent(t){return"touches"in t&&"changedTouches"in t}processActionDown(t){if(!this.Tw(t))return;this.bw(t)&&this.Ce();let e={x:t.touches[0].clientX,y:t.touches[0].clientY,time:Ys.now()};if(t.touches.length===1)this.Kt.startPinchTime=e.time,this.Kt.firstTouch=e;else if(t.touches.length===2&&(this.Kt.secondTouch={x:t.touches[1].clientX,y:t.touches[1].clientY,time:Ys.now()},this.Kt.firstTouch&&this.Kt.secondTouch)){let r=this.Ma.computePinchMetrics(this.Kt.firstTouch,this.Kt.secondTouch);this.Cr=r.distance}csArray.prototype.push.call(this.Bn,e),this.Da=we(t)}processActionMove(){this.Ah=!0}processActionUp(t){if(this.Rw(t)){if(csArray.prototype.push.call(this.Bn,{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:Ys.now()}),this.Cw(t)&&this.Kt.startPinchTime){let e={x:t.touches[0].clientX,y:t.touches[0].clientY,time:this.Kt.startPinchTime},r={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:Ys.now()};this.Kt.firstTouch&&(this.Kt.firstTouch=e,this.Kt.secondTouch=r),this.Iw(t)}this.Cr||this.Pw()&&this.Ow(t)}}Ce(){this.Bn=[],this.Da=null,this.Ah=!1,this.Cr=null,this.Fn=!0}Ow(t){let e=this.Ma.compute(this.Bn[0],this.Bn[1]);this.Fn=t.isTrusted;let r=this.Ah?this.Nw(e):this.Mw(e);if(this.Dw(r.type,t.changedTouches)){let o=t.changedTouches[0];r.pageX=Qn(o.pageX,1),r.pageY=Qn(o.pageY,1)}this._h(r,t)}Iw(t){if(!(this.Kt.firstTouch&&this.Kt.secondTouch))return;let e=this.Ma.computePinchMetrics(this.Kt.firstTouch,this.Kt.secondTouch);this.Fn=t.isTrusted;let r=this.kw(e);r&&this._h(r,t)}kw(t){return!this.Cr||this.Ma.getScale(this.Cr,t.distance)<Fd?void 0:{type:this.Cr>t.distance?Rt.PINCH_IN:Rt.PINCH_OUT,target:this.Da,distance:t.distance,isTrusted:this.Fn}}Nw(t){return{type:t.velocity<Bd?Rt.DRAG:Rt.FLICK,target:this.Da,velocity:t.velocity,distance:t.distance,direction:t.direction,isTrusted:this.Fn}}Mw(t){return{type:t.duration<Hd?Rt.TAP:Rt.LONG_PRESS,target:this.Da,isTrusted:this.Fn}}Dw(t,e){return t===Rt.TAP&&e&&e.length===1}bw(t){return t.touches.length===1}Pw(){return this.Bn.length===2}Tw(t){return t.touches.length>0}Rw(t){return t.changedTouches.length>0}Cw(t){return this.Ah&&!!this.Cr&&t.changedTouches.length===1&&t.touches.length===1}}return s})();var yi=(()=>{let s;return function(i){i.UNCOMPRESSED="0",i.GZIP="2"}(s||(s={})),s})(),ya=(()=>{class s{}return s})(),$d=(()=>{class s{constructor(t){this.Bp=[],this.Fp=[],this.We={},this.Ua=t}setQueryParams(t){csArray.prototype.forEach.call(Object.keys(t),e=>{this.We[e]=t[e]})}removeQueryParams(t){t?csArray.prototype.forEach.call(t,e=>{delete this.We[e]}):this.We={}}onBeaconSuccess(t){csArray.prototype.push.call(this.Bp,t)}onBeaconFailure(t){csArray.prototype.push.call(this.Fp,t)}send(t){let e=jr.toQuery({...this.We,ct:yi.UNCOMPRESSED}),r=this.tA(e,t);return r?csArray.prototype.forEach.call(this.Bp,o=>o()):csArray.prototype.forEach.call(this.Fp,o=>o(this.We)),r}tA(t,e){try{if(typeof csNavigatorsendBeacon!="function")return!1;let r=csNavigatorsendBeacon(`${this.Ua}?${t}`,e||"");if(r)return r}catch{}return typeof navigator.sendBeacon!="function"?!1:navigator.sendBeacon(`${this.Ua}?${t}`,e||"")}}return s})();var Gd=(()=>{class s{emit(t,e,r,o=document){let c=`${r!==void 0?`${r}`:`${s.oA}`}${t}`,h=s.createEvent(c,{detail:e});h!==null&&o.dispatchEvent(h)}static createEvent(t,e={}){if(typeof CustomEvent=="function")return new CustomEvent(t,e);let r=this.aA();if(r===null)return null;let{bubbles:o=!1,cancelable:a=!1,detail:c}=e;return r.initCustomEvent(t,o,a,c),r}static aA(){try{return document.createEvent("CustomEvent")}catch{return null}}}return s.oA="cs.tracking.",s})(),Jt=(()=>{let s;return function(i){i.Visible="visible",i.Hidden="hidden",i.Blur="blur",i.PagehideVisible="pagehideVisible",i.PagehideHidden="pagehideHidden",i.ExitPageByNavigate="exitPageByNavigate"}(s||(s={})),s})(),qd=(()=>{class s{constructor(){this.B=!1,this.fi=t=>{try{switch(t.type){case"visibilitychange":return document.visibilityState==="hidden"?this.re(Jt.Hidden):this.re(Jt.Visible);case"pagehide":return document.visibilityState==="hidden"?this.re(Jt.PagehideHidden):this.re(Jt.PagehideVisible);case"blur":return this.re(Jt.Blur);case"navigate":return this.cA(t)?this.re(Jt.ExitPageByNavigate):void 0;default:return}}catch{}}}start(){this.B||(this.B=!0,this.xh(),this.lA(),this.hA(),_n()&&this.uA())}stop(){this.B&&(this.B=!1,this.Lh(),this.dA(),this.fA(),_n()&&this.pA())}onEvent(t){this.re=t}uA(){window.navigation.addEventListener("navigate",this.fi)}pA(){window.navigation.removeEventListener("navigate",this.fi)}xh(){document.addEventListener("visibilitychange",this.fi)}Lh(){document.removeEventListener("visibilitychange",this.fi)}lA(){window.addEventListener("pagehide",this.fi)}dA(){window.removeEventListener("pagehide",this.fi)}hA(){window.addEventListener("blur",this.fi)}fA(){window.removeEventListener("blur",this.fi)}cA(t){return t instanceof NavigateEvent?!t.hashChange&&!t.downloadRequest&&!t.formData:!1}}return s})();var $i=(()=>{let s;return function(i){i[i.COPY=0]="COPY",i[i.CUT=1]="CUT",i[i.PASTE=2]="PASTE"}(s||(s={})),s})(),ht=(()=>{let s;return function(i){i[i.SPACE=0]="SPACE",i[i.ENTER=1]="ENTER",i[i.BACKSPACE=2]="BACKSPACE",i[i.DELETE=3]="DELETE",i[i.ARROWUP=4]="ARROWUP",i[i.ARROWDOWN=5]="ARROWDOWN",i[i.ARROWLEFT=6]="ARROWLEFT",i[i.ARROWRIGHT=7]="ARROWRIGHT",i[i.CAPSLOCK=8]="CAPSLOCK",i[i.SHIFT=9]="SHIFT",i[i.TAB=10]="TAB",i[i.ALPHANUMERICAL=11]="ALPHANUMERICAL",i[i.ESCAPE=12]="ESCAPE",i[i.END=13]="END",i[i.ALT=14]="ALT",i[i.CTRL=15]="CTRL",i[i.META=16]="META"}(s||(s={})),s})();var Zn="data-cs-scroll-container";function Wd(s){try{if(St(csEventtarget.apply(s)))return!0}catch{}return!1}var ms=(()=>{let s;return function(i){function t(r){return!!(St(r)&&Wd(r)&&fi(csEventtarget.apply(r))&&csEventtarget.apply(r).getAttribute(Zn)!==null)}i.isEventOnScrollContainer=t;function e(){return window.csquerySelector[document.nodeType].call(document,`[${Zn}]`)}i.getScrollContainer=e}(s||(s={})),s})();var Yd=30,Xd=0,Kd=(()=>{class s{constructor(t,e=Yd,r=Xd){this.aT=t,this.cT=e,this.lT=r,this.Je=new Nr,this.Fe=!1,this.Jh=0,this.vg=()=>{for(this.Jh=0;this.Je.length;){if(this.Jh>=this.cT){csSetTimeout(this.vg,this.lT);return}let o=z.elapsed(),a=this.Je.pop();if(!a)break;this.runTask(a);let c=z.elapsed()-o;this.Jh+=c}this.Fe=!1}}schedule(t,e=!1){if(!this.aT||e){t();return}Mt.general.pendingTasks.increase(),this.Je.push(t),this.hT()}hT(){this.Fe||(this.Fe=!0,csSetTimeout(()=>{this.vg()}))}runTask(t){Mt.general.pendingTasks.decrease(),t()}runPendingTasks(){this.Je.forEach(t=>{this.runTask(t)}),this.Je.clear()}clearQueue(){Mt.general.pendingTasks.clear(),Mt.mutations.pendingMutations.clear(),this.Je.clear()}isEmpty(){return this.Je.length===0}}return X([W("TaskScheduler"),vs("runTask")],s.prototype,"runTask",null),X([vs("runPendingTasks")],s.prototype,"runPendingTasks",null),s})();var Jd=1024,Qd=512,Gi=1024,qi="||",Zd=(()=>{let s;return function(i){function t(c,h){return F(c)&&csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(c),_e.CHAMELEON)!==-1?_e.CHAMELEON:h}i.handleCustomEventCommandMisuse=t;function e(c,h,p){let g=r(p);return{type:H.CUSTOM_EVENT,ts:0,customEventName:Kt.truncate(c,Jd,Kt.ELLIPSIS),sourceLibrary:iu(h)?h:_e.WEB,...ir(g)?{}:{properties:g}}}i.buildCustomEvent=e;function r(c){let h={};for(let p in c){if(p.length>Qd)continue;let g=c[p];if(Ct(g)||si(g))h[p]=csString(g);else if(a(g))h[p]=Kt.truncate(g,Gi,Kt.ELLIPSIS);else if(ml(g)){let E=o(g);E!==""&&(h[p]=E)}}return h}i.sanitizeCustomEventProperties=r;function o(c){let h="";for(let p=0;p<c.length;p++){let g=c[p];if(!Ct(g)&&!si(g)&&!a(g))continue;let E=csString(g);if(h==="")h=Kt.truncate(E,Gi,Kt.ELLIPSIS);else if(h.length+qi.length+E.length<=Gi)h+=qi+E;else break}return h}function a(c){return F(c)&&!_o(c)&&!csString.prototype.includes.call(c,qi)}}(s||(s={})),s})(),pt=(()=>{class s{static buildFromCustomEvent(t,e){return this.Ag(null,t,e)}static buildFromAnalysisEvent(t,e,r){return this.Ag(t,e,r)}static Ag(t,e,r){return csArray.prototype.reduce.call(r,(o,a)=>a.enhanceAnalysisEvent(t,o),e)}}return s})();var tf=(()=>{class s extends kt{constructor(t,e,r,o,a,c,h,p,g,E,v,m,w,P,V,T,A,M,I,b,k){super(),this.E=t,this.Ei=e,this.Bt=r,this.Nr=o,this.Zh=a,this.Qe=c,this.Me=h,this.tu=p,this.U=g,this.ne=E,this.eu=v,this.Xe=m,this.X=w,this.Ft=P,this.Za=V,this.xs=T,this.Ls=A,this.su=M,this.Gi=I,this.qi=b,this.Wi=k,this.gi=new Gd,this.tc=!1,this.Yi=[]}init(){var t,e,r,o,a,c,h;this.Ei.onEvent(p=>this.Ut(p)),this.Bt.onEvent(p=>this.Ut(p)),this.Nr.onEvent(()=>{let p=this.Nr.getRequestParameters();this.X.setQueryParams(p),this.Me.setQueryParams(p)}),this.eu.onEvent(p=>this.ye(p)),this.iu(),(t=this.Za)===null||t===void 0||t.onEvent(p=>this.Ut(p)),(e=this.Gi)===null||e===void 0||e.onEvent(p=>this.Ut(p)),(r=this.xs)===null||r===void 0||r.onEvent(p=>this.Ut(p)),(o=this.Ls)===null||o===void 0||o.onEvent(p=>this.Ut(p)),this.ST(),(a=this.su)===null||a===void 0||a.onEvent(p=>this.ye(p)),(c=this.qi)===null||c===void 0||c.onEvent(p=>this.ye(p)),(h=this.Wi)===null||h===void 0||h.onEvent(p=>this.ye(p))}ST(){this.Me.onBeaconSuccess(()=>{this.Qe.clearEvents()}),this.Me.onBeaconFailure(t=>{this._T(t)})}initStates(){let t=this.tu.getRequestParameters(),e=this.Zh.getRequestParameters(),r=this.Nr.getRequestParameters();this.X.setQueryParams(t),this.X.setQueryParams(e),this.X.setQueryParams(r),this.Me.setQueryParams(t),this.Me.setQueryParams(e),this.Me.setQueryParams(r),this.ru()}clearStates(t){var e,r;this.Ei.flushPendingDebouncedListeners(),(e=this.xs)===null||e===void 0||e.flushPendingKeyboardNavigationEvent(),(r=this.Ls)===null||r===void 0||r.flushPendingTextHighlightEvent(),t?(this.nu(),this.sendLastMessageBeacon()):this.sendEvents(),this.Nr.reset(),this.X.removeQueryParams()}onStart(t){var e,r,o,a,c,h,p;t||(e=this.su)===null||e===void 0||e.start(),this.Xe.start(),this.Ei.start(),this.Nr.start(),this.Bt.start(),(r=this.Za)===null||r===void 0||r.start(),(o=this.Ls)===null||o===void 0||o.start(),t||this.eu.start(),(a=this.xs)===null||a===void 0||a.start(),(c=this.Gi)===null||c===void 0||c.start(),(h=this.qi)===null||h===void 0||h.start(),(p=this.Wi)===null||p===void 0||p.start(),csArray.prototype.forEach.call(this.Yi,g=>{this.ye(g)}),this.Yi=[]}collectInitialEvents(){var t;(t=this.Za)===null||t===void 0||t.collectInitialEvents()}onIframeAnalysisBrowserEvent(t){this.ye(t)}onIframeAnalysisUserEvent(t){this.Ut(t)}onExternalEvent(t){this.J(t)}ye(t){this.isStarted&&this.U.isCurrentPageviewValid()&&this.J(t)}Ut(t){this.isStarted&&(this.U.refreshSession(),this.U.isSessionValid()&&this.J(t))}J(t){this.Qe.addEvent(this.wT(t)),this.Qe.isFull()&&this.sendEvents(),this.E.emitDebugEvents&&this.gi.emit("analysisEvent",{...t,typeName:H[t.type]})}wT(t){return t.ts=this.Xi(),t}nu(){this.Me.setQueryParams({hlm:"true"}),this.tc=!0}sendLastMessageBeacon(){this.Me.removeQueryParams(["i"]),this.Me.setQueryParams(this.tu.getRequestParameters()),this.Me.setQueryParams(this.Zh.getRequestParameters()),this.Me.send(this.Qe.stringifyEvents()),this.Me.removeQueryParams(["hlm"]),this.tc=!1}sendEvents(){this.Qe.isEmpty()||(this.Me.removeQueryParams(["i"]),this.X.setQueryParams(this.tu.getRequestParameters()),this.X.setQueryParams(this.Zh.getRequestParameters()),this.X.send(this.Qe.getEvents()),this.Qe.clearEvents())}onStop(){var t,e,r,o,a,c,h;this.Xe.stop(),this.Ei.stop(),this.Nr.stop(),this.Bt.stop(),this.eu.stop(),(t=this.Za)===null||t===void 0||t.stop(),(e=this.xs)===null||e===void 0||e.stop(),(r=this.Ls)===null||r===void 0||r.stop(),(o=this.Gi)===null||o===void 0||o.stop(),this.Qe.empty(),(a=this.su)===null||a===void 0||a.stop(),(c=this.qi)===null||c===void 0||c.stop(),(h=this.Wi)===null||h===void 0||h.stop()}ru(){this.gs=z.now()}Xi(){return z.now()-this.gs}iu(){this.Xe.onEvent(t=>{var e,r;t!==Jt.Visible&&((e=this.xs)===null||e===void 0||e.flushPendingKeyboardNavigationEvent(),(r=this.Ls)===null||r===void 0||r.flushPendingTextHighlightEvent(),t===Jt.PagehideVisible?this.nu():t===Jt.PagehideHidden?(this.nu(),this.sendLastMessageBeacon()):(!this.Qe.isEmpty()||this.tc)&&this.sendLastMessageBeacon())})}_T(t){try{(!this.Qe.isEmpty()||this.tc)&&this.ne.save({requestParameters:t,events:this.Qe.getEvents()})}catch{}}pushCustomEvent(t,e,r){if(!(F(t)&&!_o(t))||r!==void 0&&!So(r))throw new mt(Tr[0]);let o=Zd.buildCustomEvent(t,e,r),a=pt.buildFromCustomEvent(o,this.Ft);this.isStarted?this.ye(a):csArray.prototype.push.call(this.Yi,a)}}return s})(),bs=(()=>{class s{isEventTypeSupported(t){return csArray.prototype.indexOf.call(this.supportedEventTypes,t)!==-1}enhanceAnalysisEvent(t,e){return this.isEventTypeSupported(e.type)?this.baseEnhanceAnalysisEvent(t,e):e}}return s})(),ef=(()=>{class s extends bs{constructor(){super(...arguments),this.supportedEventTypes=[H.CHANGE],this.AT=["text","email","number","search","tel","url","password"]}baseEnhanceAnalysisEvent(t,e){let r=we(t);return kr(r)&&csArray.prototype.indexOf.call(this.AT,r.type)>=0&&(e.isBlank=r.value===""),e}}return s})();var wt=(()=>{let s;return function(i){i[i.ANONYMIZED=0]="ANONYMIZED",i[i.CAPTURED=1]="CAPTURED",i[i.MASKED=2]="MASKED",i[i.ENCRYPTED=3]="ENCRYPTED"}(s||(s={})),s})();var Ea=(()=>{class s extends bs{constructor(t){super(),this.pt=t,this.supportedEventTypes=[H.MOUSEDOWN,H.MOUSEUP,H.CLICK,H.MOUSEOVER,H.TAP,H.DRAG,H.FLICK,H.SUBMIT,H.CHANGE]}baseEnhanceAnalysisEvent(t,e){return e.tgt||(e.tgt=this.pt.getEventTargetPath(t)),e}}return s})(),to=65535,sf=(()=>{let s;return function(i){function t(e){let r=we(e);if(!r||!dt(r)||!Fe(r.getBoundingClientRect)||!St(e.pageX)||!St(e.pageY))return{xRel:-1,yRel:-1,valid:!1};let o=r.getBoundingClientRect(),a=e.pageX-o.left-gt.windowOffsetX(),c=e.pageY-o.top-gt.windowOffsetY();r!==document.documentElement&&(a+=r.scrollLeft,c+=r.scrollTop);let h=Math.max(r.scrollWidth,o.width),p=Math.max(r.scrollHeight,o.height),g=Math.round(a/h*to),E=Math.round(c/p*to);return{xRel:g,yRel:E,valid:!0}}i.getRelativePosition=t}(s||(s={})),s})(),rf=(()=>{class s extends bs{constructor(t,e){super(),this.As=t,this.pt=e,this.supportedEventTypes=[H.MOUSEMOVE,H.CLICK],this.lu=""}baseEnhanceAnalysisEvent(t,e){let{valid:r,xRel:o,yRel:a}=sf.getRelativePosition(t);if(r){let c=this.pt.getEventTargetPath(t);c!==be.INVALID_ELEMENT&&(e.xRel=o,e.yRel=a,e.type===H.MOUSEMOVE&&(c!==this.lu||this.As.iframesTracking?(this.lu=c,e.tgtHM=c,this.As.isChild||(e.tgtHMH=Ko(e.tgtHM))):e.tgtHM=""))}else e.type===H.MOUSEMOVE&&(this.lu="");return e}}return s})(),va=(()=>{class s extends bs{constructor(t,e){super(),this.pt=t,this.zt=e,this.supportedEventTypes=[H.CLICK,H.SUBMIT,H.CHANGE,H.TAP]}baseEnhanceAnalysisEvent(t,e){let r=this.zt.getSensitiveStatus().useAnonymization,{path:o,hierarchy:a}=this.pt.getEventTargetPathAndHierarchy(t,r);return e.tgt=o,e.hrchy=a,e}}return s})(),eo=100,Sa=(()=>{class s extends bs{constructor(t,e,r){super(),this.E=t,this.zt=e,this.D=r,this.supportedEventTypes=[H.TAP,H.CLICK,H.SUBMIT]}VT(t){let e="",r=document.createTreeWalker(t,NodeFilter.SHOW_TEXT),o=r.nextNode();for(;o;){if(e+=o.textContent,ko(o.parentElement)||Mo(o.parentElement)||this.zt.getElementSensitiveStatus(o.parentElement)!==wt.CAPTURED)return!0;if(csString.prototype.trim.call(e).length>=eo)break;o=r.nextNode()}return!1}UT(t){let e=gr(t,"button,a");return e||(this.E.collectTargetText===pr.ButtonAndLinkOnly?null:t)}baseEnhanceAnalysisEvent(t,e){if(fi(csEventtarget.apply(t))){let r=this.UT(csEventtarget.apply(t));if(r&&F(r.textContent)&&!this.VT(r)&&!this.D.hasPII(r.textContent,this.E.anonymizeDigits)){let o=Kt.truncate(csString.prototype.trim.call(r.textContent),eo);o.length>0&&(e.text=o)}}return e}}return s})();function nf(s,i,t,e,r){let o=[];return csArray.prototype.push.call(o,new rf(s,i)),s.isCollectTargetTextEnabled()&&csArray.prototype.push.call(o,new Sa(s,t,new Ts)),s.collectHierarchy&&csArray.prototype.push.call(o,new va(i,t)),csArray.prototype.push.call(o,new ef,new Ea(i)),o}function of(s,i,t,e,r){let o=[];return s.isCollectTargetTextEnabled()&&csArray.prototype.push.call(o,new Sa(s,t,new Ts)),s.collectHierarchy&&csArray.prototype.push.call(o,new va(i,t)),csArray.prototype.push.call(o,new Ea(i)),o}var af=(()=>{class s extends kt{constructor(t,e){super(),this.ne=t,this.X=e,this.Ig=()=>{document.visibilityState==="visible"&&this.Pg()}}onStart(){this.Pg(),this.xh()}onStop(){this.Lh()}getRecoveryStorage(){return this.ne}Pg(){let t=this.ne.recover();if(t!==null){let{requestParameters:e,events:r}=t;this.X.send(r,e)}}xh(){document.addEventListener("visibilitychange",this.Ig)}Lh(){document.removeEventListener("visibilitychange",this.Ig)}}return s})(),cf=(()=>{class s{constructor(t){this.Ir=t}save(t){localStorage.setItem(this.Ir,csJSON.stringify(t))}clear(){localStorage.removeItem(this.Ir)}recover(){let t=localStorage.getItem(this.Ir);if(t===null)return null;let e=null;try{e=csJSON.parse(t)}catch{j.error(`Invalid item in localStorage.
         (key:${this.Ir}; value:${t})`)}finally{this.clear()}return e}}return s})(),lf=50,hf=(()=>{class s{constructor(t=[]){this.Ht=t}stringifyEvents(){return csJSON.stringify(this.Ht)}addEvent(t){csArray.prototype.push.call(this.Ht,t)}eventsCount(){return this.Ht.length}clearEvents(){this.Ht=[]}empty(){this.clearEvents()}isFull(){return this.eventsCount()>=lf}isEmpty(){return this.Ht.length===0}getEvents(){return this.Ht}}return s})(),uf=(()=>{class s{constructor(t,e,r,o=["submit"]){this.Ft=t,this.pt=e,this.$t=r,this.jT=o,this.Og="select, select *, input, textarea",this.HT="select, select *, input, textarea",this.Ng="a, a *, button, button *, select, select *, input, textarea",this.oo="input, select, textarea",this.BT="form",this.rc=150,this.FT=400,this.Mg=!1,this.ao=rr((a,c)=>this.scrollListener(a,c),this.rc),this.Dg=rr(a=>this.resizeListener(a),this.rc),this.zT=zr(a=>this.mouseMoveListener(a),this.FT),this.$T=[{boundElement:window,type:"resize",listener:()=>this.Dg()},{boundElement:document,type:"scroll",listener:a=>this.ao(a)},{boundElement:window,type:"mousemove",listener:a=>{this.zT(Eu(a))}},{boundElement:document,type:"mousedown",listener:a=>this.mouseDownListener(a)},{boundElement:document,type:"mouseup",listener:a=>this.mouseUpListener(a)},{boundElement:document,type:"click",listener:a=>this.clickListener(a)}],this.kg=[{type:"change",listener:this.$t.on(this.HT,a=>this.changeListener(a))},{type:"submit",listener:this.$t.on(this.BT,a=>this.submitListener(a))}],this.GT=[{boundElement:document,type:"mouseover",listener:this.$t.on(this.Ng,a=>this.mouseOverListener(a))},{boundElement:document,type:"mouseout",listener:this.$t.on(this.Ng,a=>this.mouseOutListener(a))},{boundElement:document,type:"focusin",listener:this.$t.on(this.Og,a=>this.focusInListener(a))},{boundElement:document,type:"focusout",listener:this.$t.on(this.Og,a=>this.focusOutListener(a))},{boundElement:document,type:"keyup",listener:this.$t.on(this.oo,a=>this.keyUpListener(a))},{boundElement:document,type:"keydown",listener:this.$t.on(this.oo,a=>this.keyDownListener(a))},{boundElement:document,type:"copy",listener:this.$t.on(this.oo,a=>this.copyListener(a))},{boundElement:document,type:"cut",listener:this.$t.on(this.oo,a=>this.cutListener(a))},{boundElement:document,type:"paste",listener:this.$t.on(this.oo,a=>this.pasteListener(a))},...csArray.prototype.map.call(this.kg,a=>({...a,boundElement:document}))],this.F={},this.$l=(a,c)=>{switch(c){case"initial":case"added":this.Bi(a);break;case"removed":this.Fi(a);break}},this.de=new pa(this.$l),this.Yh()}Bi(t){if(Cn(t)){let e=this.xg();csArray.prototype.forEach.call(e,r=>Ss(r))}else{let e=this.Lg();csArray.prototype.forEach.call(e,r=>{Ss({...r,boundElement:t})})}}Fi(t){if(Cn(t)){let e=this.xg();csArray.prototype.forEach.call(e,r=>_s(r))}else{let e=this.Lg();csArray.prototype.forEach.call(e,r=>{_s({...r,boundElement:t})})}}onEvent(t){this.j=t}start(){this.de.observe(),this.Bi(document),this.resizeListener()}stop(){this.Fi(document),this.de.disconnect()}flushPendingDebouncedListeners(){this.ao.flushPending(),this.Dg.flushPending()}Vg(t){return csArray.prototype.some.call(this.jT,e=>e===t)}Lg(){return this.$t.isMatchesSelectorSupported()?csArray.prototype.filter.call(this.kg,t=>!this.Vg(t.type)):(j.warn("Element.matches is not implemented yet"),[])}xg(){let t=[];return csArray.prototype.push.call(t,...this.$T),this.$t.isMatchesSelectorSupported()?csArray.prototype.push.call(t,...this.GT):j.warn("Element.matches is not implemented yet"),csArray.prototype.filter.call(t,e=>!this.Vg(e.type))}resizeListener(t){let e=ms.getScrollContainer(),r=fi(e);r&&(this.Mg=!0);let o={type:H.RESIZE,ts:0,x:r?e.clientWidth:gt.windowWidth(),y:r?e.clientHeight:gt.windowHeight()};t!==void 0&&(o.d=t),this.j(o)}scrollListener(t,e){let r=ms.isEventOnScrollContainer(e);!this.Mg&&r&&this.resizeListener();let o={type:H.SCROLL,ts:0,x:r?csEventtarget.apply(e).scrollLeft:gt.windowOffsetX(),y:r?csEventtarget.apply(e).scrollTop:gt.windowOffsetY(),d:t},a=pt.buildFromAnalysisEvent(e,o,this.Ft);this.j(a)}mouseMoveListener(t){let e={type:H.MOUSEMOVE,ts:0,x:t.pageX,y:t.pageY},r=pt.buildFromAnalysisEvent(t,e,this.Ft);this.j(r)}mouseDownListener(t){let e={type:H.MOUSEDOWN,ts:0,x:t.pageX,y:t.pageY,tgt:""},r=pt.buildFromAnalysisEvent(t,e,this.Ft);this.Ee(r)}mouseUpListener(t){let e={type:H.MOUSEUP,ts:0,x:t.pageX,y:t.pageY,tgt:""},r=pt.buildFromAnalysisEvent(t,e,this.Ft);this.Ee(r)}clickListener(t){let e={type:H.CLICK,ts:0,x:t.pageX,y:t.pageY,tgt:""},r=pt.buildFromAnalysisEvent(t,e,this.Ft);this.Ee(r)}mouseOverListener(t){let e={type:H.MOUSEOVER,ts:0,x:t.pageX,y:t.pageY,tgt:""},r=pt.buildFromAnalysisEvent(t,e,this.Ft);this.Ee(r)}mouseOutListener(t){let e={type:H.MOUSEOUT,ts:0,x:t.pageX,y:t.pageY,tgt:this.pt.getEventTargetPath(t)},r=pt.buildFromAnalysisEvent(t,e,this.Ft);this.Ee(r)}focusInListener(t){let e={type:H.FOCUSIN,ts:0,tgt:this.pt.getEventTargetPath(t)},r=pt.buildFromAnalysisEvent(t,e,this.Ft);this.Ee(r)}focusOutListener(t){let e={type:H.FOCUSOUT,ts:0,tgt:this.pt.getEventTargetPath(t)},r=pt.buildFromAnalysisEvent(t,e,this.Ft);this.Ee(r)}changeListener(t){let e={type:H.CHANGE,ts:0,tgt:""},r=pt.buildFromAnalysisEvent(t,e,this.Ft);this.Ee(r)}submitListener(t){let e={type:H.SUBMIT,ts:0,tgt:""},r=pt.buildFromAnalysisEvent(t,e,this.Ft);this.Ee(r)}copyListener(t){let e={type:H.COMMAND,ts:0,tgt:this.pt.getEventTargetPath(t),key:$i.COPY};this.Ee(e)}cutListener(t){let e={type:H.COMMAND,ts:0,tgt:this.pt.getEventTargetPath(t),key:$i.CUT};this.Ee(e)}pasteListener(t){let e={type:H.COMMAND,ts:0,tgt:this.pt.getEventTargetPath(t),key:$i.PASTE};this.Ee(e)}keyUpListener(t){let e={type:H.KEYUP,ts:0,tgt:this.pt.getEventTargetPath(t),key:this.Ug(t)};this.Ee(e)}keyDownListener(t){let e={type:H.KEYDOWN,ts:0,tgt:this.pt.getEventTargetPath(t),key:this.Ug(t)};this.Ee(e)}Ug(t){let e=this.F[t.key];return e===void 0?ht.ALPHANUMERICAL:e}Ee(t){Xo(t)&&t.tgt!==be.INVALID_ELEMENT&&this.j(t)}Yh(){this.F[" "]=ht.SPACE,this.F.Spacebar=ht.SPACE,this.F.Enter=ht.ENTER,this.F.Backspace=ht.BACKSPACE,this.F.Delete=ht.DELETE,this.F.ArrowUp=ht.ARROWUP,this.F.ArrowDown=ht.ARROWDOWN,this.F.ArrowLeft=ht.ARROWLEFT,this.F.ArrowRight=ht.ARROWRIGHT,this.F.Up=ht.ARROWUP,this.F.Down=ht.ARROWDOWN,this.F.Left=ht.ARROWLEFT,this.F.Right=ht.ARROWRIGHT,this.F.CapsLock=ht.CAPSLOCK,this.F.Shift=ht.SHIFT,this.F.Tab=ht.TAB}}return X([W("Event handler type: resize")],s.prototype,"resizeListener",null),X([W("Event handler type: scroll")],s.prototype,"scrollListener",null),X([W("Event handler type: mouseMove"),ye()],s.prototype,"mouseMoveListener",null),X([W("Event handler type: mouseDown"),ye()],s.prototype,"mouseDownListener",null),X([W("Event handler type: mouseUp"),ye()],s.prototype,"mouseUpListener",null),X([W("Event handler type: click"),ye()],s.prototype,"clickListener",null),X([W("Event handler type: mouseOver"),ye()],s.prototype,"mouseOverListener",null),X([W("Event handler type: mouseOut"),ye()],s.prototype,"mouseOutListener",null),X([W("Event handler type: focusIn")],s.prototype,"focusInListener",null),X([W("Event handler type: focusOut")],s.prototype,"focusOutListener",null),X([W("Event handler type: change")],s.prototype,"changeListener",null),X([W("Event handler type: submit"),ye()],s.prototype,"submitListener",null),X([W("Event handler type: copy")],s.prototype,"copyListener",null),X([W("Event handler type: cut")],s.prototype,"cutListener",null),X([W("Event handler type: paste")],s.prototype,"pasteListener",null),X([W("Event handler type: keyup")],s.prototype,"keyUpListener",null),X([W("Event handler type: keydown")],s.prototype,"keyDownListener",null),s})(),df=(()=>{class s{constructor(t,e,r){this.Ft=t,this.Bt=e,this.Ot=r}processGesture(t,e){switch(t.type){case Rt.TAP:this.qT(e);break;case Rt.FLICK:this.WT(t,e);break;case Rt.DRAG:this.YT(t,e);break;default:break}}qT(t){let e={type:H.TAP,ts:0,x:0,y:0,tgt:""},r=pt.buildFromAnalysisEvent(t,e,this.Ft);r.tgt!==be.INVALID_ELEMENT&&this.j(r)}YT(t,e){var r,o;let a={type:H.DRAG,ts:0,fd:t.direction,tgt:""};!((r=this.Ot)===null||r===void 0)&&r.collectGestureDistance&&(a.distance=t.distance),!((o=this.Ot)===null||o===void 0)&&o.collectGestureVelocity&&(a.velocity=t.velocity);let c=pt.buildFromAnalysisEvent(e,a,this.Ft);c.tgt!==be.INVALID_ELEMENT&&this.j(c)}WT(t,e){var r,o;let a={type:H.FLICK,ts:0,fd:t.direction,tgt:""};!((r=this.Ot)===null||r===void 0)&&r.collectGestureDistance&&(a.distance=t.distance),!((o=this.Ot)===null||o===void 0)&&o.collectGestureVelocity&&(a.velocity=t.velocity);let c=pt.buildFromAnalysisEvent(e,a,this.Ft);c.tgt!==be.INVALID_ELEMENT&&this.j(c)}onEvent(t){this.j=t}start(){this.Bt.subscribe(s.jg,(t,e)=>this.processGesture(t,e))}stop(){this.Bt.unsubscribe(s.jg)}}return s.jg="AnalysisGestureTracker",X([ye()],s.prototype,"processGesture",null),s})();var ff=(()=>{class s{constructor(){this.Xg=100,this.ho=0,this.uo=gt.documentHeight(),this.Kg={boundElement:document,type:"scroll",listener:t=>this.maxScrollRateListener(t)},this.ho=this.yu(ms.getScrollContainer()).maxScrollRate}onEvent(t){this.j=t}start(){Ss(this.Kg)}stop(){_s(this.Kg)}reset(){let t=ms.getScrollContainer(),{maxScrollRate:e,maxDocumentHeight:r}=this.yu(t);this.uo=r,this.ho=e,this.j()}yu(t){let e=0,r=0;if(t===null)r=gt.documentHeight(),e=this.ob(r);else{let o=this.ab(t);r=this.Jg(t,o),e=this.cb(t,o)}return{maxScrollRate:e,maxDocumentHeight:r}}maxScrollRateListener(t){let e=null;ms.isEventOnScrollContainer(t)&&(e=csEventtarget.apply(t));let{maxScrollRate:r,maxDocumentHeight:o}=this.yu(e);(r>this.ho||o>this.uo)&&(this.ho=r,o>this.uo&&(this.uo=o),this.j())}ob(t){let e=Math.round(this.lb()/t*100);return Math.min(e,this.Xg)}lb(){let t=gt.windowHeight();return gt.windowOffsetY()+t}cb(t,e){let r=t.scrollTop+t.clientHeight+t.getBoundingClientRect().top+e,o=this.Jg(t,e),a=Math.round(r/o*100);return Math.min(a,this.Xg)}ab(t){let e=window.getComputedStyle(t).paddingTop||"0px";return parseInt(e,10)}Jg(t,e){return t.scrollHeight+t.getBoundingClientRect().top+e}getRequestParameters(){return{sr:`${this.ho}`,mdh:`${this.uo}`}}}return X([W("MaxScrollRate handler")],s.prototype,"maxScrollRateListener",null),s})(),pf=(()=>{class s{constructor(t){this.fo=t,this.po=e=>this.processMetric(e),this.B=!1}onEvent(t){this.j=t}start(){this.B||(this.B=!0,this.fo.onFCP(this.po),this.fo.onCLS(this.po),this.fo.onLCP(this.po),this.fo.onTTFB(this.po),this.fo.onINP(this.po))}stop(){this.B=!1}processMetric(t){if(!this.B)return;let e={type:H.PERFORMANCE,name:t.name,val:t.value,ts:0};this.j(e)}}return X([W("Performance metric handler")],s.prototype,"processMetric",null),s})(),gf=(()=>{class s{constructor(t){this.cc=t.performance}getRequestParameters(){if(this.hb())return{};let t=this.db();return{str:t.startRender,di:t.domInteractive,dc:t.domComplete,fl:t.fullyLoaded}}db(){let t=this.cc.timing;return{startRender:`${t.domLoading-t.requestStart}`,domInteractive:`${t.domInteractive-t.requestStart}`,domComplete:`${t.domComplete-t.requestStart}`,fullyLoaded:`${t.loadEventEnd-t.requestStart}`}}hb(){return!(this.cc&&this.cc.timing&&this.cc.timing.loadEventEnd>0)}}return s})();var _a=-1,os=s=>{addEventListener("pageshow",i=>{i.persisted&&(_a=i.timeStamp,s(i))},!0)},Ft=(s,i,t,e)=>{let r,o;return a=>{i.value>=0&&(a||e)&&(o=i.value-(r!=null?r:0),(o||r===void 0)&&(r=i.value,i.delta=o,i.rating=((c,h)=>c>h[1]?"poor":c>h[0]?"needs-improvement":"good")(i.value,t),s(i)))}},Yr=s=>{requestAnimationFrame(()=>requestAnimationFrame(()=>s()))},Xr=()=>{let s=performance.getEntriesByType("navigation")[0];if(s&&s.responseStart>0&&s.responseStart<performance.now())return s},Rs=()=>{var i;let s=Xr();return(i=s==null?void 0:s.activationStart)!=null?i:0},zt=(s,i=-1)=>{let t=Xr(),e="navigate";return _a>=0?e="back-forward-cache":t&&(document.prerendering||Rs()>0?e="prerender":document.wasDiscarded?e="restore":t.type&&(e=t.type.replace(/_/g,"-"))),{name:s,value:i,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:e}},Wi=new WeakMap;function Kr(s,i){return Wi.get(s)||Wi.set(s,new i),Wi.get(s)}var vr=class{constructor(){Gt(this,"t");Gt(this,"i",0);Gt(this,"o",[])}h(i){var r;if(i.hadRecentInput)return;let t=this.o[0],e=this.o.at(-1);this.i&&t&&e&&i.startTime-e.startTime<1e3&&i.startTime-t.startTime<5e3?(this.i+=i.value,this.o.push(i)):(this.i=i.value,this.o=[i]),(r=this.t)==null||r.call(this,i)}},Cs=(s,i,t={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(s)){let e=new PerformanceObserver(r=>{Promise.resolve().then(()=>{i(r.getEntries())})});return e.observe({type:s,buffered:!0,...t}),e}}catch{}},Jr=s=>{let i=!1;return()=>{i||(s(),i=!0)}},ss=-1,so=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,ui=s=>{document.visibilityState==="hidden"&&ss>-1&&(ss=s.type==="visibilitychange"?s.timeStamp:0,mf())},io=()=>{addEventListener("visibilitychange",ui,!0),addEventListener("prerenderingchange",ui,!0)},mf=()=>{removeEventListener("visibilitychange",ui,!0),removeEventListener("prerenderingchange",ui,!0)},wa=()=>{var s;if(ss<0){let i=Rs(),t=document.prerendering||(s=globalThis.performance.getEntriesByType("visibility-state").filter(e=>e.name==="hidden"&&e.startTime>i)[0])==null?void 0:s.startTime;ss=t!=null?t:so(),io(),os(()=>{setTimeout(()=>{ss=so(),io()})})}return{get firstHiddenTime(){return ss}}},Ei=s=>{document.prerendering?addEventListener("prerenderingchange",()=>s(),!0):s()},ro=[1800,3e3],Aa=(s,i={})=>{Ei(()=>{let t=wa(),e,r=zt("FCP"),o=Cs("paint",a=>{for(let c of a)c.name==="first-contentful-paint"&&(o.disconnect(),c.startTime<t.firstHiddenTime&&(r.value=Math.max(c.startTime-Rs(),0),r.entries.push(c),e(!0)))});o&&(e=Ft(s,r,ro,i.reportAllChanges),os(a=>{r=zt("FCP"),e=Ft(s,r,ro,i.reportAllChanges),Yr(()=>{r.value=performance.now()-a.timeStamp,e(!0)})}))})},no=[.1,.25],yf=(s,i={})=>{Aa(Jr(()=>{let t,e=zt("CLS",0),r=Kr(i,vr),o=c=>{for(let h of c)r.h(h);r.i>e.value&&(e.value=r.i,e.entries=r.o,t())},a=Cs("layout-shift",o);a&&(t=Ft(s,e,no,i.reportAllChanges),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(o(a.takeRecords()),t(!0))}),os(()=>{r.i=0,e=zt("CLS",0),t=Ft(s,e,no,i.reportAllChanges),Yr(()=>t())}),setTimeout(t))}))},Ta=0,Yi=1/0,Xs=0,Ef=s=>{for(let i of s)i.interactionId&&(Yi=Math.min(Yi,i.interactionId),Xs=Math.max(Xs,i.interactionId),Ta=Xs?(Xs-Yi)/7+1:0)},Sr,oo=()=>{var s;return Sr?Ta:(s=performance.interactionCount)!=null?s:0},vf=()=>{"interactionCount"in performance||Sr||(Sr=Cs("event",Ef,{type:"event",buffered:!0,durationThreshold:0}))},ao=0,_r=class{constructor(){Gt(this,"u",[]);Gt(this,"l",new Map);Gt(this,"m");Gt(this,"p")}v(){ao=oo(),this.u.length=0,this.l.clear()}P(){let i=Math.min(this.u.length-1,Math.floor((oo()-ao)/50));return this.u[i]}h(i){var r,o;if((r=this.m)==null||r.call(this,i),!i.interactionId&&i.entryType!=="first-input")return;let t=this.u.at(-1),e=this.l.get(i.interactionId);if(e||this.u.length<10||i.duration>t.T){if(e?i.duration>e.T?(e.entries=[i],e.T=i.duration):i.duration===e.T&&i.startTime===e.entries[0].startTime&&e.entries.push(i):(e={id:i.interactionId,entries:[i],T:i.duration},this.l.set(e.id,e),this.u.push(e)),this.u.sort((a,c)=>c.T-a.T),this.u.length>10){let a=this.u.splice(10);for(let c of a)this.l.delete(c.id)}(o=this.p)==null||o.call(this,e)}}},ba=s=>{let i=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?s():(i(s=Jr(s)),document.addEventListener("visibilitychange",s,{once:!0}))},co=[200,500],Sf=(s,i={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&Ei(()=>{var c;vf();let t,e=zt("INP"),r=Kr(i,_r),o=h=>{ba(()=>{for(let g of h)r.h(g);let p=r.P();p&&p.T!==e.value&&(e.value=p.T,e.entries=p.entries,t())})},a=Cs("event",o,{durationThreshold:(c=i.durationThreshold)!=null?c:40});t=Ft(s,e,co,i.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(o(a.takeRecords()),t(!0))}),os(()=>{r.v(),e=zt("INP"),t=Ft(s,e,co,i.reportAllChanges)}))})},wr=class{constructor(){Gt(this,"m")}h(i){var t;(t=this.m)==null||t.call(this,i)}},lo=[2500,4e3],_f=(s,i={})=>{Ei(()=>{let t=wa(),e,r=zt("LCP"),o=Kr(i,wr),a=h=>{i.reportAllChanges||(h=h.slice(-1));for(let p of h)o.h(p),p.startTime<t.firstHiddenTime&&(r.value=Math.max(p.startTime-Rs(),0),r.entries=[p],e())},c=Cs("largest-contentful-paint",a);if(c){e=Ft(s,r,lo,i.reportAllChanges);let h=Jr(()=>{a(c.takeRecords()),c.disconnect(),e(!0)});for(let p of["keydown","click","visibilitychange"])addEventListener(p,()=>ba(h),{capture:!0,once:!0});os(p=>{r=zt("LCP"),e=Ft(s,r,lo,i.reportAllChanges),Yr(()=>{r.value=performance.now()-p.timeStamp,e(!0)})})}})},ho=[800,1800],Ar=s=>{document.prerendering?Ei(()=>Ar(s)):document.readyState!=="complete"?addEventListener("load",()=>Ar(s),!0):setTimeout(s)},wf=(s,i={})=>{let t=zt("TTFB"),e=Ft(s,t,ho,i.reportAllChanges);Ar(()=>{let r=Xr();r&&(t.value=Math.max(r.responseStart-Rs(),0),t.entries=[r],e(!0),os(()=>{t=zt("TTFB",0),e=Ft(s,t,ho,i.reportAllChanges),e(!0)}))})},Af=(()=>{class s{onFCP(t){try{Aa(t,{reportAllChanges:!0})}catch{U.counters.webVitalsErrors.count("FCP")}}onCLS(t){try{yf(t,{reportAllChanges:!0})}catch{U.counters.webVitalsErrors.count("CLS")}}onLCP(t){try{_f(t,{reportAllChanges:!0})}catch{U.counters.webVitalsErrors.count("LCP")}}onTTFB(t){try{wf(t,{reportAllChanges:!0})}catch{U.counters.webVitalsErrors.count("TTFB")}}onINP(t){try{Sf(t,{reportAllChanges:!0})}catch{U.counters.webVitalsErrors.count("INP")}}}return s})();var Tf="csAnalysisEventsPersisted",uo="v2/events",bf=["submit"],Tr=["trackEvent"];var Rf=(()=>{class s{constructor(t,e,r,o,a,c,h,p,g,E,v,m,w,P,V){this.E=t,this.wt=e,this.O=r,this.tt=o,this.$t=a,this.S=c,this.U=h,this.Bt=p,this.bt=g,this.Ne=E,this.Q=v,this.zt=m,this.Et=w,this.Ze=P,this.es=V}init(){let t=new hf,e=this.Ne.create(`${this.E.getTrackerUri()}/${uo}`,"base64");this.xr=this.bb(e),this.ve=this.Rb(t,this.xr.getRecoveryStorage(),e),this.ve.init(),this.Q.addListener(this.ve),this.bt.addListener(this.ve),this.S.register(bf,()=>{}),this.S.register(Tr,r=>{if(!So(r))throw new mt(Tr[0]);this.ve.pushCustomEvent(r.name,r.source,r.properties)})}onStartTracking(t){this.xr.start(),this.ve.start(t)}onAfterNaturalPageView(){this.ve.initStates()}onArtificialPageViewEnd(t){this.ve.clearStates(!0),t&&(this.ve.stop(),this.xr.stop())}onAfterArtificialPageView(t){this.ve.initStates(),t&&(this.ve.start(),this.xr.start()),this.ve.collectInitialEvents()}onBeforeSessionRenewal(){this.ve.clearStates(),this.ve.stop(),this.xr.stop()}onOptout(){this.ve.stop(),this.xr.stop()}Rb(t,e,r){var o,a;let c=new gf(window),h=new ff,p=nf(this.E,this.tt,this.zt,this.Ze,this.es),g=[];this.E.collectSubmit||csArray.prototype.push.call(g,"submit");let E=new uf(p,this.tt,this.$t,g),v=of(this.E,this.tt,this.zt,this.Ze,this.es),m=new df(v,this.Bt),w=new pf(new Af),P=new qd,V,T,A,M=new $d(`${this.E.getTrackerUri()}/${uo}`),I=new li(this.wt,this.O),b,k,D,G;return new tf(this.E,E,m,h,c,t,M,I,this.U,e,w,P,r,p,V,T,A,b,k,D,G)}bb(t){return new af(new cf(Tf),t)}}return s})();var Ae=(()=>{let s;return function(i){function t(o){return o.replayConsentRequiredForSession}i.isReplayConsentNeeded=t;function e(o){return o.collectState===C.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED||o.collectState===C.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}i.isRecordingBlockedByConsent=e;function r(o){return o.collectState===C.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}i.isRecordingWithDrawn=r}(s||(s={})),s})(),Ks=(()=>{let s;return function(i){i[i.NOT_NEEDED=1]="NOT_NEEDED",i[i.NOT_EXPRESSED=2]="NOT_EXPRESSED",i[i.WITHDRAWN=3]="WITHDRAWN",i[i.GRANTED=4]="GRANTED"}(s||(s={})),s})(),Cf=(()=>{class s{constructor(t,e,r,o){this.O=t,this.R=e,this.E=r,this.ls=o,this.pm=!1}isNaturalPageViewSent(){return this.pm}setNaturalPageViewSent(t){this.pm=t}getTrackingContext(){let t=this.R.getSession();if(!t)return null;let e=this.getSessionKey();if(!e)return null;let r=this.E.projectId,o=this.E.uxaDomain,a=t.pageNumber,c=this.ls.getPageViewType(),h=this.R.isReplayRecorded(),p=this.Nb(t);return{projectId:r,sessionKey:e,pageNumber:a,pageViewType:c,isRecording:h,uxaDomain:o,recordingConsentState:p,...this.E.smbConfig}}getSessionKey(){let t=this.O.getVisitor();return t?`${t.id}.${t.visitsCount}`:null}Nb(t){return Ae.isReplayConsentNeeded(this.E)?t.collectState===C.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED?Ks.NOT_EXPRESSED:t.collectState===C.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?Ks.WITHDRAWN:Ks.GRANTED:Ks.NOT_NEEDED}}return s})(),If=(()=>{class s{constructor(t){this.kt=t,this.ce=[]}handleCommand(t){if(Fe(t)&&(this.mo(t),this.kt.isNaturalPageViewSent())){let e=this.kt.getTrackingContext();e!==null&&this.Gt(t,e)}}mo(t){csArray.prototype.push.call(this.ce,t)}executeRegisteredCallbacks(){let t=this.kt.getTrackingContext();t!==null&&csArray.prototype.map.call(this.ce,e=>this.Gt(e,t))}Gt(t,e){csSetTimeout(()=>{t(e)})}}return s})(),Pf=(()=>{class s{constructor(t){this.kt=t,this.Ji=[]}handleCommand(t){if(this.kt.isNaturalPageViewSent())return this.Mb(t);this.yo(t)}Mb(t){let e=this.kt.getSessionKey();return this.gm(t)&&e!==null&&this.Gt(t.callback,e),e}yo(t){this.gm(t)&&csArray.prototype.push.call(this.Ji,t.callback)}flushPendingCallbacks(){let t=this.kt.getSessionKey();t!==null&&csArray.prototype.forEach.call(this.Ji,e=>{this.Gt(e,t)}),this.Ji=[]}gm(t){return t&&typeof t.callback=="function"}Gt(t,e){csSetTimeout(()=>{t(e)})}}return s})();function Of(s,i){let{isRecording:t,pageNumber:e,projectId:r,siteId:o,uxaDomain:a,csLiteDomain:c}=s,h=/^(.+)\.(\d+)$/.exec(s.sessionKey),p;if(t&&h){let[,g,E]=h;o?p=`${c}/sites/${o}/player?uu=${g}&sn=${E}&pn=${e}`:p=`${a}/quick-playback/index.html?pid=${r}&uu=${g}&sn=${E}&pvid=${e}&recordingType=cs`,i.withTimestamp&&(p+=`&t=${z.now()-i.recordingStartTimestamp}`)}return{replayLink:p,isRecording:t}}var Nf=(()=>{class s{constructor(t){this.kt=t}handleCommand(t,e){ys(t)&&Fe(e)&&this.Gt(t,e)}Gt(t,e){csSetTimeout(()=>{let r=this.kt.getTrackingContext();if(r){let o=Of(r,t);e(o)}})}}return s})(),Mf=(()=>{class s{constructor(){this.ce=new Set}handleCommand(t,e){return!Fe(t)||this.ce.has(t)?null:(this.ce.add(t),e&&(this.Pe=e,this.mm(t,e)),()=>this.ce.delete(t))}executeCallbacks(t){this.Db(t)&&(this.Pe=t,this.ce.forEach(e=>this.mm(e,t)))}mm(t,e){csSetTimeout(()=>{try{t(e)}catch{}})}Db(t){let{isRecording:e,recordingStartTimestamp:r,etrState:o,etrStatus:a,collectState:c}=t;return this.Pe&&(this.Pe.isRecording!==e||this.Pe.recordingStartTimestamp!==r||this.Pe.etrState!==o||this.Pe.etrStatus!==a||this.Pe.collectState!==c)}}return s})(),Df=["afterPageView"],kf=["getSessionKey"],xf=["onRecordingContextChange","onRecordingStateChange"],Lf=["replay:link:generate"],Vf=(()=>{class s{constructor(t,e,r,o,a,c,h,p){this.O=t,this.R=e,this.S=r,this.bt=o,this.Z=a,this.E=c,this.ls=h,this.mi=p,this.ym=null}init(){this.kt=new Cf(this.O,this.R,this.E,this.ls),this._u=new If(this.kt),this.Em=new Pf(this.kt),this.Eo=new Mf,this.kb=new Nf(this.kt),this.S.register(kf,t=>this.Em.handleCommand(t)),this.S.register(Df,t=>this._u.handleCommand(t)),this.S.register(xf,t=>this.Eo.handleCommand(t,this.mi.getRecordingContext())),this.S.register(Lf,(t,e)=>{this.Lr&&this.kb.handleCommand({...t,recordingStartTimestamp:this.mi.getRecordingContext().recordingStartTimestamp},e)})}onAfterNaturalPageView(){var t;this.kt.setNaturalPageViewSent(!0),this.Em.flushPendingCallbacks(),this._u.executeRegisteredCallbacks(),(t=this.ym)===null||t===void 0||t.sendAfterPageViewCallbackToChildren()}onAfterArtificialPageView(){var t;this._u.executeRegisteredCallbacks(),(t=this.ym)===null||t===void 0||t.sendAfterPageViewCallbackToChildren()}onCollectStateChange(){this.executeRecordingContextChangeCallbacks()}onRecordingContextChange(){this.executeRecordingContextChangeCallbacks()}executeRecordingContextChangeCallbacks(){this.Eo.executeCallbacks(this.mi.getRecordingContext())}setRecordingService(t){this.Lr=t}}return X([$r({wait:0,mode:"trailing"})],s.prototype,"executeRecordingContextChangeCallbacks",null),s})();var Uf=["optout"];var jf=(()=>{class s{constructor(t,e){this.S=t,this.cs=e}init(){this.S.register(Uf,()=>{this.cs.activate()})}}return s})(),fs="_cs_optout",Hf=(()=>{class s{constructor(t,e,r){this.E=t,this.N=e,this.gt=r}get(){return this.E.cookielessTrackingEnabled?this.gt.getItem(fs):this.N.get(fs)}set(t){this.E.cookielessTrackingEnabled?this.gt.setItem(fs,t):this.N.set(fs,t,Pr)}}return s})(),fo="1",Bf=(()=>{class s{constructor(t,e,r){this.w=t,this.xt=e,this.ft=r}init(){!this.isActive()&&this.Yb()&&this.activate()}isActive(){return this.ft.get()===fo}activate(){this.w.emitOptout(),this.ft.set(fo)}Yb(){return csString.prototype.indexOf.call(this.xt.href,fs)>0}}return s})(),Ff=(()=>{class s{constructor(){this.gc=null,this.Xb=1}startInterval(){this.gc=window.csSetInterval(()=>{let t=this.Xb++;if(this.flush(`interval.${t}`),t>=5){this.stopInterval();return}},5e3)}flush(t){U.counters.tasks.flush(t),U.counters.longTasks.flush(t)}clear(){U.counters.tasks.reset(),U.counters.longTasks.reset(),this.stopInterval()}stopInterval(){this.gc&&(csClearInterval(this.gc),this.gc=null)}}return s})(),zf=(()=>{class s{constructor(){this.wo=!1,this.Ao=null,this.Fs=new Ff}onStartTracking(){this.Kb()}Kb(){let t=csArray.prototype.filter.call(performance.getEntriesByType("resource"),e=>{var r;if(e.initiatorType!=="script")return!1;let o=csString.prototype.split.call(e.name,"/")[2]||"",a=(r=window.CSCurrentScript)===null||r===void 0?void 0:r.src;return a?a===e.name:o==="t.contentsquare.net"});csArray.prototype.forEach.call(t,e=>{if(e.transferSize===0)return;let r=e.responseEnd-e.responseStart,o=e.transferSize;r>=0&&U.counters.downloadTime.push(r),o>=0&&U.counters.transferSize.push(o)}),U.counters.downloadTime.count>0&&U.counters.downloadTime.flush(),U.counters.transferSize.count>0&&U.counters.transferSize.flush()}Cm(){U.counters.blockingTime.flush(),U.counters.inpContribution.flush()}onBeforeArtificialPageView(){this.Cm(),this.Ao&&csClearTimeout(this.Ao),this.Fs.stopInterval(),this.wo=!0}onBeforeNaturalPageView(){this.Cm()}onAfterNaturalPageView(t){t===Ve.Natural?(this.Fs.flush("boot"),this.Fs.startInterval()):(this.Ao&&csClearTimeout(this.Ao),this.Fs.stopInterval(),this.wo=!0)}onInitialDomStart(){this.wo||this.Fs.stopInterval()}onInitialDomDone(){this.wo||(this.wo=!0,this.Fs.flush("initial-dom"),this.Ao=window.csSetTimeout(()=>{this.Fs.flush("post-initial-dom"),this.Fs.startInterval()},5e3))}onOptout(){this.Fs.clear()}}return s})(),$f=(()=>{let s;return function(i){i.COMPRESSION_DISABLED="compressionDisabled"}(s||(s={})),s})(),Gf=(()=>{class s{constructor(){}static init(t){(!this.Nu||t!==void 0)&&this.initFlags(t)}static initFlags(t=document.cookie){var e;let r=(e=/_cs_debug=((\w|\.|\:|=)+)/g.exec(t))===null||e===void 0?void 0:e[1];if(this.Nu=new Map,r){let o=csString.prototype.split.call(r,".");for(let a=0;a<o.length;a++){let[c,h]=csString.prototype.split.call(o[a],"=");this.Nu.set(c,h||"true")}}}static getBoolean(t){let e=this.getString(t);return e!=null&&e!=="false"&&parseInt(e)!==0}static getString(t){var e;return this.init(),(e=this.Nu)===null||e===void 0?void 0:e.get(t)}static isCompressionEnabled(){return!this.getBoolean($f.COMPRESSION_DISABLED)}static Log(t){return(e,r,o)=>{var a;let c=r.toString(),h=`${(a=e.constructor)===null||a===void 0?void 0:a.name}.${c}`,p=o.value;qf(s.getString("debugLog"),t)&&(o.value=function(...g){return console.log(h,...g),p.bind(this)(...g)})}}}return s})();function qf(s,i){var t;return s==null?!1:s===i||!!(!((t=csString.prototype.match.call(s,new csRegExp("(^|,)("+i+")(,|$)")))===null||t===void 0)&&t.length)}var Wf=(()=>{class s{constructor(t){this.Jb=t,this.Im=[],this.Mu={},this.Qb=0}static async create(t,e={}){let r=new s(t),o;return csArray.prototype.forEach.call(Object.entries(e),([a,c])=>{e[a]=c,r.register(c)}),await r.Ur().catch(a=>{rt.warn("Failed to start worker: "+a.toString()),o=new t}),new Proxy(r,{get(a,c){return c==="__worker"?r.Se:t.prototype[c]instanceof Function?(...h)=>o?Promise.resolve(o[c](...h)):r.Pm(c,h):o?Promise.resolve(o[c]):r.Pm(c,[])}})}Pm(t,e){let r=++this.Qb;return new Promise((o,a)=>{this.Mu[r]=(c,h)=>{delete this.Mu[r],c?a(c):o(h)},this.Se.postMessage({id:r,command:t,params:e})})}register(t){csArray.prototype.push.call(this.Im,t.toString())}Ur(){try{let t=po.toString()+`
`+csArray.prototype.join.call(this.Im,`
`)+`

const klass = (${this.Jb.toString()});

${po.name}()`,e=new Blob([t],{type:"application/javascript"}),r=csURL.createObjectURL(e);this.Se=new Worker(r),this.Se.addEventListener("message",o=>{var a,c,h,p,g;if(o.data!=="ping"){if(!((a=o.data)===null||a===void 0)&&a.critical||!o.data.id){rt.error("Worker error:",(h=(c=o.data)===null||c===void 0?void 0:c.critical)!==null&&h!==void 0?h:"No ID");return}(g=(p=this.Mu)[o.data.id])===null||g===void 0||g.call(p,o.data.error,o.data.result)}})}catch(t){return Promise.reject(t)}return new Promise((t,e)=>{this.Se.onerror=r=>e(new Error(r.message)),this.Se.onmessage=()=>{this.Se.onmessage=this.Se.onerror=null,t()}})}}return s})();function po(){let s=new klass;self.postMessage("ping"),self.onmessage=i=>{var t,e,r;if(!(!((t=i.data)===null||t===void 0)&&t.command))return self.postMessage({critical:"Invalid command",id:(e=i.data)===null||e===void 0?void 0:e.id,command:(r=i.data)===null||r===void 0?void 0:r.command});Promise.resolve().then(()=>{let o=s[i.data.command];return typeof o=="function"?o.apply(s,i.data.params):o}).then(o=>{var a;self.postMessage({result:o,id:i.data.id,command:(a=i.data)===null||a===void 0?void 0:a.command})},o=>{var a,c;self.postMessage({error:o,id:(a=i.data)===null||a===void 0?void 0:a.id,command:(c=i.data)===null||c===void 0?void 0:c.command})})}}function br(){function r(n){let u=n.length;for(;--u>=0;)n[u]=0}let o=0,a=1,c=2,h=3,p=258,g=29,E=256,v=E+1+g,m=30,w=19,P=2*v+1,V=15,T=16,A=7,M=256,I=16,b=17,k=18,D=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),G=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),nt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),yt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),At=512,y=new Array((v+2)*2);r(y);let O=new Array(m*2);r(O);let N=new Array(At);r(N);let L=new Array(p-h+1);r(L);let Z=new Array(g);r(Z);let ot=new Array(m);r(ot);function $t(n,u,d,f,l){this.static_tree=n,this.extra_bits=u,this.extra_base=d,this.elems=f,this.max_length=l,this.has_stree=n&&n.length}let Re,We,Ye;function ee(n,u){this.dyn_tree=n,this.max_code=0,this.stat_desc=u}let se=n=>n<256?N[n]:N[256+(n>>>7)],It=(n,u)=>{n.pending_buf[n.pending++]=u&255,n.pending_buf[n.pending++]=u>>>8&255},at=(n,u,d)=>{n.bi_valid>T-d?(n.bi_buf|=u<<n.bi_valid&65535,It(n,n.bi_buf),n.bi_buf=u>>T-n.bi_valid,n.bi_valid+=d-T):(n.bi_buf|=u<<n.bi_valid&65535,n.bi_valid+=d)},Tt=(n,u,d)=>{at(n,d[u*2],d[u*2+1])},Is=(n,u)=>{let d=0;do d|=n&1,n>>>=1,d<<=1;while(--u>0);return d>>>1},vi=n=>{n.bi_valid===16?(It(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},Si=(n,u)=>{let d=u.dyn_tree,f=u.max_code,l=u.stat_desc.static_tree,_=u.stat_desc.has_stree,S=u.stat_desc.extra_bits,R=u.stat_desc.extra_base,q=u.stat_desc.max_length,x,_t,ue,J,Ne,Je,$s=0;for(J=0;J<=V;J++)n.bl_count[J]=0;for(d[n.heap[n.heap_max]*2+1]=0,x=n.heap_max+1;x<P;x++)_t=n.heap[x],J=d[d[_t*2+1]*2+1]+1,J>q&&(J=q,$s++),d[_t*2+1]=J,!(_t>f)&&(n.bl_count[J]++,Ne=0,_t>=R&&(Ne=S[_t-R]),Je=d[_t*2],n.opt_len+=Je*(J+Ne),_&&(n.static_len+=Je*(l[_t*2+1]+Ne)));if($s!==0){do{for(J=q-1;n.bl_count[J]===0;)J--;n.bl_count[J]--,n.bl_count[J+1]+=2,n.bl_count[q]--,$s-=2}while($s>0);for(J=q;J!==0;J--)for(_t=n.bl_count[J];_t!==0;)ue=n.heap[--x],!(ue>f)&&(d[ue*2+1]!==J&&(n.opt_len+=(J-d[ue*2+1])*d[ue*2],d[ue*2+1]=J),_t--)}},Ps=(n,u,d)=>{let f=new Array(V+1),l=0,_,S;for(_=1;_<=V;_++)f[_]=l=l+d[_-1]<<1;for(S=0;S<=u;S++){let R=n[S*2+1];R!==0&&(n[S*2]=Is(f[R]++,R))}},_i=()=>{let n,u,d,f,l,_=new Array(V+1);for(d=0,f=0;f<g-1;f++)for(Z[f]=d,n=0;n<1<<D[f];n++)L[d++]=f;for(L[d-1]=f,l=0,f=0;f<16;f++)for(ot[f]=l,n=0;n<1<<G[f];n++)N[l++]=f;for(l>>=7;f<m;f++)for(ot[f]=l<<7,n=0;n<1<<G[f]-7;n++)N[256+l++]=f;for(u=0;u<=V;u++)_[u]=0;for(n=0;n<=143;)y[n*2+1]=8,n++,_[8]++;for(;n<=255;)y[n*2+1]=9,n++,_[9]++;for(;n<=279;)y[n*2+1]=7,n++,_[7]++;for(;n<=287;)y[n*2+1]=8,n++,_[8]++;for(Ps(y,v+1,_),n=0;n<m;n++)O[n*2+1]=5,O[n*2]=Is(n,5);Re=new $t(y,D,E+1,v,V),We=new $t(O,G,0,m,V),Ye=new $t(new Array(0),nt,0,w,A)},Os=n=>{let u;for(u=0;u<v;u++)n.dyn_ltree[u*2]=0;for(u=0;u<m;u++)n.dyn_dtree[u*2]=0;for(u=0;u<w;u++)n.bl_tree[u*2]=0;n.dyn_ltree[M*2]=1,n.opt_len=n.static_len=0,n.last_lit=n.matches=0},Ns=n=>{n.bi_valid>8?It(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},Ms=(n,u,d,f)=>{Ns(n),f&&(It(n,d),It(n,~d)),n.pending_buf.set(n.window.subarray(u,u+d),n.pending),n.pending+=d},wi=(n,u,d,f)=>{let l=u*2,_=d*2;return n[l]<n[_]||n[l]===n[_]&&f[u]<=f[d]},Ds=(n,u,d)=>{let f=n.heap[d],l=d<<1;for(;l<=n.heap_len&&(l<n.heap_len&&wi(u,n.heap[l+1],n.heap[l],n.depth)&&l++,!wi(u,f,n.heap[l],n.depth));)n.heap[d]=n.heap[l],d=l,l<<=1;n.heap[d]=f},Ai=(n,u,d)=>{let f,l,_=0,S,R;if(n.last_lit!==0)do f=n.pending_buf[n.d_buf+_*2]<<8|n.pending_buf[n.d_buf+_*2+1],l=n.pending_buf[n.l_buf+_],_++,f===0?Tt(n,l,u):(S=L[l],Tt(n,S+E+1,u),R=D[S],R!==0&&(l-=Z[S],at(n,l,R)),f--,S=se(f),Tt(n,S,d),R=G[S],R!==0&&(f-=ot[S],at(n,f,R)));while(_<n.last_lit);Tt(n,M,u)},ks=(n,u)=>{let d=u.dyn_tree,f=u.stat_desc.static_tree,l=u.stat_desc.has_stree,_=u.stat_desc.elems,S,R,q=-1,x;for(n.heap_len=0,n.heap_max=P,S=0;S<_;S++)d[S*2]!==0?(n.heap[++n.heap_len]=q=S,n.depth[S]=0):d[S*2+1]=0;for(;n.heap_len<2;)x=n.heap[++n.heap_len]=q<2?++q:0,d[x*2]=1,n.depth[x]=0,n.opt_len--,l&&(n.static_len-=f[x*2+1]);for(u.max_code=q,S=n.heap_len>>1;S>=1;S--)Ds(n,d,S);x=_;do S=n.heap[1],n.heap[1]=n.heap[n.heap_len--],Ds(n,d,1),R=n.heap[1],n.heap[--n.heap_max]=S,n.heap[--n.heap_max]=R,d[x*2]=d[S*2]+d[R*2],n.depth[x]=(n.depth[S]>=n.depth[R]?n.depth[S]:n.depth[R])+1,d[S*2+1]=d[R*2+1]=x,n.heap[1]=x++,Ds(n,d,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],Si(n,u),Ps(d,q,n.bl_count)},Ti=(n,u,d)=>{let f,l=-1,_,S=u[0*2+1],R=0,q=7,x=4;for(S===0&&(q=138,x=3),u[(d+1)*2+1]=65535,f=0;f<=d;f++)_=S,S=u[(f+1)*2+1],!(++R<q&&_===S)&&(R<x?n.bl_tree[_*2]+=R:_!==0?(_!==l&&n.bl_tree[_*2]++,n.bl_tree[I*2]++):R<=10?n.bl_tree[b*2]++:n.bl_tree[k*2]++,R=0,l=_,S===0?(q=138,x=3):_===S?(q=6,x=3):(q=7,x=4))},tn=(n,u,d)=>{let f,l=-1,_,S=u[0*2+1],R=0,q=7,x=4;for(S===0&&(q=138,x=3),f=0;f<=d;f++)if(_=S,S=u[(f+1)*2+1],!(++R<q&&_===S)){if(R<x)do Tt(n,_,n.bl_tree);while(--R!==0);else _!==0?(_!==l&&(Tt(n,_,n.bl_tree),R--),Tt(n,I,n.bl_tree),at(n,R-3,2)):R<=10?(Tt(n,b,n.bl_tree),at(n,R-3,3)):(Tt(n,k,n.bl_tree),at(n,R-11,7));R=0,l=_,S===0?(q=138,x=3):_===S?(q=6,x=3):(q=7,x=4)}},Na=n=>{let u;for(Ti(n,n.dyn_ltree,n.l_desc.max_code),Ti(n,n.dyn_dtree,n.d_desc.max_code),ks(n,n.bl_desc),u=w-1;u>=3&&n.bl_tree[yt[u]*2+1]===0;u--);return n.opt_len+=3*(u+1)+5+5+4,u},Ma=(n,u,d,f)=>{let l;for(at(n,u-257,5),at(n,d-1,5),at(n,f-4,4),l=0;l<f;l++)at(n,n.bl_tree[yt[l]*2+1],3);tn(n,n.dyn_ltree,u-1),tn(n,n.dyn_dtree,d-1)},Da=n=>{let u=4093624447,d;for(d=0;d<=31;d++,u>>>=1)if(u&1&&n.dyn_ltree[d*2]!==0)return 0;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return 1;for(d=32;d<E;d++)if(n.dyn_ltree[d*2]!==0)return 1;return 0},en=!1,ka=n=>{en||(_i(),en=!0),n.l_desc=new ee(n.dyn_ltree,Re),n.d_desc=new ee(n.dyn_dtree,We),n.bl_desc=new ee(n.bl_tree,Ye),n.bi_buf=0,n.bi_valid=0,Os(n)},sn=(n,u,d,f)=>{at(n,(o<<1)+(f?1:0),3),Ms(n,u,d,!0)},xa=n=>{at(n,a<<1,3),Tt(n,M,y),vi(n)},La=(n,u,d,f)=>{let l,_,S=0;n.level>0?(n.strm.data_type===2&&(n.strm.data_type=Da(n)),ks(n,n.l_desc),ks(n,n.d_desc),S=Na(n),l=n.opt_len+3+7>>>3,_=n.static_len+3+7>>>3,_<=l&&(l=_)):l=_=d+5,d+4<=l&&u!==-1?sn(n,u,d,f):n.strategy===4||_===l?(at(n,(a<<1)+(f?1:0),3),Ai(n,y,O)):(at(n,(c<<1)+(f?1:0),3),Ma(n,n.l_desc.max_code+1,n.d_desc.max_code+1,S+1),Ai(n,n.dyn_ltree,n.dyn_dtree)),Os(n),f&&Ns(n)},Va=(n,u,d)=>(n.pending_buf[n.d_buf+n.last_lit*2]=u>>>8&255,n.pending_buf[n.d_buf+n.last_lit*2+1]=u&255,n.pending_buf[n.l_buf+n.last_lit]=d&255,n.last_lit++,u===0?n.dyn_ltree[d*2]++:(n.matches++,u--,n.dyn_ltree[(L[d]+E+1)*2]++,n.dyn_dtree[se(u)*2]++),n.last_lit===n.lit_bufsize-1);var Ua=ka,ja=sn,Ha=La,Ba=Va,Fa=xa,za={_tr_init:Ua,_tr_stored_block:ja,_tr_flush_block:Ha,_tr_tally:Ba,_tr_align:Fa},rn=(n,u,d,f)=>{let l=n&65535|0,_=n>>>16&65535|0,S=0;for(;d!==0;){S=d>2e3?2e3:d,d-=S;do l=l+u[f++]|0,_=_+l|0;while(--S);l%=65521,_%=65521}return l|_<<16|0};let $a=()=>{let n,u=[];for(var d=0;d<256;d++){n=d;for(var f=0;f<8;f++)n=n&1?3988292384^n>>>1:n>>>1;u[d]=n}return u},Ga=new Uint32Array($a());var ie=(n,u,d,f)=>{let l=Ga,_=f+d;n^=-1;for(let S=f;S<_;S++)n=n>>>8^l[(n^u[S])&255];return n^-1},xs={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},nn={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:qa,_tr_stored_block:Wa,_tr_flush_block:Ya,_tr_tally:re,_tr_align:Xa}=za,{Z_NO_FLUSH:Ce,Z_PARTIAL_FLUSH:Ka,Z_FULL_FLUSH:Ja,Z_FINISH:ne,Z_BLOCK:on,Z_OK:xt,Z_STREAM_END:an,Z_STREAM_ERROR:bt,Z_DATA_ERROR:Qa,Z_BUF_ERROR:bi,Z_DEFAULT_COMPRESSION:Za,Z_FILTERED:tc,Z_HUFFMAN_ONLY:Ls,Z_RLE:ec,Z_FIXED:sc,Z_DEFAULT_STRATEGY:ic,Z_UNKNOWN:rc,Z_DEFLATED:Vs}=nn,nc=9,oc=15,ac=8,Ri=256+1+29,cc=30,lc=19,hc=2*Ri+1,uc=15,$=3,oe=258,Pt=oe+$+1,dc=32,Us=42,Ci=69,js=73,Hs=91,Bs=103,Ie=113,as=666,st=1,cs=2,Pe=3,Xe=4,fc=3,ae=(n,u)=>(n.msg=xs[u],u),cn=n=>(n<<1)-(n>4?9:0),ce=n=>{let u=n.length;for(;--u>=0;)n[u]=0},le=(n,u,d)=>(u<<n.hash_shift^d)&n.hash_mask,he=n=>{let u=n.state,d=u.pending;d>n.avail_out&&(d=n.avail_out),d!==0&&(n.output.set(u.pending_buf.subarray(u.pending_out,u.pending_out+d),n.next_out),n.next_out+=d,u.pending_out+=d,n.total_out+=d,n.avail_out-=d,u.pending-=d,u.pending===0&&(u.pending_out=0))},ct=(n,u)=>{Ya(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,u),n.block_start=n.strstart,he(n.strm)},Y=(n,u)=>{n.pending_buf[n.pending++]=u},ls=(n,u)=>{n.pending_buf[n.pending++]=u>>>8&255,n.pending_buf[n.pending++]=u&255},pc=(n,u,d,f)=>{let l=n.avail_in;return l>f&&(l=f),l===0?0:(n.avail_in-=l,u.set(n.input.subarray(n.next_in,n.next_in+l),d),n.state.wrap===1?n.adler=rn(n.adler,u,l,d):n.state.wrap===2&&(n.adler=ie(n.adler,u,l,d)),n.next_in+=l,n.total_in+=l,l)},ln=(n,u)=>{let d=n.max_chain_length,f=n.strstart,l,_,S=n.prev_length,R=n.nice_match,q=n.strstart>n.w_size-Pt?n.strstart-(n.w_size-Pt):0,x=n.window,_t=n.w_mask,ue=n.prev,J=n.strstart+oe,Ne=x[f+S-1],Je=x[f+S];n.prev_length>=n.good_match&&(d>>=2),R>n.lookahead&&(R=n.lookahead);do if(l=u,!(x[l+S]!==Je||x[l+S-1]!==Ne||x[l]!==x[f]||x[++l]!==x[f+1])){f+=2,l++;do;while(x[++f]===x[++l]&&x[++f]===x[++l]&&x[++f]===x[++l]&&x[++f]===x[++l]&&x[++f]===x[++l]&&x[++f]===x[++l]&&x[++f]===x[++l]&&x[++f]===x[++l]&&f<J);if(_=oe-(J-f),f=J-oe,_>S){if(n.match_start=u,S=_,_>=R)break;Ne=x[f+S-1],Je=x[f+S]}}while((u=ue[u&_t])>q&&--d!==0);return S<=n.lookahead?S:n.lookahead},Oe=n=>{let u=n.w_size,d,f,l,_,S;do{if(_=n.window_size-n.lookahead-n.strstart,n.strstart>=u+(u-Pt)){n.window.set(n.window.subarray(u,u+u),0),n.match_start-=u,n.strstart-=u,n.block_start-=u,f=n.hash_size,d=f;do l=n.head[--d],n.head[d]=l>=u?l-u:0;while(--f);f=u,d=f;do l=n.prev[--d],n.prev[d]=l>=u?l-u:0;while(--f);_+=u}if(n.strm.avail_in===0)break;if(f=pc(n.strm,n.window,n.strstart+n.lookahead,_),n.lookahead+=f,n.lookahead+n.insert>=$)for(S=n.strstart-n.insert,n.ins_h=n.window[S],n.ins_h=le(n,n.ins_h,n.window[S+1]);n.insert&&(n.ins_h=le(n,n.ins_h,n.window[S+$-1]),n.prev[S&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=S,S++,n.insert--,!(n.lookahead+n.insert<$)););}while(n.lookahead<Pt&&n.strm.avail_in!==0)},gc=(n,u)=>{let d=65535;for(d>n.pending_buf_size-5&&(d=n.pending_buf_size-5);;){if(n.lookahead<=1){if(Oe(n),n.lookahead===0&&u===Ce)return st;if(n.lookahead===0)break}n.strstart+=n.lookahead,n.lookahead=0;let f=n.block_start+d;if((n.strstart===0||n.strstart>=f)&&(n.lookahead=n.strstart-f,n.strstart=f,ct(n,!1),n.strm.avail_out===0)||n.strstart-n.block_start>=n.w_size-Pt&&(ct(n,!1),n.strm.avail_out===0))return st}return n.insert=0,u===ne?(ct(n,!0),n.strm.avail_out===0?Pe:Xe):(n.strstart>n.block_start&&(ct(n,!1),n.strm.avail_out===0),st)},Ii=(n,u)=>{let d,f;for(;;){if(n.lookahead<Pt){if(Oe(n),n.lookahead<Pt&&u===Ce)return st;if(n.lookahead===0)break}if(d=0,n.lookahead>=$&&(n.ins_h=le(n,n.ins_h,n.window[n.strstart+$-1]),d=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),d!==0&&n.strstart-d<=n.w_size-Pt&&(n.match_length=ln(n,d)),n.match_length>=$)if(f=re(n,n.strstart-n.match_start,n.match_length-$),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=$){n.match_length--;do n.strstart++,n.ins_h=le(n,n.ins_h,n.window[n.strstart+$-1]),d=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=le(n,n.ins_h,n.window[n.strstart+1]);else f=re(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(f&&(ct(n,!1),n.strm.avail_out===0))return st}return n.insert=n.strstart<$-1?n.strstart:$-1,u===ne?(ct(n,!0),n.strm.avail_out===0?Pe:Xe):n.last_lit&&(ct(n,!1),n.strm.avail_out===0)?st:cs},Ke=(n,u)=>{let d,f,l;for(;;){if(n.lookahead<Pt){if(Oe(n),n.lookahead<Pt&&u===Ce)return st;if(n.lookahead===0)break}if(d=0,n.lookahead>=$&&(n.ins_h=le(n,n.ins_h,n.window[n.strstart+$-1]),d=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=$-1,d!==0&&n.prev_length<n.max_lazy_match&&n.strstart-d<=n.w_size-Pt&&(n.match_length=ln(n,d),n.match_length<=5&&(n.strategy===tc||n.match_length===$&&n.strstart-n.match_start>4096)&&(n.match_length=$-1)),n.prev_length>=$&&n.match_length<=n.prev_length){l=n.strstart+n.lookahead-$,f=re(n,n.strstart-1-n.prev_match,n.prev_length-$),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=l&&(n.ins_h=le(n,n.ins_h,n.window[n.strstart+$-1]),d=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=$-1,n.strstart++,f&&(ct(n,!1),n.strm.avail_out===0))return st}else if(n.match_available){if(f=re(n,0,n.window[n.strstart-1]),f&&ct(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return st}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(f=re(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<$-1?n.strstart:$-1,u===ne?(ct(n,!0),n.strm.avail_out===0?Pe:Xe):n.last_lit&&(ct(n,!1),n.strm.avail_out===0)?st:cs},mc=(n,u)=>{let d,f,l,_,S=n.window;for(;;){if(n.lookahead<=oe){if(Oe(n),n.lookahead<=oe&&u===Ce)return st;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=$&&n.strstart>0&&(l=n.strstart-1,f=S[l],f===S[++l]&&f===S[++l]&&f===S[++l])){_=n.strstart+oe;do;while(f===S[++l]&&f===S[++l]&&f===S[++l]&&f===S[++l]&&f===S[++l]&&f===S[++l]&&f===S[++l]&&f===S[++l]&&l<_);n.match_length=oe-(_-l),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=$?(d=re(n,1,n.match_length-$),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(d=re(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),d&&(ct(n,!1),n.strm.avail_out===0))return st}return n.insert=0,u===ne?(ct(n,!0),n.strm.avail_out===0?Pe:Xe):n.last_lit&&(ct(n,!1),n.strm.avail_out===0)?st:cs},yc=(n,u)=>{let d;for(;;){if(n.lookahead===0&&(Oe(n),n.lookahead===0)){if(u===Ce)return st;break}if(n.match_length=0,d=re(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,d&&(ct(n,!1),n.strm.avail_out===0))return st}return n.insert=0,u===ne?(ct(n,!0),n.strm.avail_out===0?Pe:Xe):n.last_lit&&(ct(n,!1),n.strm.avail_out===0)?st:cs};function Lt(n,u,d,f,l){this.good_length=n,this.max_lazy=u,this.nice_length=d,this.max_chain=f,this.func=l}let hs=[new Lt(0,0,0,0,gc),new Lt(4,4,8,4,Ii),new Lt(4,5,16,8,Ii),new Lt(4,6,32,32,Ii),new Lt(4,4,16,16,Ke),new Lt(8,16,32,32,Ke),new Lt(8,16,128,128,Ke),new Lt(8,32,128,256,Ke),new Lt(32,128,258,1024,Ke),new Lt(32,258,258,4096,Ke)],Ec=n=>{n.window_size=2*n.w_size,ce(n.head),n.max_lazy_match=hs[n.level].max_lazy,n.good_match=hs[n.level].good_length,n.nice_match=hs[n.level].nice_length,n.max_chain_length=hs[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=$-1,n.match_available=0,n.ins_h=0};function vc(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Vs,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(hc*2),this.dyn_dtree=new Uint16Array((2*cc+1)*2),this.bl_tree=new Uint16Array((2*lc+1)*2),ce(this.dyn_ltree),ce(this.dyn_dtree),ce(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(uc+1),this.heap=new Uint16Array(2*Ri+1),ce(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Ri+1),ce(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let hn=n=>{if(!n||!n.state)return ae(n,bt);n.total_in=n.total_out=0,n.data_type=rc;let u=n.state;return u.pending=0,u.pending_out=0,u.wrap<0&&(u.wrap=-u.wrap),u.status=u.wrap?Us:Ie,n.adler=u.wrap===2?0:1,u.last_flush=Ce,qa(u),xt},un=n=>{let u=hn(n);return u===xt&&Ec(n.state),u},Sc=(n,u)=>!n||!n.state||n.state.wrap!==2?bt:(n.state.gzhead=u,xt),dn=(n,u,d,f,l,_)=>{if(!n)return bt;let S=1;if(u===Za&&(u=6),f<0?(S=0,f=-f):f>15&&(S=2,f-=16),l<1||l>nc||d!==Vs||f<8||f>15||u<0||u>9||_<0||_>sc)return ae(n,bt);f===8&&(f=9);let R=new vc;return n.state=R,R.strm=n,R.wrap=S,R.gzhead=null,R.w_bits=f,R.w_size=1<<R.w_bits,R.w_mask=R.w_size-1,R.hash_bits=l+7,R.hash_size=1<<R.hash_bits,R.hash_mask=R.hash_size-1,R.hash_shift=~~((R.hash_bits+$-1)/$),R.window=new Uint8Array(R.w_size*2),R.head=new Uint16Array(R.hash_size),R.prev=new Uint16Array(R.w_size),R.lit_bufsize=1<<l+6,R.pending_buf_size=R.lit_bufsize*4,R.pending_buf=new Uint8Array(R.pending_buf_size),R.d_buf=1*R.lit_bufsize,R.l_buf=3*R.lit_bufsize,R.level=u,R.strategy=_,R.method=d,un(n)},_c=(n,u)=>dn(n,u,Vs,oc,ac,ic),wc=(n,u)=>{let d,f;if(!n||!n.state||u>on||u<0)return n?ae(n,bt):bt;let l=n.state;if(!n.output||!n.input&&n.avail_in!==0||l.status===as&&u!==ne)return ae(n,n.avail_out===0?bi:bt);l.strm=n;let _=l.last_flush;if(l.last_flush=u,l.status===Us)if(l.wrap===2)n.adler=0,Y(l,31),Y(l,139),Y(l,8),l.gzhead?(Y(l,(l.gzhead.text?1:0)+(l.gzhead.hcrc?2:0)+(l.gzhead.extra?4:0)+(l.gzhead.name?8:0)+(l.gzhead.comment?16:0)),Y(l,l.gzhead.time&255),Y(l,l.gzhead.time>>8&255),Y(l,l.gzhead.time>>16&255),Y(l,l.gzhead.time>>24&255),Y(l,l.level===9?2:l.strategy>=Ls||l.level<2?4:0),Y(l,l.gzhead.os&255),l.gzhead.extra&&l.gzhead.extra.length&&(Y(l,l.gzhead.extra.length&255),Y(l,l.gzhead.extra.length>>8&255)),l.gzhead.hcrc&&(n.adler=ie(n.adler,l.pending_buf,l.pending,0)),l.gzindex=0,l.status=Ci):(Y(l,0),Y(l,0),Y(l,0),Y(l,0),Y(l,0),Y(l,l.level===9?2:l.strategy>=Ls||l.level<2?4:0),Y(l,fc),l.status=Ie);else{let S=Vs+(l.w_bits-8<<4)<<8,R=-1;l.strategy>=Ls||l.level<2?R=0:l.level<6?R=1:l.level===6?R=2:R=3,S|=R<<6,l.strstart!==0&&(S|=dc),S+=31-S%31,l.status=Ie,ls(l,S),l.strstart!==0&&(ls(l,n.adler>>>16),ls(l,n.adler&65535)),n.adler=1}if(l.status===Ci)if(l.gzhead.extra){for(d=l.pending;l.gzindex<(l.gzhead.extra.length&65535)&&!(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>d&&(n.adler=ie(n.adler,l.pending_buf,l.pending-d,d)),he(n),d=l.pending,l.pending===l.pending_buf_size));)Y(l,l.gzhead.extra[l.gzindex]&255),l.gzindex++;l.gzhead.hcrc&&l.pending>d&&(n.adler=ie(n.adler,l.pending_buf,l.pending-d,d)),l.gzindex===l.gzhead.extra.length&&(l.gzindex=0,l.status=js)}else l.status=js;if(l.status===js)if(l.gzhead.name){d=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>d&&(n.adler=ie(n.adler,l.pending_buf,l.pending-d,d)),he(n),d=l.pending,l.pending===l.pending_buf_size)){f=1;break}l.gzindex<l.gzhead.name.length?f=l.gzhead.name.charCodeAt(l.gzindex++)&255:f=0,Y(l,f)}while(f!==0);l.gzhead.hcrc&&l.pending>d&&(n.adler=ie(n.adler,l.pending_buf,l.pending-d,d)),f===0&&(l.gzindex=0,l.status=Hs)}else l.status=Hs;if(l.status===Hs)if(l.gzhead.comment){d=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>d&&(n.adler=ie(n.adler,l.pending_buf,l.pending-d,d)),he(n),d=l.pending,l.pending===l.pending_buf_size)){f=1;break}l.gzindex<l.gzhead.comment.length?f=l.gzhead.comment.charCodeAt(l.gzindex++)&255:f=0,Y(l,f)}while(f!==0);l.gzhead.hcrc&&l.pending>d&&(n.adler=ie(n.adler,l.pending_buf,l.pending-d,d)),f===0&&(l.status=Bs)}else l.status=Bs;if(l.status===Bs&&(l.gzhead.hcrc?(l.pending+2>l.pending_buf_size&&he(n),l.pending+2<=l.pending_buf_size&&(Y(l,n.adler&255),Y(l,n.adler>>8&255),n.adler=0,l.status=Ie)):l.status=Ie),l.pending!==0){if(he(n),n.avail_out===0)return l.last_flush=-1,xt}else if(n.avail_in===0&&cn(u)<=cn(_)&&u!==ne)return ae(n,bi);if(l.status===as&&n.avail_in!==0)return ae(n,bi);if(n.avail_in!==0||l.lookahead!==0||u!==Ce&&l.status!==as){let S=l.strategy===Ls?yc(l,u):l.strategy===ec?mc(l,u):hs[l.level].func(l,u);if((S===Pe||S===Xe)&&(l.status=as),S===st||S===Pe)return n.avail_out===0&&(l.last_flush=-1),xt;if(S===cs&&(u===Ka?Xa(l):u!==on&&(Wa(l,0,0,!1),u===Ja&&(ce(l.head),l.lookahead===0&&(l.strstart=0,l.block_start=0,l.insert=0))),he(n),n.avail_out===0))return l.last_flush=-1,xt}return u!==ne?xt:l.wrap<=0?an:(l.wrap===2?(Y(l,n.adler&255),Y(l,n.adler>>8&255),Y(l,n.adler>>16&255),Y(l,n.adler>>24&255),Y(l,n.total_in&255),Y(l,n.total_in>>8&255),Y(l,n.total_in>>16&255),Y(l,n.total_in>>24&255)):(ls(l,n.adler>>>16),ls(l,n.adler&65535)),he(n),l.wrap>0&&(l.wrap=-l.wrap),l.pending!==0?xt:an)},Ac=n=>{if(!n||!n.state)return bt;let u=n.state.status;return u!==Us&&u!==Ci&&u!==js&&u!==Hs&&u!==Bs&&u!==Ie&&u!==as?ae(n,bt):(n.state=null,u===Ie?ae(n,Qa):xt)},Tc=(n,u)=>{let d=u.length;if(!n||!n.state)return bt;let f=n.state,l=f.wrap;if(l===2||l===1&&f.status!==Us||f.lookahead)return bt;if(l===1&&(n.adler=rn(n.adler,u,d,0)),f.wrap=0,d>=f.w_size){l===0&&(ce(f.head),f.strstart=0,f.block_start=0,f.insert=0);let q=new Uint8Array(f.w_size);q.set(u.subarray(d-f.w_size,d),0),u=q,d=f.w_size}let _=n.avail_in,S=n.next_in,R=n.input;for(n.avail_in=d,n.next_in=0,n.input=u,Oe(f);f.lookahead>=$;){let q=f.strstart,x=f.lookahead-($-1);do f.ins_h=le(f,f.ins_h,f.window[q+$-1]),f.prev[q&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=q,q++;while(--x);f.strstart=q,f.lookahead=$-1,Oe(f)}return f.strstart+=f.lookahead,f.block_start=f.strstart,f.insert=f.lookahead,f.lookahead=0,f.match_length=f.prev_length=$-1,f.match_available=0,n.next_in=S,n.input=R,n.avail_in=_,f.wrap=l,xt};var bc=_c,Rc=dn,Cc=un,Ic=hn,Pc=Sc,Oc=wc,Nc=Ac,Mc=Tc,Dc="pako deflate (from Nodeca project)",us={deflateInit:bc,deflateInit2:Rc,deflateReset:Cc,deflateResetKeep:Ic,deflateSetHeader:Pc,deflate:Oc,deflateEnd:Nc,deflateSetDictionary:Mc,deflateInfo:Dc};let kc=(n,u)=>Object.prototype.hasOwnProperty.call(n,u);var xc=function(n){let u=Array.prototype.slice.call(arguments,1);for(;u.length;){let d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(let f in d)kc(d,f)&&(n[f]=d[f])}}return n},Lc=n=>{let u=0;for(let f=0,l=n.length;f<l;f++)u+=n[f].length;let d=new Uint8Array(u);for(let f=0,l=0,_=n.length;f<_;f++){let S=n[f];d.set(S,l),l+=S.length}return d},fn={assign:xc,flattenChunks:Lc};let pn=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{pn=!1}let ds=new Uint8Array(256);for(let n=0;n<256;n++)ds[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;ds[254]=ds[254]=1;var Vc=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let u,d,f,l,_,S=n.length,R=0;for(l=0;l<S;l++)d=n.charCodeAt(l),(d&64512)===55296&&l+1<S&&(f=n.charCodeAt(l+1),(f&64512)===56320&&(d=65536+(d-55296<<10)+(f-56320),l++)),R+=d<128?1:d<2048?2:d<65536?3:4;for(u=new Uint8Array(R),_=0,l=0;_<R;l++)d=n.charCodeAt(l),(d&64512)===55296&&l+1<S&&(f=n.charCodeAt(l+1),(f&64512)===56320&&(d=65536+(d-55296<<10)+(f-56320),l++)),d<128?u[_++]=d:d<2048?(u[_++]=192|d>>>6,u[_++]=128|d&63):d<65536?(u[_++]=224|d>>>12,u[_++]=128|d>>>6&63,u[_++]=128|d&63):(u[_++]=240|d>>>18,u[_++]=128|d>>>12&63,u[_++]=128|d>>>6&63,u[_++]=128|d&63);return u};let gn=(n,u=n.length)=>{if(u<65534&&n.subarray&&pn)return String.fromCharCode.apply(null,n.length===u?n:n.subarray(0,u));let d="";for(let f=0;f<u;f++)d+=String.fromCharCode(n[f]);return d};var Uc=(n,u)=>{let d=u||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,u));let f,l,_=new Array(d*2);for(l=0,f=0;f<d;){let S=n[f++];if(S<128){_[l++]=S;continue}let R=ds[S];if(R>4){_[l++]=65533,f+=R-1;continue}for(S&=R===2?31:R===3?15:7;R>1&&f<d;)S=S<<6|n[f++]&63,R--;if(R>1){_[l++]=65533;continue}S<65536?_[l++]=S:(S-=65536,_[l++]=55296|S>>10&1023,_[l++]=56320|S&1023)}return gn(_,l)},jc=(n,u)=>{u=u||n.length,u>n.length&&(u=n.length);let d=u-1;for(;d>=0&&(n[d]&192)===128;)d--;return d<0||d===0?u:d+ds[n[d]]>u?d:u},mn={string2buf:Vc,buf2string:Uc,utf8border:jc};function Hc(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Bc=Hc;let yn=Object.prototype.toString,{Z_NO_FLUSH:Fc,Z_SYNC_FLUSH:zc,Z_FULL_FLUSH:$c,Z_FINISH:Gc,Z_OK:Fs,Z_STREAM_END:qc,Z_DEFAULT_COMPRESSION:Wc,Z_DEFAULT_STRATEGY:Yc,Z_DEFLATED:Xc}=nn;function zs(n){this.options=fn.assign({level:Wc,method:Xc,chunkSize:16384,windowBits:15,memLevel:8,strategy:Yc},n||{});let u=this.options;u.raw&&u.windowBits>0?u.windowBits=-u.windowBits:u.gzip&&u.windowBits>0&&u.windowBits<16&&(u.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Bc,this.strm.avail_out=0;let d=us.deflateInit2(this.strm,u.level,u.method,u.windowBits,u.memLevel,u.strategy);if(d!==Fs)throw new Error(xs[d]);if(u.header&&us.deflateSetHeader(this.strm,u.header),u.dictionary){let f;if(typeof u.dictionary=="string"?f=mn.string2buf(u.dictionary):yn.call(u.dictionary)==="[object ArrayBuffer]"?f=new Uint8Array(u.dictionary):f=u.dictionary,d=us.deflateSetDictionary(this.strm,f),d!==Fs)throw new Error(xs[d]);this._dict_set=!0}}zs.prototype.push=function(n,u){let d=this.strm,f=this.options.chunkSize,l,_;if(this.ended)return!1;for(u===~~u?_=u:_=u===!0?Gc:Fc,typeof n=="string"?d.input=mn.string2buf(n):yn.call(n)==="[object ArrayBuffer]"?d.input=new Uint8Array(n):d.input=n,d.next_in=0,d.avail_in=d.input.length;;){if(d.avail_out===0&&(d.output=new Uint8Array(f),d.next_out=0,d.avail_out=f),(_===zc||_===$c)&&d.avail_out<=6){this.onData(d.output.subarray(0,d.next_out)),d.avail_out=0;continue}if(l=us.deflate(d,_),l===qc)return d.next_out>0&&this.onData(d.output.subarray(0,d.next_out)),l=us.deflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===Fs;if(d.avail_out===0){this.onData(d.output);continue}if(_>0&&d.next_out>0){this.onData(d.output.subarray(0,d.next_out)),d.avail_out=0;continue}if(d.avail_in===0)break}return!0},zs.prototype.onData=function(n){this.chunks.push(n)},zs.prototype.onEnd=function(n){n===Fs&&(this.result=fn.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Kc(n,u){u=u||{};let d=new zs(u);if(d.push(n,!0),d.err)throw d.msg||xs[d.err];return d.result}function Jc(n,u){return u=u||{},u.gzip=!0,Kc(n,u)}return(n,u,d)=>{let f=Jc(n);return u==="base64"?f=btoa(gn(f)):f=f.buffer,d&&d(f),f}}var Yf=(()=>{class s extends ya{constructor(){super(),this.algorithm=yi.GZIP,this.Zb=br(),this.compress=(r,o,a)=>this.Om.compress(r,o).then(a);let e=typeof CompressionStream!="undefined"&&!!self.CompressionStream?Kf:Xf;this.Om=new e,Wf.create(e,{getPakoCompressor:br}).then(r=>{this.Om=r})}compressSync(t,e){try{return this.Zb(t,e)}catch(r){throw rt.warn(r),r}}}return s})(),Xf=(()=>{class s{constructor(){this.t0=br()}compress(t,e){return Promise.resolve(this.t0(t,e))}}return s})(),Kf=(()=>{class s{e0(t){return new Promise(e=>{let r=new FileReader;r.onload=o=>e(o.target.result.split(",")[1]),r.readAsDataURL(new Blob([t]))})}compress(t,e){let r=new Response(t).body.pipeThrough(new CompressionStream("gzip")),o=new Response(r).arrayBuffer();return e==="base64"?o.then(a=>this.e0(a)):o}}return s})(),Jf=(()=>{class s extends ya{constructor(){super(...arguments),this.algorithm=yi.UNCOMPRESSED,this.compress=(t,e,r)=>{r(this.compressSync(t,e))},this.compressSync=(t,e)=>t}}return s})(),Ra=(()=>{class s{static create(t=!0){return this.instance?this.instance:t&&!Gf.isCompressionEnabled()?new Jf:this.instance=new Yf}}return s})(),Qf=s=>{let i=s*60*1e3;return`${Math.floor(csDate.now()/i)}`},Zf=5e3,tp=(()=>{class s extends zo{constructor(t,e,r){super(t,e),this.jr=null,this.s0=(r==null?void 0:r.type)||"json",this.Nm=r==null?void 0:r.cacheMinutes,this.To=r==null?void 0:r.timeout}onLoad(t){this.Hr=t}onError(t){this.bo=t}onTimeout(t,e){this.Qi=t,this.To=e}send(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,o=>o());let t=this.retrieveParameters();this.Kc(t);let e=jr.toQuery(t),r=`${this.domainUri}${this.path?`/${this.path}`:""}?${e}`;this.i0(r,this.s0)}abort(){this.jr&&(this.jr.abort(),this.jr=null)}isInProgress(){return this.jr!==null}i0(t,e){var r;let o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType=e,o.onerror=()=>{var a;return(a=this.bo)===null||a===void 0?void 0:a.call(this,o)},o.ontimeout=()=>{var a;return(a=this.Qi)===null||a===void 0?void 0:a.call(this,o)},o.onload=()=>{var a,c;o.status>=200&&o.status<400?((a=this.Hr)===null||a===void 0||a.call(this,this.r0(o,e)?o.response:o.responseText),csArray.prototype.forEach.call(this.afterRequestCallbacks,h=>h())):(c=this.bo)===null||c===void 0||c.call(this,o)},o.onloadend=()=>{this.jr=null},o.timeout=(r=this.To)!==null&&r!==void 0?r:Zf,this.jr=o,o.send()}r0(t,e){let r=t.getResponseHeader("Content-Type");return r===null?e==="json":csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(r),"json")>0}Kc(t){let e;this.Nm?e=`${Qf(this.Nm)}`:e=csString.prototype.slice.call(`${Math.random()}`,2,8),t.r=e}}return s})(),ep=(()=>{class s{constructor(t){var e;this.We={},this.Du={},this.Mm=r=>{for(let o of r){let{metadata:a,events:c}=o;this.send(c,a)}},this.Ua=t.endpoint,this.Ro=t.compressionOpts,this.ne=t.recoveryStorage,this.mandatoryParameters=(e=t.mandatoryParameters)!==null&&e!==void 0?e:[],this.ku=t.contentType,this.worker=!!t.worker,this.ne&&this.ne.recover(this.Mm)}setQueryParams(t){Object.keys(t).forEach(e=>{this.We[e]=t[e]})}removeQueryParams(t){t?t.forEach(e=>{delete this.We[e]}):this.We={}}send(t,e){let r=e||{...this.We},o=!("ct"in r),a=this.ku==="application/json"||typeof t!="string"&&!this.n0(t);"ct"in r||(!this.Ro||!o?r.ct=yi.UNCOMPRESSED:r.ct=this.Ro.compressionType);let c=a?JSON.stringify(t):t,h=Object.keys(r).map(g=>`${encodeURIComponent(g)}=${encodeURIComponent(r[g])}`).join("&"),p=`${this.Ua}?${h}`;if(fl(this.mandatoryParameters,g=>r[g]==null)){rt.warn(`[${this.worker?"WORKER":"MAIN"}] All mandatory parameters are not present on ${p}`);return}this.Ro&&o&&typeof c=="string"?this.Ro.compressor(c,this.Ro.compressionOutputType,g=>this.Dm(p,r,g)):this.Dm(p,r,c)}onLoad(t){this.Hr=t}onError(t){this.bo=t}onTimeout(t,e){this.Qi=t,this.To=e}abort(){this.km&&this.km()}setRequestHeader(t,e){this.Du[t]=e}getQueryParams(){return this.We}n0(t){return t&&t.byteLength!==void 0}Dm(t,e,r){let o=new XMLHttpRequest,a=Object.keys(e).map(c=>`${encodeURIComponent(c)}=${encodeURIComponent(e[c])}`).join("&");o.open("POST",t),this.ku&&o.setRequestHeader("Content-Type",this.ku),o.onload=()=>{if(this.ne&&this.ne.recover(this.Mm),this.Hr){let c={params:e,responseText:o.responseText,status:o.status};this.Hr(c)}},o.onerror=()=>{this.ne&&this.ne.save({key:a,metadata:e,events:r}),this.bo&&this.bo({params:e})},this.To&&this.Qi&&(o.timeout=this.To,o.ontimeout=()=>{this.Qi()}),this.km=()=>o.abort(),Object.keys(this.Du).forEach(c=>{o.setRequestHeader(c,this.Du[c])}),o.send(r)}}return s})(),Ca=(()=>{class s{constructor(t){this.xm=t}create(t,e,r){let o=e?{compressor:this.xm.compress,compressionOutputType:e,compressionType:this.xm.algorithm}:void 0;return new ep({endpoint:t,compressionOpts:o,recoveryStorage:r})}}return s})(),sp=(()=>{class s{setItem(t,e){window.localStorage.setItem(t,e)}getItem(t){return window.localStorage.getItem(t)}removeItem(t){window.localStorage.removeItem(t)}}return s})(),ip=(()=>{class s{constructor(t){this.xu=t}start(){this.xu.onEvent(t=>this.J(t)),this.xu.start()}stop(){this.xu.stop()}J(t){let e=`Content Security Policy error. Violated directive: ${t.violatedDirective} - Source file: ${t.sourceFile}`;j.warn(e)}}return s})(),rp=(()=>{class s{constructor(){this.Xt={boundElement:document,type:"securitypolicyviolation",listener:t=>this.securityPolicyViolationListener(t)}}start(){Ss(this.Xt)}stop(){_s(this.Xt)}onEvent(t){this.j=t}o0(t){if(!t)return!1;let e=t.disposition;return F(t.sourceFile)&&csArray.prototype.some.call(s.a0,r=>csString.prototype.indexOf.call(t.sourceFile,r)>0)&&e!=="report"}securityPolicyViolationListener(t){this.o0(t)&&this.j({violatedDirective:t.violatedDirective,sourceFile:t.sourceFile})}}return s.a0=["contentsquare","cdnssl.clicktale.net"],X([W("Event handler type: securitypolicyviolation")],s.prototype,"securityPolicyViolationListener",null),s})(),np=(()=>{class s{init(){this.mc=new ip(new rp),this.mc.start()}onOptout(){this.mc.stop()}onArtificialPageViewEnd(t){t&&this.mc.stop()}onAfterArtificialPageView(t){t&&this.mc.start()}}return s})(),op=(()=>{class s{constructor(t,e,r){this.E=t,this.R=e,this.w=r}grantReplayConsent(){if(!Ae.isReplayConsentNeeded(this.E))return;let t=this.R.getSession();if(!t){this.R.grantReplayRecordingBeforeSessionStart();return}Ae.isRecordingBlockedByConsent(t)&&(this.R.grantReplayRecording(t),this.w.emitAfterReplayRecordingConsentGranted())}withdrawReplayConsent(){if(!Ae.isReplayConsentNeeded(this.E))return;let t=this.R.getSession();if(!t){this.R.withdrawnReplayRecordingBeforeSessionStart();return}Ae.isRecordingWithDrawn(t)||(this.R.withdrawnReplayRecording(t),this.w.emitAfterReplayRecordingConsentWithdrawn())}}return s})(),ap=["replay:consent:unanonymized:granted","trackConsentGranted"],cp=["replay:consent:unanonymized:withdrawn","trackConsentWithdrawn"],lp=["replay:consent:startForSession:granted"],hp=["replay:consent:startForSession:withdrawn"],up=(()=>{class s{constructor(t,e,r,o,a){this.E=t,this.S=e,this.Rt=r,this.R=o,this.w=a}init(){this.Lm=new op(this.E,this.R,this.w),this.Rt.setInitialConsent(),this.ut()}ut(){this.S.register(ap,()=>{this.Rt.grantReplayAnonymizationConsent()}),this.S.register(cp,()=>{this.Rt.withdrawReplayAnonymizationConsent()}),this.S.register(lp,()=>{this.Lm.grantReplayConsent()}),this.S.register(hp,()=>{this.Lm.withdrawReplayConsent()})}onOptout(){this.Rt.removeAllConsents()}onBeforeVisitorRenewal(){this.Rt.removeAllConsents()}onAfterVisitorRenewal(){this.Rt.setInitialConsent()}onAfterVisitorCleared(){this.Rt.setInitialConsent()}}return s})(),me="_cs_c",ke=(()=>{let s;return function(i){i[i.NOT_REQUIRED=0]="NOT_REQUIRED",i[i.NOT_EXPRESSED=1]="NOT_EXPRESSED",i[i.GRANTED=2]="GRANTED",i[i.WITHDRAWN=3]="WITHDRAWN"}(s||(s={})),s})(),dp=(()=>{class s{constructor(t,e,r){this.E=t,this.N=e,this.gt=r}get(){let t;return this.E.cookielessTrackingEnabled?t=this.gt.getItem(me):t=this.N.get(me),t===null?t:Number(t)}set(t){this.E.cookielessTrackingEnabled?this.gt.setItem(me,csString(t)):this.N.set(me,csString(t),Pr)}remove(){this.E.cookielessTrackingEnabled?this.gt.removeItem(me):this.N.delete(me)}handleSubdomainChange(){this.E.cookielessTrackingEnabled||(this.E.allowSubdomains?this.N.delete(me,gi.CURRENT_DOMAIN):this.N.delete(me,this.N.getRootDomain()))}}return s})(),fp=(()=>{class s{constructor(t,e,r){this.E=t,this.ft=e,this.w=r}setInitialConsent(){let t=this.ft.get();(t===null||this.hasConsentRequiredChanged(t))&&this.setDefaultReplayAnonymization()}hasConsentRequiredChanged(t){let e=this.E.consentRequired;return e&&t===ke.NOT_REQUIRED||!e&&t!==ke.NOT_REQUIRED}handleSubdomainChange(){this.ft.handleSubdomainChange()}setDefaultReplayAnonymization(){let t=this.E.consentRequired?ke.NOT_EXPRESSED:ke.NOT_REQUIRED;this.ft.set(t)}grantReplayAnonymizationConsent(){this.E.consentRequired&&(this.ft.set(ke.GRANTED),this.w.emitReplayUnanonymizationConsentGranted())}withdrawReplayAnonymizationConsent(){this.E.consentRequired&&(this.ft.set(ke.WITHDRAWN),this.w.emitReplayUnanonymizationConsentWithdrawn())}removeAllConsents(){this.ft.remove()}isReplayUnanonymizedAllowedByConsent(){return!this.E.consentRequired||this.ft.get()===ke.GRANTED}getRequestParameters(){return{uc:`${this.ft.get()}`}}}return s})();var pp=(()=>{class s{setItem(t,e){window.sessionStorage.setItem(t,e)}getItem(t){return window.sessionStorage.getItem(t)}removeItem(t){window.sessionStorage.removeItem(t)}}return s})();var go=512,mo=255,Xi={SESSION:["visit",2],PAGE:["page",3],NEXT_PAGE_ONLY:["nextPageOnly",4]},gp=(()=>{class s{constructor(t,e){this.D=t,this.ft=e,this.Zt={},this.Be={}}set(t,e,r,o){let a,c;if((Ct(t)||F(t))&&Number(t)>0&&St(e)&&St(r)&&!Fe(e)&&!Fe(r)&&this.h0(o)){let h=this.D.anonymizePII(csString(e)),p=this.D.anonymizePII(csString(r));if(a=[csString.prototype.slice.call(h,0,go),csString.prototype.slice.call(p,0,mo)],c=r!=="",!K(o)||csArray.prototype.indexOf.call(Xi.SESSION,o)>=0){let g=this.getCustomVariablesSession();c?g[t]=a:delete g[t],this.setCustomVariableSession(g)}(!K(o)||csArray.prototype.indexOf.call(Xi.PAGE,o)>=0)&&(c?this.Zt[t]=a:delete this.Zt[t]),K(o)&&csArray.prototype.indexOf.call(Xi.NEXT_PAGE_ONLY,o)>=0&&(c?this.Be[t]=a:delete this.Be[t])}else throw new mt(na[0])}getCustomVariablesSession(){let t=this.ft.get();if(!t)return{};let e=window.csJSON.parse(t);return e!==null&&ys(e)?e:{}}setCustomVariableSession(t){this.ft.set(window.csJSON.stringify(t))}removeCustomVariablesSession(){this.ft.remove()}removeCustomVariablesPage(){this.Zt={}}getRequestParameters(){let t=this.getCustomVariablesSession();for(let r in this.Be)this.Be.hasOwnProperty(r)&&(this.Zt[r]=this.Be[r]);for(let r in this.Zt)this.Zt.hasOwnProperty(r)&&(t[r]=this.Zt[r]);if(window.csJSON.stringify(t).length<=2)return{};let e={cvars:this.Um(t)};return this.hasCustomVariablesPage()&&(e.cvarp=this.getCustomVariablesPage()),e}deleteNextPageOnlyCustomVariables(){if(Object.keys(this.Be).length>0)for(let t in this.Be)this.Be[t]===this.Zt[t]&&(delete this.Zt[t],delete this.Be[t])}hasCustomVariablesPage(){return this.Zt&&!ir(this.Zt)}getCustomVariablesPage(){return this.Um(this.Zt)}jm(t){for(let e in t)if(t.hasOwnProperty(e)){let r=parseInt(e,10),o=t[e],a=o[0],c=o[1];(!tl(r,1,20)||a.length>go||c.length>mo)&&delete t[e]}}Um(t){this.jm(t);let e=ir(t)?[]:t;return window.csJSON.stringify(e)}h0(t){return!K(t)||F(t)||Ct(t)}getAllValidCustomVars(){let t=this.getCustomVariablesSession();for(let e in this.Be)this.Be.hasOwnProperty(e)&&(this.Zt[e]=this.Be[e]);for(let e in this.Zt)this.Zt.hasOwnProperty(e)&&(t[e]=this.Zt[e]);return this.jm(t),t}}return s})(),mp=(()=>{class s{constructor(t,e,r,o){this._e=t,this.Co=e,this.Io=r,this.Rt=o}init(){this.u0()}shouldMaskNonTextElements(){if(this._e.anonymisationMethod!==Me.replayRecordingMaskedUrlRegexRules)return!1;if(this._e.isSMB)return this.shouldUseAnonymization();let t=this.Io.getMatchingRules(this.Co.getAnonymizedUrl());return csArray.prototype.some.call(t,e=>e.maskMedia)}shouldUseAnonymization(){if(this.Rt&&!this.Rt.isReplayUnanonymizedAllowedByConsent()){switch(this._e.anonymisationMethod){case null:case Me.replayRecordingUnmaskedUrlRegex:return!(this._e.replayRecordingUnmaskedUrlRegex&&this._e.replayRecordingUnmaskedUrlRegex.test(this.Co.getAnonymizedUrl()));case Me.replayRecordingUnmaskedUrlRegexRules:return!this.Io.evaluateUrl(this.Co.getAnonymizedUrl())}return!0}else{switch(this._e.anonymisationMethod){case null:case Me.replayRecordingMaskedUrlRegex:return!!(this._e.replayRecordingMaskedUrlRegex&&this._e.replayRecordingMaskedUrlRegex.test(this.Co.getAnonymizedUrl()));case Me.replayRecordingMaskedUrlRegexRules:return this.Io.evaluateUrl(this.Co.getAnonymizedUrl())}return!1}}u0(){this._e.anonymisationMethod===Me.replayRecordingMaskedUrlRegexRules&&this._e.replayRecordingMaskedUrlRegexRules?this.Io.setRegexRules(this._e.replayRecordingMaskedUrlRegexRules):this._e.anonymisationMethod===Me.replayRecordingUnmaskedUrlRegexRules&&this._e.replayRecordingUnmaskedUrlRegexRules&&this.Io.setRegexRules(this._e.replayRecordingUnmaskedUrlRegexRules)}}return s})();var yp=(()=>{class s extends kd{constructor(t){super(),this.W=null,this.yc=null,this.V=null,this.ni=null,this.Hm=["value","checked","src","data","alt"],this.Ec={state:B.MaskedElementState.Child},this.f0=e=>{for(let r of e){if(B.isMaskedElement(r.target)||B.isMaskedElementChild(r.target))for(let o=0;o<r.addedNodes.length;o+=1){let a=r.addedNodes[o];B.isMaskedElement(a)||B.isMaskedElementChild(a)||dt(a)&&this.Bm(a)}for(let o=0;o<r.removedNodes.length;o+=1){let a=r.removedNodes[o];is.isConnected(a)||this.Fm(a)}}},this.p0=t}setMaskedElementSettings(t){this.$s=t}startIdentifier(){this.isStarted||(this.isStarted=!0,this.onStart())}stopIdentifier(){return this.isStarted=!1,this.onStop()}start(){}stop(){}onStart(){var t,e,r,o;this.$s||(rt.error("maskedElementSettings not initialized","MaskedElementIdentifier.start"),this.$s={elementSelector:"",attrSelector:"",attrSelectors:[]});let{elementSelector:a,attrSelector:c,attrSelectors:h}=this.$s;(t=this.ni)!==null&&t!==void 0||(this.ni=this.g0()),a.length!==0&&((e=this.W)!==null&&e!==void 0||(this.W=this.m0()),this.W.observe(a)),c.length!==0&&((r=this.yc)!==null&&r!==void 0||(this.yc=this.y0(h)),this.yc.observe(c)),(o=this.V)!==null&&o!==void 0||(this.V=new mi(this.f0,(p,g)=>g==="added"&&this.E0(p))),this.V.observe(),csSetTimeout(this.p0)}onStop(){var t,e,r;this.W&&(this.Fm(document),this.W.disconnect()),(t=this.yc)===null||t===void 0||t.disconnect(),(e=this.V)===null||e===void 0||e.disconnect(),(r=this.ni)===null||r===void 0||r.disconnect()}g0(){return window.ResizeObserver?new ResizeObserver(t=>{window.requestAnimationFrame(()=>{csArray.prototype.forEach.call(t,e=>{this.resizeObserverCallback(e)})})}):null}m0(){return new hi(t=>{csArray.prototype.forEach.call(t,e=>{this.v0(e)?this.Bm(e):(this.S0(e),this._0(e))})})}y0(t){return new hi(e=>{csArray.prototype.forEach.call(e,r=>this.w0(r,t))})}resizeObserverCallback(t){let e=t.target.getBoundingClientRect(),r=B.getMaskedElementDetails(t.target);if(r.state!==B.MaskedElementState.Parent||e.width===r.width&&e.height===r.height)return;let o={state:B.MaskedElementState.Parent,width:e.width,height:e.height};B.setMaskedElementProperty(t.target,o),this.produceEvent({type:"ResizeMaskedElement",target:Jo(t.target),width:e.width,height:e.height})}_0(t){!this.ni||!dt(t)||Ol(t)||this.ni.observe(t)}v0(t){let e=csNodeparentNode.apply(t);return e?B.isMaskedElement(e)||B.isMaskedElementChild(e):Es(t)?B.isMaskedElement(t.host)||B.isMaskedElementChild(t.host):!1}E0(t){(B.isMaskedElement(t.host)||B.isMaskedElementChild(t.host))&&B.setMaskedElementProperty(t,this.Ec)}Fm(t){Qt(t,NodeFilter.SHOW_ELEMENT).visitAll(r=>{B.unsetMaskedElementProperty(r)})}S0(t){let e=t.getBoundingClientRect(),r={state:B.MaskedElementState.Parent,width:e.width,height:e.height};B.setMaskedElementProperty(t,r),this.A0(t),Qt(t).visitAll(o=>o!==t&&B.setMaskedElementProperty(o,this.Ec))}Bm(t){B.setMaskedElementProperty(t,this.Ec),Qt(t).visitAll(e=>e!==t&&B.setMaskedElementProperty(e,this.Ec))}A0(t){var e;let r=(e=it.getProperty(t,B.maskedAttributeProp))!==null&&e!==void 0?e:{attributes:[]};for(let o=0;o<this.Hm.length;o+=1){let a=this.Hm[o];csArray.prototype.indexOf.call(r.attributes,a)===-1&&csArray.prototype.push.call(r.attributes,a)}r.attributes.length!==0&&B.setMaskedAttributeProperty(t,r)}w0(t,e){var r;let o=(r=it.getProperty(t,B.maskedAttributeProp))!==null&&r!==void 0?r:{attributes:[]};for(let a=0;a<t.attributes.length;a+=1){let c=t.attributes[a].name;csArray.prototype.indexOf.call(o.attributes,c)===-1&&csArray.prototype.some.call(e,h=>csString.prototype.indexOf.call(h.attrName,c)>-1&&Bt.call(t,h.selector))&&csArray.prototype.push.call(o.attributes,c)}o.attributes.length!==0&&B.setMaskedAttributeProperty(t,o)}}return Td([W()],s.prototype,"resizeObserverCallback",null),s})(),Ep=(()=>{class s{constructor(){this.Vu=0,this.B=!1,this.zm="data-cs-capture",this._i=t=>{for(let e of t){if(Ee.isWhitelistedElement(e.target))for(let r=0;r<e.addedNodes.length;r+=1){let o=e.addedNodes[r];Ee.isWhitelistedElement(o)||dt(o)&&this.$m(o)}for(let r=0;r<e.removedNodes.length;r+=1){let o=e.removedNodes[r];is.isConnected(o)||this.Gm(o)}}}}start(){this.Vu++,!this.B&&(this.B=!0,this.T0())}T0(){this.W||(this.W=new hi(e=>Nt(e,r=>this.$m(r))));let t=this.Uu?`[${this.zm}], ${this.Uu}`:`[${this.zm}]`;this.W.observe(t),this.V||(this.V=new mi(this._i,(e,r)=>r==="added"&&this.b0(e))),this.V.observe()}stop(){this.B&&(this.Vu--,this.Vu===0&&(this.B=!1,this.R0()))}R0(){this.W&&(this.Gm(document),this.W.disconnect()),this.V&&this.V.disconnect()}setWhitelistedElementsSelector(t,e=!0){if(ti(t))this.Uu=t;else if(e)throw new mt("setCapturedElementsSelector")}getWhitelistedElementsSelector(){return this.Uu}$m(t){Qt(t).visitAll(e=>{Ee.whitelistElement(e)})}b0(t){Ee.isWhitelistedElement(t.host)&&Ee.whitelistElement(t)}Gm(t){Qt(t,NodeFilter.SHOW_ELEMENT).visitAll(r=>{Ee.removeWhitelistElement(r)})}}return s})();var vp=(()=>{let s;return function(i){function t(){let r=navigator.userAgent+navigator.language+navigator.platform,o=csString.prototype.slice.call(e(r).toString(16),-4),a=new csDate().getTime(),c="xxxxxxxx-hhhh-axxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,h=>{let p=(a+Math.random()*16)%16|0;return a=Math.floor(a/16),(h==="x"?p:p&7|8).toString(16)});return csString.prototype.replace.call(c,"hhhh",o)}i.generate=t;function e(r){let o=0;for(let a=0;a<r.length;a+=1)o=csString.prototype.charCodeAt.call(r,a)+(o<<6)+(o<<16)-o;return Math.abs(o)}}(s||(s={})),s})();var Sp="csq:start-hotjar",Qr=(()=>{let s;return function(i){i.HJ_DUAL_COLLECT="one_app_tag_dc"}(s||(s={})),s})(),_p=(()=>{class s{static set(t,e){s.Wm[t]=e}static isEnabled(t){return s.Wm[t]===!0}}return s.Wm={[Qr.HJ_DUAL_COLLECT]:!1},s})();function wp(s){return!window.hjSiteSettings||!((window.hjSiteSettings.features==null?void 0:csArray.prototype.indexOf.call(window.hjSiteSettings.features,Qr.HJ_DUAL_COLLECT))>-1)?!1:s?!ta(s)&&!Ou(s):!0}var Ap=(()=>{class s{constructor(t,e){this.et=t,this.It=e,this.ju=!1}getRequestParameters(){return{dr:this.get()}}addUrlMaskingPattern(t){this.It.addUrlMaskingPattern(t)}enableRemoveQueryString(){this.ju=!0}disableRemoveQueryString(){this.ju=!1}get(){let t=this.ju?this.et.removeQueryString(this.Jm()):this.Jm();return this.et.anonymizeUrl(t,{maskingPatterns:this.It.getUrlMaskingPatterns()})}set(t){this.Qm=t}Jm(){if(this.Qm)return this.Qm;let t="";try{t=window.top.document.referrer}catch{if(window.parent)try{t=window.parent.document.referrer}catch{t=""}}return t===""&&(t=document.referrer),typeof t!="string"&&(t=""),t}}return s})();function yo(s,i,t){if(!K(i)&&!K(t))return s.href;let e=K(i)?Ia(i):s.pathname,r=K(t)?Pa(t):s.search;return`${s.protocol}//${s.host}${e}${r}`}function Ia(s){return Dt(s,"/")?s:`/${s}`}function Pa(s){return Dt(s,"?")||s===""?s:`?${s}`}var Ki=(()=>{let s;return function(i){i[i.page=1]="page",i[i.onNextPageviewOnly=2]="onNextPageviewOnly"}(s||(s={})),s})(),Tp=(()=>{class s{constructor(t,e){this.xt=t,this.et=e,this.H0=10}overridePath(t,e){if(t===""){this.Br=void 0;return}let r=this.Zm(e);r&&(this.Hu=r),this.Br=e?this.ty(t,e):t}overrideQuery(t,e){let r=this.Zm(e);r&&(this.Bu=r),this.Po=e?this.ty(t,e):t}computeOverriddenUrl(t){return this.B0(t)?this.getAnonymizedUrl():t}F0(t){return(typeof t=="string"||typeof t=="number")&&t in Ki}B0(t){let e=this.ha(this.xt.href);return this.ha(t)===e}ha(t){return uh(t,"/")?csString.prototype.slice.call(t,0,-1):t}Zm(t){return K(t==null?void 0:t.lifespan)&&this.F0(t==null?void 0:t.lifespan)?t==null?void 0:t.lifespan:null}z0(){return this.Hu&&this.Hu in Ki}$0(){return this.Bu&&this.Bu in Ki}cleanupOverrideLifespan(){this.z0()&&(this.Br=void 0,this.Hu=void 0),this.$0()&&(this.Po=void 0,this.Bu=void 0)}getAnonymizedUrl(){let t=yo(this.xt,this.Br,this.Po);return this.et.anonymizeUrl(t)}getUrl(){return yo(this.xt,this.Br,this.Po)}getAnonymizedPathAndQuery(){let t=K(this.Br)?Ia(this.Br):this.xt.pathname,e=K(this.Po)?Pa(this.Po):this.xt.search;return this.et.anonymizeUrl(t+e)}getUrlProtocol(){return this.xt.protocol}getRequestParameters(){return{url:this.getAnonymizedUrl()}}ty(t,e){return this.G0(e)?this.q0(t):this.W0(e)?this.Y0(t):t}W0(t){return!!t.decodeURI}Y0(t){return this.ey(t,1,!1)}G0(t){return!!t.decodeURIDeep}q0(t){return this.ey(t,this.H0,!0)}ey(t,e,r){let o=t;for(let a=0;a<e;a++)try{let c=window.decodeURI(o);if(c===o)return o;o=c}catch{return o}return r&&j.warn(`decodeURIDeep limit reached: ${o}`),o}}return s})(),bp=(()=>{class s{constructor(t,e){this.S=t,this.As=e}init(){this.S.register(["debugEvents"],t=>{typeof t=="boolean"&&this.As.updateDynamicFields("emitDebugEvents",t)})}}return s})();var Eo=(()=>{class s{constructor(t,e,r,o,a){this.E=t,this.O=e,this.R=r,this.sy=o,this.ys=a}getRequestParameters(){var t;let e={...Hr(),...this.E.getRequestParameters()},r=this.R.getSession();r&&(e.pn=`${r.pageNumber}`);let o=this.O.getVisitor();if(o&&(e.sn=`${o.visitsCount}`,e.uu=`${o.id}`),!((t=this.sy)===null||t===void 0)&&t.hasSubProjectId()&&(e.subProjectID=`${this.sy.getSubProjectId()}`),this.X0(e),window.heap&&!this.E.isCsCrosswritingHeap())try{e.happid=window.heap.appid,window.heap.getSessionId&&(e.hsid=window.heap.getSessionId()),window.heap.getUserId?e.huu=window.heap.getUserId():window.heap.userId&&(e.huu=window.heap.userId),window.heap.getPageviewMetadata&&(e.hpvid=window.heap.getPageviewMetadata().pageviewId)}catch{delete e.happid,delete e.hsid,delete e.huu,delete e.hpvid}return e}X0(t){if(!this.ys)return;let e=this.ys.getSharedContext();e&&(t.happid=e.happid,t.t=e.pageTitle,t.fvt=csString(e.firstViewTime),t.fvurl=e.firstViewUrl,e.previousViewUrl&&(t.pvurl=e.previousViewUrl),t.url=e.currentViewUrl,e.sessionReferrer&&(t.fpvurl=e.sessionReferrer),t.sw=csString(e.screenWidth),t.sh=csString(e.screenHeight),t.cvt=csString(e.currentViewTime),e.encryptedIdentity&&(t.i=e.encryptedIdentity),e.cvarp&&(t.cvarp=e.cvarp))}}return s})();function Rp(){let s="[data-cs-mask]",i="#c1_card_info_id",t=".ctHidden",e=["[data-heap-redact-text]","[heap-ignore]","[data-heap-ignore]","[data-heap-redact-attributes]"],r=["[data-hj-suppress]",".data-hj-suppress","[data-hj-masked]"];return[s,i,t,...e,...r]}function Cp(){return[{selector:".ctHidden,input:not([type=button]):not([type=submit])",attrName:"value"}]}var Ip=(()=>{class s{constructor(t){this.ol=t,this.K0={PIISelectors:["picture","img","video","audio"],Attributes:[]},this.$s={elementSelector:"",attrSelector:"",attrSelectors:[]};let e={PIISelectors:Rp(),Attributes:Cp()};this.$s=B.getComputedSelectorSettings(e,this.$s)}init(){this.J0()}setMaskedElementSettingsFromCommand(t){if(t=B.sanitizeSelectorUserInput(t),!B.isSelectorUserInput(t))throw new mt(oa[0]);this.Fu(t)}setMaskedElementSettingsFromParent(t){let e={PIISelectors:csString.prototype.split.call(t.elementSelector,","),Attributes:t.attrSelectors};this.Fu(e)}getMaskedElementSettings(t){return t?this.iy(this.K0):this.$s}J0(){var t,e,r,o,a,c,h;let p={PIISelectors:[],Attributes:[]};((r=(e=(t=window==null?void 0:window.ClickTaleSettings)===null||t===void 0?void 0:t.DOM)===null||e===void 0?void 0:e.PII)===null||r===void 0?void 0:r.Text)instanceof Array&&p.PIISelectors.push(...window.ClickTaleSettings.DOM.PII.Text),((c=(a=(o=window==null?void 0:window.ClickTaleSettings)===null||o===void 0?void 0:o.DOM)===null||a===void 0?void 0:a.PII)===null||c===void 0?void 0:c.Attributes)instanceof Array&&window.ClickTaleSettings.DOM.PII.Attributes.forEach(g=>{F(g.attr)&&F(g.rule)&&p.Attributes.push({selector:g.rule,attrName:g.attr})}),(h=this.ol)===null||h===void 0||h.markClicktalePIIInUse(p),this.Fu(p)}Fu(t){this.$s=this.iy(t)}iy(t){return B.getComputedSelectorSettings(t,this.$s)}}return s})(),Pp=60*1e3,Op=30*1e3,Np=(()=>{class s{constructor(t,e){this.R=t,this.O=e,this.zu=!1,this.Q0=zr(()=>this.R.refreshSession(),Op)}onSessionExpired(t){this.Z0=t}isSessionValid(){return this.zu?!0:!(!this.R.hasValidSession()||this.R.pollCacheRefreshEvent()&&this.O.isSessionRenewed())}isCurrentPageviewValid(){let t=this.R.hasValidSession();return this.R.pollCacheRefreshEvent(!1)?!this.O.isSessionRenewed():t}refreshSession(){this.isSessionValid()?this.Q0():this.tR()&&(this.ry=z.now(),this.renewSession(!1))}renewSession(t){this.zu=!0,this.Z0(t),this.zu=!1}tR(){return!document.hidden&&(!K(this.ry)||z.now()-this.ry>Pp)}}return s})(),Mp=(()=>{class s{constructor(){this.W=null,this.V=null,this.B=!1,this._i=t=>{for(let e of t)if(Le.isEditableNode(e.target))for(let r=0;r<e.addedNodes.length;r+=1){let o=e.addedNodes[r];if(!Le.isEditableNode(o)){if(lr(o)||Pl(o)){Le.markEditableNode(o);continue}dt(o)&&this.ny(o)}}}}start(){this.B||(this.B=!0,this.W=new hi(t=>Nt(t,e=>{this.ny(e)})),this.W.observe("[contenteditable]"),this.V=new mi(this._i,(t,e)=>e==="added"&&this.eR(t)),this.V.observe())}stop(){var t,e;this.B&&(this.B=!1,(t=this.W)===null||t===void 0||t.disconnect(),this.W=null,(e=this.V)===null||e===void 0||e.disconnect(),this.V=null)}ny(t){Qt(t).visitAll(e=>{Le.markEditableNode(e)})}eR(t){Le.isEditableNode(t.host)&&Le.markEditableNode(t)}}return s})();var Dp=(()=>{class s{constructor(){this.subscriptions={}}subscribe(t,e){this.subscriptions[t]=e,Object.keys(this.subscriptions).length===1&&this.onStartTracking()}unsubscribe(t){delete this.subscriptions[t],Object.keys(this.subscriptions).length===0&&this.onStopTracking()}}return s})(),kp=(()=>{class s extends Dp{constructor(t){super(),this.iR=t,this.li=[{boundElement:document,type:"touchstart",listener:e=>this.J(e)},{boundElement:document,type:"touchmove",listener:e=>this.J(e)},{boundElement:document,type:"touchend",listener:e=>this.J(e)}],this.Oo=new zd,this.Oo.onGesture((e,r)=>this.Rh(e,r))}Rh(t,e){for(let r in this.subscriptions){let o=this.subscriptions[r];o(t,e)}}onStartTracking(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.li,t=>Ss(t))}onStopTracking(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.li,t=>_s(t))}canDetectGesture(){return typeof devicePixelRatio!="undefined"}J(t){this.iR.tryToExecute("process gesture event",()=>{if(this.Oo.isValidTouchEvent(t))switch(t.type){case"touchstart":this.Oo.processActionDown(t);break;case"touchmove":this.Oo.processActionMove();break;case"touchend":this.Oo.processActionUp(t);break}})()}static isSwipe(t){return t.type===Rt.FLICK||t.type===Rt.DRAG}}return s})();var xp=(()=>{class s{constructor(t){this.pt=t}on(t,e){return r=>{this.pt.hasValidEventTarget(r)&&this.AR(r,t)&&e(r)}}AR(t,e){let r=we(t);return Bt.call(r,e)}isMatchesSelectorSupported(){return!!Bt}}return s})(),Lp=(()=>{class s extends kt{constructor(){super(),this.uy=0}onStart(){j.isPerfLoggingActive()&&(this.Mo=window.csSetInterval(()=>this.dy(),s.TR))}onStop(){j.isPerfLoggingActive()&&(this.dy(),csClearInterval(this.Mo))}dy(){this.uy>=s.bR||U.counters.methodPerformance.flush()&&this.uy++}}return s.TR=5e3,s.bR=5,s})(),Vp=(()=>{class s{constructor(){}init(){this._c=new Lp}onStartTracking(){this._c.start()}onOptout(){this._c.stop()}onArtificialPageViewEnd(t){t&&this._c.stop()}onAfterArtificialPageView(t){t&&this._c.start()}}return s})();var Up=["startDataCollection","data-collection:start"],jp=["data-collection:stop"],Hp=(()=>{class s{constructor(t,e){this.rs=t,this.S=e}init(){this.S.register(Up,()=>{this.rs.startDataCollection()}),this.S.register(jp,()=>{this.rs.stopDataCollection()})}}return s})(),Ji={fromSessionRenewal:!1,isRenewedVisitor:!1},Bp=(()=>{class s{constructor(t,e,r,o,a,c){this.E=t,this.w=e,this.cs=r,this.lt=o,this.tr=a,this.U=c,this.Ay=!1,this.Ty=0,this.sd=!0,this.by=!1,this.Gs=!1,this.startDataCollection=({fromSessionRenewal:h,onAfterDataCollectionStartedCallback:p}=Ji)=>{h&&this.Gs||!this.Ay?this.iC(h,p):this.rC()}}isDataCollectionStarted(){return this.Gs}tryStartAutomaticDataCollection({fromSessionRenewal:t,isRenewedVisitor:e,onAfterDataCollectionStartedCallback:r}=Ji){this.nC(t,e)&&this.startDataCollection({fromSessionRenewal:t,onAfterDataCollectionStartedCallback:r})}disableStartDataCollection(){this.sd=!1}allowStartDataCollection({fromSessionRenewal:t}=Ji){this.sd=!0,this.by&&this.startDataCollection({fromSessionRenewal:t})}stopDataCollection(){this.Gs&&(this.Gs=!1,this.w.emitArtificialPageViewEnd(!0),this.tr.stop())}rC(){this.Gs||(this.Gs=!0,this.U.isSessionValid()?(this.U.refreshSession(),this.tr.start(je.Artificial)):this.U.renewSession(!1))}nC(t,e){return e&&!this.Gs?!1:t?!0:this.E.startMode===ai.Manual?!1:!Er(this.E)&&!this.E.isHeapSideloadsStartDataCollection()&&!this.E.isCsSideloadingHeap()}iC(t,e){if(this.cs.isActive()||(this.by=!0,this.oC()&&(this.Ty++,this.Ty<2))||!this.sd||this.Gs&&!t)return;this.Ay=!0,this.Gs=!0,this.lt.init();let r=t?je.Renewal:je.Natural;this.tr.start(r);let o=()=>{this.w.emitStartTracking(t),typeof e=="function"&&e()};is.onDocumentLoaded(o)}oC(){return Er(this.E)&&this.E.isCsSideloadingHeap()}}return s})();var Fp=(()=>{class s{constructor(t){this.S=t}init(){this.zy(s.pI,qo),this.zy(s.gI,Go)}zy(t,e){this.S.register([t],(r,o)=>{!F(r)||!(F(o)||Zt(o))||j.error(o,`${e}${r}`)})}}return s.gI="logSnippetError",s.pI="logImplementationSnippetError",s})();var zp=(()=>{class s{constructor(t,e){this.zt=t,this.E=e,this.$y=!1}enableRecordingContext(t,e,r){this.$y=!0,this.Lr=t,this.R=e,this.io=r}getRecordingContext(){var t,e,r;if(!this.$y)return{isRecording:!1,recordingStartTimestamp:0,etrState:jt.ETR_OFF,etrStatus:qr.ETR_DISABLED,collectState:C.ANALYTICS_ONLY};let o=this.R.getSession();return{isRecording:this.Lr.isRecording(),useAnonymization:this.zt.getSensitiveStatus().useAnonymization,enableOnlineResources:(t=this.Lr.getStaticResourceManagerStatus())===null||t===void 0?void 0:t.onlineAssets.activated,enableOnlineResourcesOnNextPageview:(e=this.Lr.getStaticResourceManagerStatus())===null||e===void 0?void 0:e.onlineAssets.enabledOnNextPageview,recordingStartTimestamp:parseInt(this.Lr.getRecordingStartTimestamp(),10),etrState:this.E.malkaEtrEnabled?jt.ETR_ON:jt.ETR_OFF,etrStatus:this.io.getEtrStatus(o),collectState:(r=o==null?void 0:o.collectState)!==null&&r!==void 0?r:C.ANALYTICS_ONLY}}}return s})(),di=(()=>{class s{static isRecordingSupported(){return"MutationObserver"in window&&"visibilityState"in document}static isAsyncSerializationSupported(){return"Promise"in window&&"findIndex"in csArray.prototype}}return s})();var $p=(()=>{class s extends kt{constructor(t,e,r,o,a,c){super(),this.ge=t,this.lt=e,this.qt=r,this.fr=o,this.Qr=a,this.it=c}onStart(){var t,e,r;this.qt.start(),this.ge.setMaskedElementSettings(this.lt.getMaskedElementSettings((t=this.it)===null||t===void 0?void 0:t.shouldMaskNonTextElements())),this.ge.startIdentifier(),(e=this.fr)===null||e===void 0||e.start(),(r=this.Qr)===null||r===void 0||r.start()}onStop(){var t,e;this.qt.stop(),this.ge.stopIdentifier(),(t=this.fr)===null||t===void 0||t.stop(),(e=this.Qr)===null||e===void 0||e.stop()}}return s})(),Gp=(()=>{class s{constructor(t,e,r,o,a,c){this.it=t,this.lt=e,this.se=r,this.qt=o,this.Rn=a,this.ht=c,this.Cn=Wo(this.Rn)}getSensitiveStatus(){var t,e;return{started:this.se.isStarted,useAnonymization:this.it.shouldUseAnonymization(),capturedElementSelector:this.qt.getWhitelistedElementsSelector(),maskedElementSettings:this.lt.getMaskedElementSettings((t=this.it)===null||t===void 0?void 0:t.shouldMaskNonTextElements()),encryptionSelectors:(e=this.ht)===null||e===void 0?void 0:e.getEncryptionSelectors()}}getElementSensitiveStatus(t){let e=this.se.isStarted,r=this.it.shouldUseAnonymization();return e?B.isMaskedElement(t)||B.isMaskedElementChild(t)?wt.MASKED:Vd.shouldEncrypt(t)?wt.ENCRYPTED:Le.isEditableNode(t)?wt.ANONYMIZED:r?Ee.isWhitelistedElement(t)?wt.CAPTURED:wt.ANONYMIZED:wt.CAPTURED:wt.ANONYMIZED}getAttributeSensitiveStatus(t,e){if(!this.se.isStarted)return wt.ANONYMIZED;let r=this.it.shouldUseAnonymization();return B.isMaskedAttribute(t,e)?wt.MASKED:r?Do(t)||Ee.isWhitelistedElement(t)||this.Cn.has(e)?wt.CAPTURED:wt.ANONYMIZED:wt.CAPTURED}}return s})(),qp=(()=>{class s{constructor(t){this.U=t}onAfterVisitorRenewal(){this.U.renewSession(!0)}}return s})(),Wp={MATCHED:{[C.ANALYTICS_ONLY]:C.ANALYTICS_ONLY_RULES_TARGETING,[C.RECORDING_GLOBAL_SAMPLING]:C.RECORDING_RULES_TARGETING,[C.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING]:C.RECORDING_RULES_TARGETING},MISSED:{[C.ANALYTICS_ONLY]:C.ANALYTICS_ONLY_RULES_TARGETING,[C.RECORDING_GLOBAL_SAMPLING]:C.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING}},Qi=(()=>{let s;return function(i){let t;function e(m){t=m}i.setLogger=e;function r(m,w){for(let P of m)if(a(P,w))return!0;return!1}i.isUrlMatching=r;function o(m,w){if(F(w)){for(let P of m)if(a(P,w))return!0}else if(si(w)){for(let P of m)if(a(P,csString(w)))return!0}return!1}i.isMatching=o;function a(m,w){let P=c(m,w);return m.negate?!P:P}function c(m,w){switch(m.rule_type==="date"&&(m.match_operation==="less_than"||m.match_operation==="greater_than")&&(w=(new csDate(w).valueOf()/1e3).toFixed(0)),m.match_operation){case"exact":switch(m.rule_type){case"string":return F(m.pattern)?csString.prototype.toLowerCase.call(w)===csString.prototype.toLowerCase.call(m.pattern):!1;case"boolean":return w===m.pattern||w===csString(m.pattern);case"number":return St(w)?Number(w)===Number(m.pattern):!1;default:return w===m.pattern}case"starts_with":return F(m.pattern)?csString.prototype.indexOf.call(w,m.pattern)===0:!1;case"ends_with":return F(m.pattern)?Or(w,m.pattern):!1;case"contains":return F(m.pattern)?csString.prototype.indexOf.call(w,m.pattern)!==-1:!1;case"regex":if(!F(m.pattern))return!1;try{return new csRegExp(m.pattern).test(w)}catch(P){return t==null||t.warn(`targeting.matchOperation.regex invalid ${P==null?void 0:P.message}`),!1}case"simple":return F(m.pattern)?v(w)===v(m.pattern):!1;case"greater_than":return Number(w)>Number(m.pattern);case"less_than":return Number(w)<Number(m.pattern);case"exact_date":{let P=Number(m.pattern);if(!Ct(P))return!1;let V=new csDate(P*1e3);return new csDate(w).toDateString()===V.toDateString()}case"exact_days_ago":return h(m,w);case"more_than_days_ago":return p(m,w);case"less_than_days_ago":return g(m,w);case"unknown":return E(w);default:return t==null||t.warn(`targeting.matchOperation.regex not managed operation ${m.match_operation}`),!1}}function h(m,w){let P=new csDate,V=P.setDate(P.getDate()-Number(m.pattern)),T=new csDate(V);return new csDate(w).toDateString()===T.toDateString()}function p(m,w){let P=Number(m.pattern);if(!Ct(P))return!1;let V=Number(P)+1,T=new csDate,A=new csDate(T);return A.setDate(T.getDate()-V),new csDate(w).getTime()<=A.getTime()}function g(m,w){let P=Number(m.pattern);if(!Ct(P))return!1;if(P===0)return h(m,w);let V=new csDate,T=new csDate(V);return T.setDate(V.getDate()-P),new csDate(w).getTime()>=T.getTime()}function E(m){return St(m)?F(m)?csString.prototype.trim.call(m)==="":si(m)?m===!0:Ct(m)?m!==0:!1:!0}function v(m){let w=Dt(m,"http://")||Dt(m,"https://")?m:`https://${m}`,P=Fo(w);return P!==null?csString.prototype.replace.call(P.host,/^www./,""):m}}(s||(s={})),s})(),Yp=(()=>{let s;return function(i){i.URL="url"}(s||(s={})),s})(),Zi={isLegacyURL:s=>s.component==="url",isLegacyTrigger:s=>s.component==="trigger",isURL:s=>s.type===Yp.URL},Xp=(()=>{class s{constructor(t){this.qy=new Br,this.Wy=[],this.Yy=[],Qi.setLogger(t)}setTargetingRules(t){this.qy.setRegexRules(csArray.prototype.filter.call(t,Zi.isURL));for(let e of t)Zi.isLegacyURL(e)?csArray.prototype.push.call(this.Wy,e):Zi.isLegacyTrigger(e)&&csArray.prototype.push.call(this.Yy,e)}matchUrl(t){return Qi.isUrlMatching(this.Wy,t)||this.qy.evaluateUrl(t)}matchTrigger(t){return Qi.isMatching(this.Yy,t)}}return s})(),Kp=(()=>{class s extends kt{constructor(t,e,r){super(),this.Xy=t,this.gd=e,this.C=r}init(){this.md=new Xp(j),this.Xy&&this.md.setTargetingRules(this.Xy)}onStart(){}checkTargetingRules(){let t=this.C.getAnonymizedUrl();this.gd(this.yd(t,"url"))}onStop(){}onTargetingRulesArtificialPageview(t){this.isStarted&&this.gd(this.yd(t,"url"))}onExternalEvent(t){this.isStarted&&this.gd(this.yd(t.name,"trigger"))}yd(t,e){var r,o;return e==="url"&&F(t)&&(!((r=this.md)===null||r===void 0)&&r.matchUrl(t))?!0:!!(e==="trigger"&&(!((o=this.md)===null||o===void 0)&&o.matchTrigger(t)))}}return s})(),Jp=(()=>{class s{constructor(t,e,r,o,a,c,h){this.E=t,this.w=e,this.Tt=r,this.Q=o,this.C=a,this.R=c,this.rs=h,this.rr=!1,this.$o=(p=!1)=>{this.rr&&this.E.isSMB&&this.rs.allowStartDataCollection({fromSessionRenewal:p}),this.E.startMode===ai.Automatic&&this.rs.startDataCollection({fromSessionRenewal:p})},this._I=p=>{this.rr||(this.rr=p,this.Ky(),this.$o())}}init(){this.E.isSMB&&this.rs.disableStartDataCollection(),this.Zr=new Kp(this.E.recordTargetingRules,this._I,this.C),this.Q.addListener(this.Zr),this.Zr.init()}start(){this.Zr.start()}stop(){this.Zr.stop()}maybeStartDataCollection(t){if(t){this.$o(t);return}if(this.wI()){this.rr=!0,this.$o(),this.stop();return}this.Zr.checkTargetingRules()}onAfterArtificialPageView(){this.Zr.checkTargetingRules()}onCollectStateChange(t){if(this.Jy(t)){this.stop();return}let e=t===C.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING;!this.rr&&e||csSetTimeout(()=>this.Qy(t),0)}onStartTracking(){this.Ky()}wI(){let t=this.R.getSession();return!!(t&&this.Jy(t.collectState))}Jy(t){return t===C.RECORDING_RULES_TARGETING||t===C.ANALYTICS_ONLY_RULES_TARGETING}Ky(){var t;if(this.rr){let e=this.R.getSession(),r=this.Tt.getInitialCollectState();this.Qy((t=e==null?void 0:e.collectState)!==null&&t!==void 0?t:r),this.rs.isDataCollectionStarted()&&this.w.emitTargetingRulesMatched()}}Qy(t){let e=Wp[this.rr?"MATCHED":"MISSED"][t];e&&this.w.emitCollectStateChange(e,jt.ETR_OFF)}}return s})(),Qp=(()=>{class s{constructor(){this.Zy=new Set,this.tE=[],this.Ed=new Set,this.vd=[]}addUrlMaskingPattern(t){if(this.Zy.has(t))return;this.Zy.add(t);let e=Vn(t);csArray.prototype.push.call(this.tE,e)}getUrlMaskingPatterns(){return this.tE}resetPartialUrlMaskingPatterns(){this.Ed.clear(),this.vd=[]}addPartialUrlMaskingPattern(t){if(this.Ed.has(t))return;this.Ed.add(t);let e=Vn(t);csArray.prototype.push.call(this.vd,e)}getPartialUrlMaskingPatterns(){return this.vd}}return s})(),Zp=(()=>{class s{constructor(t,e,r){this.E=t,this.O=e,this.R=r,this.gs=z.now()}resetStartTime(){this.gs=z.now()}getSessionData(){let{projectId:t}=this.E,e=this.O.getVisitor();e==null&&j.warn("Visitor is null. This happens when a snippet tries to get Session Data before the tag was initialized.");let{id:r,visitsCount:o}=e!=null?e:{},a=this.R.getSession();a===null&&j.warn("Session is null. This happens when a snippet tries to get Session Data before the tag was initialized.");let{pageNumber:c}=a!=null?a:{};return{projectId:t,userId:r,sessionNumber:o,pageNumber:c,relativeTimestamp:z.now()-this.gs}}}return s})(),tg=["clearSession"],eg=["extendSession"];var sg=["getSessionData"],ig=["session:start:newVisitor"],rg=["session:clear:visitor"],ng=(()=>{class s{constructor(t,e,r,o){this.E=t,this.O=e,this.R=r,this.S=o}init(){this.Sd=new Zp(this.E,this.O,this.R),this.S.register(tg,()=>this.R.removeSession()),this.S.register(eg,()=>this.R.extendSessionPeriodically(),{disableApplyPending:!0}),this.S.register(sg,()=>this.Sd.getSessionData(),{disableApplyPending:!0}),this.S.register(ig,()=>this.O.renewVisitor()),this.S.register(rg,()=>{this.O.resetVisitor()},{disableApplyImmediate:!0})}onBeforeNaturalPageView(){this.O.createOrUpdateVisitor(),this.R.createOrUpdateSession()}onBeforeArtificialPageView(){this.O.createOrUpdateVisitor(),this.R.createOrUpdateSession()}onAfterNaturalPageView(){this.Sd.resetStartTime()}onAfterArtificialPageView(){this.Sd.resetStartTime()}onOptout(){this.O.removeVisitor(),this.R.removeSession()}onCollectStateChange(t){this.R.updateCollectState(t)}}return s})(),og=(()=>{class s{constructor(t,e,r,o,a,c,h,p,g,E,v,m,w,P,V,T,A,M,I,b,k,D,G,nt,yt,At,y,O,N,L,Z,ot,$t,Re,We,Ye,ee){this.wt=t,this.xc=e,this.he=r,this.O=o,this.R=a,this.U=c,this.Is=h,this.w=p,this.S=g,this.pl=E,this.E=v,this.gl=m,this.cs=w,this.Sn=P,this.Rt=V,this.D=T,this.tt=A,this.et=M,this.C=I,this.AI=b,this.Q=k,this.bt=D,this._t=G,this.eE=nt,this.ee=yt,this.TI=At,this.M=y,this.Ne=O,this.N=N,this.gt=L,this.K=Z,this.Tt=ot,this.lt=$t,this.ze=Re,this.ss=We,this.Ze=Ye,this.es=ee,this.bI=se=>{this.w.emitBeforeSessionRenewal(),this.tn(!0,se),this.w.emitAfterSessionRenewal()},this.RI=se=>{this.w.emitBeforeSessionRenewal(),this.Tt.refreshQuota(It=>{It!==C.QUOTA_REACHED&&(this.tn(!0,se),this.w.emitAfterSessionRenewal())})}}start(){if(this.gl.init(),this.cs.init(),this.cs.isActive())return;let t,e,r,o,a,c,h,p,g,E,v,m,w,P,V,T,A,M,I;this.M.schedule(()=>{V=new qp(this.U),m=new xp(this.tt),w=new yp(()=>{}),T=new Ep,I=new Mp;let b=new $p(w,this.lt,T,M,I,this.sE());P=new Gp(this.sE(),this.lt,b,T,this.E.whitelistedAttributes,A);let k=new nd(this.w,this.S,this.lt,b,T,A,M);k.init(),this.w.addListener(k),t=new Rf(this.E,this.xc,this.O,this.tt,m,this.S,this.U,new kp(j),this.bt,this.Ne,this.Q,P,this.Et,this.Ze,this.es),e=new ud(this.S,this.R,this.E,this.wt,this.he,this.D),v=new zp(P,this.E);let D=null,G=new Yu;r=new Vf(this.O,this.R,this.S,this.bt,D,this.E,G,v),o=new vd(this.E,this.xc,this.O,this.S,this.D,this.U,this.C);let nt;this.tr=new ed(this.E,this.S,this.w,this.xc,this.O,this.R,this.Is,this.Rt,this._t,this.C,this.ee,G,this.Q,this.ze,nt),this.iE=new ng(this.E,this.O,this.R,this.S),this.rs=new Bp(this.E,this.w,this.cs,this.lt,this.tr,this.U),new Hp(this.rs,this.S).init(),h=new Ad(this.E,this.S,this.he,this.xc,this.Q),p=new Fp(this.S),g=new Vp}),this.M.schedule(()=>{this.Sn.init()}),this.M.schedule(()=>{r.init()}),this.M.schedule(()=>{e.init()}),this.M.schedule(()=>{o.init()}),this.M.schedule(()=>{this.eE.init()}),this.M.schedule(()=>{this.tr.init()}),this.M.schedule(()=>{this.iE.init()}),this.M.schedule(()=>{h.init()}),this.M.schedule(()=>{this.AI.init()}),this.M.schedule(()=>{p.init()}),this.M.schedule(()=>{g.init()}),this.M.schedule(()=>{this.TI.init()}),this.M.schedule(()=>{this.w.addListener(this.iE),this.w.addListener(this.pl),this.w.addListener(t),this.w.addListener(this.Sn),this.w.addListener(r),this.w.addListener(o),this.w.addListener(this.eE),this.w.addListener(this.tr),this.w.addListener(h),this.w.addListener(e),this.w.addListener(g),this.w.addListener(V)}),this.M.schedule(()=>{t.init()}),this.M.schedule(()=>{this.E.isQuotaEnabled()?this.U.onSessionExpired(b=>{this.RI(b)}):this.U.onSessionExpired(b=>{this.bI(b)}),this.tn()})}tn(t=!1,e=!1){var r,o,a;if(this.E.hasTargetingRules()){this.Go||(this.Go=new Jp(this.E,this.w,this.Tt,this.Q,this.C,this.R,this.rs),this.w.addListener(this.Go),this.Go.init(),this.Go.start(),this.S.start(),(r=this.Et)===null||r===void 0||r.start()),this.Go.maybeStartDataCollection(t);return}this.S.start(),(o=this.Et)===null||o===void 0||o.start(),this.rs.tryStartAutomaticDataCollection({fromSessionRenewal:t,isRenewedVisitor:e})}sE(){if(this.it)return this.it;let t=new Br;return this.it=new mp(this.E,this.C,t,this.Rt),this.it.init(),this.it.shouldUseAnonymization()&&U.counters.pageAnonymisation.count("anonymized-on-start"),this.it}}return s})();var Oa=(()=>{class s{constructor(t){this.configuration=t}}return s})(),ag=(()=>{class s extends Oa{constructor(t,e,r,o,a){super(t),this.configuration=t,this.w=e,this._d=r,this.C=o,this.wd=a,this.Ad=!1}refreshQuota(){}canCollect(t){return!0}init(){this.configuration.malkaUrlEnabled&&this.configuration.hasRecordingUrlRules()&&(this.Ad=!0,this.wd.setRegexRules(this.configuration.recordingUrlRules))}sanitizeSessionCollectState(t){return(t.collectState===C.QUOTA_REACHED||t.collectState===C.RECORDING_RULES_TARGETING||t.collectState===C.RECORDING_TEMPORARILY)&&(t.collectState=C.ANALYTICS_ONLY),t}computeInitialCollectState(){return Ae.isReplayConsentNeeded(this.configuration)?C.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED:this.Lc()}computeInitialCollectStateFromRecordingConsentGranted(){return this.Lc()}Lc(){if(!di.isRecordingSupported())return C.ANALYTICS_ONLY;let t=C.ANALYTICS_ONLY,e=jt.ETR_OFF;return ze.percentage()<this.configuration.replayRecordingRate||this._d.isForceReplayRecorded()?t=C.RECORDING_GLOBAL_SAMPLING:this.Ad&&this.wd.evaluateUrl(this.C.getAnonymizedUrl())&&(t=C.RECORDING_URL_SAMPLING),this.configuration.malkaEtrEnabled&&(e=jt.ETR_ON),this.w.emitCollectStateChange(t,e),t}getEligibleCollectState(t){if(!di.isRecordingSupported())return C.ANALYTICS_ONLY;if(Ae.isRecordingBlockedByConsent(t))return t.collectState===C.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?C.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN:C.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED;if(t.collectState===C.RECORDING_GLOBAL_SAMPLING)return C.RECORDING_GLOBAL_SAMPLING;let e=this.configuration.malkaEtrEnabled?jt.ETR_ON:jt.ETR_OFF;return this.Ad&&this.wd.evaluateUrl(this.C.getAnonymizedUrl())?(this.w.emitCollectStateChange(C.RECORDING_URL_SAMPLING,e),C.RECORDING_URL_SAMPLING):(this.w.emitCollectStateChange(C.ANALYTICS_ONLY,e),C.ANALYTICS_ONLY)}isReplayRecorded(t){return Ae.isRecordingBlockedByConsent(t)?!1:t.collectState===C.RECORDING_TEMPORARILY||t.collectState===C.RECORDING_GLOBAL_SAMPLING||t.collectState===C.RECORDING_URL_SAMPLING||this.configuration.malkaEtrEnabled}getInitialCollectState(){return C.ANALYTICS_ONLY}getRecordingConsentWithdrawn(){return C.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}}return s})(),Ot="_cs_s",Rr=18e5,tr=".",cg=13,Js=(()=>{let s;return function(i){i[i.NOT_FOUND=0]="NOT_FOUND",i[i.EXPIRED=1]="EXPIRED",i[i.FOUND=2]="FOUND"}(s||(s={})),s})(),lg=(()=>{class s{constructor(t,e,r){this.E=t,this.N=e,this.K=r,this.ie=null,this.Td=!1}get(t){let e=this.getRawSession(t);return this.isValid(e)?ia(e):null}getRawSession(t){if(t){let g=this.bd();return yr(g)}let{sessionString:e,status:r}=this.CI(),o=yr(e);if(r!==Js.EXPIRED)return o;if(this.E.cookielessTrackingEnabled)return null;let a=this.bd();if(!a)return null;let c=csString.prototype.split.call(a,tr);if(!s.rE(c))return a;let h=c[c.length-1],p=parseInt(h,10);return isNaN(p)||this.II(p),o}onCookieToSet(t){this.Oi=t}onCookieToRemove(t){this.Ni=t}set(t,e=Rr){var r;let o=z.now()+e,a=Mu(t);a+=`${tr}${o}`,this.PI(a,o),this.E.cookielessTrackingEnabled?this.K.setItem(Ot,a):(this.N.set(Ot,a,e),(r=this.Oi)===null||r===void 0||r.call(this,Ot,a,e))}remove(){var t;this.E.cookielessTrackingEnabled?this.K.removeItem(Ot):(this.N.delete(Ot),(t=this.Ni)===null||t===void 0||t.call(this,Ot)),this.OI()}handleSubdomainChange(){if(this.E.cookielessTrackingEnabled)return;let t=this.get(!0);t&&(this.E.allowSubdomains?this.N.delete(Ot,gi.CURRENT_DOMAIN):this.N.delete(Ot,this.N.getRootDomain()),this.set(t))}isValid(t){return t!==null&&Wr(t)}PI(t,e){this.ie={sessionString:t,expires:e}}CI(){return this.ie?this.ie&&z.now()<=this.ie.expires?{sessionString:this.ie.sessionString,status:Js.FOUND}:{sessionString:this.ie.sessionString,status:Js.EXPIRED}:{sessionString:this.bd(),status:Js.NOT_FOUND}}OI(){this.ie=null}II(t){this.ie&&(this.ie.expires=t,this.Td=!0)}isCacheRefreshed(){return this.Td}resetCacheRefreshed(){this.Td=!1}bd(){if(this.E.cookielessTrackingEnabled){let e=this.K.getItem(Ot);return!e||this.nE(e)?null:e}let t=this.N.get(Ot);return!t||this.nE(t)?null:t}nE(t){let e=csString.prototype.split.call(t,tr);if(!s.rE(e))return!1;let r=parseInt(e[e.length-1],10);return!isNaN(r)&&z.now()>r}static rE(t){return t[t.length-1].length===cg}}return s})(),hg=(()=>{class s extends Oa{constructor(t,e,r){super(t),this.configuration=t,this.qo=e,this.w=r,this.NI=C.RECORDING_GLOBAL_SAMPLING}refreshQuota(t){this.oE=t,this.Wo=void 0,this.MI()}init(t){this.DI();let e=et.get(Ot);if(e!==null&&Wr(e)){let r=Du(e);t(this.canCollect(r),r==null?void 0:r.collectState)}else this.refreshQuota(r=>{t(r!==C.QUOTA_REACHED,r)})}sanitizeSessionCollectState(t){return t}canCollect(t){return t!==null&&t.collectState!==C.QUOTA_REACHED}computeInitialCollectState(t){return this.Wo?(this.w.emitCollectStateChange(this.Wo,this.configuration.malkaEtrEnabled?jt.ETR_ON:jt.ETR_OFF),this.Wo):(j.warn("Quota file error computeInitialCollectState() called before quota answered"),C.QUOTA_REACHED)}getEligibleCollectState(t){return t.collectState===C.QUOTA_REACHED?C.QUOTA_REACHED:!di.isRecordingSupported()&&this.isReplayRecorded(t)?C.ANALYTICS_ONLY:t.collectState===C.RECORDING_RULES_TARGETING?C.RECORDING_RULES_TARGETING:t.collectState===C.ANALYTICS_ONLY_RULES_TARGETING?C.ANALYTICS_ONLY_RULES_TARGETING:t.collectState===C.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING?C.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING:t.collectState===C.RECORDING_GLOBAL_SAMPLING?C.RECORDING_GLOBAL_SAMPLING:C.ANALYTICS_ONLY}isReplayRecorded(t){return t.collectState===C.RECORDING_GLOBAL_SAMPLING||t.collectState===C.RECORDING_RULES_TARGETING}getInitialCollectState(){return this.Wo||C.QUOTA_REACHED}computeInitialCollectStateFromRecordingConsentGranted(t){return C.ANALYTICS_ONLY}Yo(t){this.Wo=t,this.oE&&this.oE(t)}DI(){this.qo.onError(t=>this.quotaServiceErrorHandler(`HTTP:${t.status} - fetching quota file for pid: ${this.configuration.projectId}`)),this.qo.onTimeout(()=>this.quotaServiceErrorHandler("timeout")),this.qo.onLoad(t=>this.quotaFileHandler(t))}MI(){this.qo.isInProgress()||this.qo.send()}quotaFileHandler(t){var e;if(!(!((e=t==null?void 0:t.quotas)===null||e===void 0)&&e.length)){this.quotaServiceErrorHandler("Quota types missing from config file");return}this.kI(t)}quotaServiceErrorHandler(t){let e=`Quota error - ${t}`;j.warn(e),this.Yo(this.NI)}kI(t){let e=!1,r=!1;for(let o of t.quotas)o.quotaType==="ANALYTICS"&&o.value?e=!0:o.quotaType==="RECORDING"&&o.value&&ze.boolean(Math.round(o.value*100))&&(r=!0);!e&&r?this.quotaServiceErrorHandler(`Quota types impossible: replay without analytics - ${csJSON.stringify(t)}`):e&&r?di.isRecordingSupported()?this.Yo(C.RECORDING_GLOBAL_SAMPLING):this.Yo(C.ANALYTICS_ONLY):e&&!r?this.Yo(C.ANALYTICS_ONLY):this.Yo(C.QUOTA_REACHED)}getRecordingConsentWithdrawn(){return C.ANALYTICS_ONLY}}return X([W("Quota File: quotaFileHandler")],s.prototype,"quotaFileHandler",null),X([W("Quota File: onerror")],s.prototype,"quotaServiceErrorHandler",null),s})();var ug=(()=>{class s{constructor(t,e,r,o,a){this.O=t,this.R=e,this._s=r,this._t=o,this.E=a}get(){return{exclusion:this._s.getAppliedTrackingDraw(),visitor:this.O.getVisitor(),session:this.R.getSession(),cvars:this._t.getCustomVariablesSession()}}apply(t){t&&(t.exclusion?this.exclude():this.include(t))}exclude(){this._s.exclude(this.E),this.O.removeVisitor(),this.R.removeSession(),this._t.removeCustomVariablesSession()}include(t){this._s.removeExclusion(),this.O.setVisitor(t.visitor),t.session?this.R.setSession(t.session):this.R.removeSession(),t.cvars?this._t.setCustomVariableSession(t.cvars):this._t.removeCustomVariablesSession()}}return s})();var Zr=60*1e3,dg=60*Zr,fg=4*dg-Zr,es=(()=>{let s;return function(i){i[i.NO=0]="NO",i[i.WITHDRAWN=1]="WITHDRAWN",i[i.GRANTED=2]="GRANTED"}(s||(s={})),s})(),pg=(()=>{class s{constructor(t,e,r,o,a){this.Ae=t,this.Tt=e,this.w=r,this.HI=o,this.BI=a,this.Xo=null,this.Cd=0,this.Ko=es.NO}setDynamicVariablesService(t){this.FI=t}createOrUpdateSession(){this.Id(),this.zI=z.now(),this.Cd=0;let t=this.lE();t===null?(t=this.$I(),this.Lc(t),this.w.emitSessionCreated()):(t=this.Tt.sanitizeSessionCollectState(t),this.GI(t),t.collectState=this.Tt.getEligibleCollectState(t)),this.setSession(t)}grantReplayRecording(t){t.collectState=this.Tt.getInitialCollectState(),t.collectState=this.Tt.computeInitialCollectStateFromRecordingConsentGranted(t),this.setSession(t)}grantReplayRecordingBeforeSessionStart(){this.Ko=es.GRANTED}withdrawnReplayRecording(t){t.collectState=this.Tt.getRecordingConsentWithdrawn(),this.setSession(t)}withdrawnReplayRecordingBeforeSessionStart(){this.Ko=es.WITHDRAWN}Lc(t){this.Ko===es.WITHDRAWN?(t.collectState=this.Tt.getRecordingConsentWithdrawn(),this.setSession(t)):this.Ko===es.GRANTED?t.collectState=this.Tt.computeInitialCollectStateFromRecordingConsentGranted(t):t.collectState=this.Tt.computeInitialCollectState(t),this.Ko=es.NO}$I(){return{pageNumber:1,collectState:this.Tt.getInitialCollectState(),replayConsent:this.HI?mr.NOT_EXPRESSED:mr.UNNECESSARY,etrStatus:qr.ETR_NOT_SAVED_SESSION}}GI(t){t.pageNumber+=1}isReplayRecorded(){let t=this.getSession();return!!t&&this.Tt.isReplayRecorded(t)}isTemporarilyRecorded(){let t=this.getSession();return(t==null?void 0:t.collectState)===C.RECORDING_TEMPORARILY}getRequestParameters(){let t={},e=this.getSession();return e!==null&&(t.pn=`${e.pageNumber}`),t}getSession(){return this.Ae.get()}lE(){return this.Ae.get(!0)}doesSessionExist(){return this.Ae.get()!==null}setSession(t){this.Ae.set(t),this.w.emitSessionRefreshed()}refreshSession(){let t=this.lE();t&&this.setSession(t)}removeSession(){this.Ae.remove(),this.w.emitSessionRemoved()}getRecordingTypes(){let t=this.getSession(),e=this.qI(t);return this.WI(e)}WI(t){let e=[];return csArray.prototype.forEach.call(t,r=>{if(ta(r)){let o=Nu[r]||r;csArray.prototype.push.call(e,o)}}),e}qI(t){let e=[];return(t==null?void 0:t.collectState)!==void 0&&(csArray.prototype.push.call(e,t.collectState),this.BI&&csArray.prototype.push.call(e,C.RECORDING_ETR_SAMPLING)),e}updateCollectState(t){let e=this.getSession();e!==null&&(e.collectState=t,this.setSession(e))}hasValidSession(){let t=this.Ae.getRawSession();return this.Ae.isValid(t)}handleSubdomainChange(){this.Ae.handleSubdomainChange()}pollCacheRefreshEvent(t=!0){let e=this.Ae.isCacheRefreshed();return e&&t&&this.Ae.resetCacheRefreshed(),e}extendSessionPeriodically(){this.Xo||this.hE()}extendSession(){let t=this.getSession();return t===null?(j.warn("extendSession is trying to extend an expired session"),this.Id(),!1):(this.setSession(t),!0)}hE(){if(this.YI()){this.Id();return}this.extendSession()&&(this.XI(),this.KI())}KI(){this.Xo=window.csSetTimeout(()=>{this.hE()},Rr-Zr)}YI(){return fg-(z.now()+Rr-this.zI)<0}Id(){this.Xo&&(window.csClearTimeout(this.Xo),this.Xo=null)}XI(){this.Cd+=1,this.FI.trackDynamicVariable("session_expiry_update",this.Cd)}}return s})();var gg=(()=>{class s{constructor(t,e,r){this.O=t,this.R=e,this.eP=r}handle(){this.O.hasAllowSubdomainsChanged()&&(this.O.handleSubdomainChange(),this.R.handleSubdomainChange(),this.eP.handleSubdomainChange())}}return s})(),er="_cs_inc",mg=(()=>{class s{constructor(t,e){this.xt=t,this.N=e}isForceIncluded(){return this.sP()||this.iP()}isForceReplayRecorded(){return this.rP(C.RECORDING_GLOBAL_SAMPLING)}sP(){return this.N.get(er)!==null}rP(t){return this.N.get(er)===t}iP(){return csString.prototype.indexOf.call(this.xt.href,er)>0}}return s})(),yg=(()=>{class s{constructor(t,e,r){this.E=t,this.O=e,this._s=r}clear(){this.nP()&&(this.uE=this.O.getVisitor(),this.O.removeVisitor()),this.oP()&&this._s.removeExclusion()}nP(){return this.O.doesVisitorExist()&&this.O.getVisitor().appliedTrackingDraw!==this.E.lastTrackingDraw}oP(){return this._s.getAppliedTrackingDraw()!==this.E.lastTrackingDraw}restoreClearedVisitor(){this.uE&&this.O.setVisitor(this.uE)}}return s})(),Eg=(()=>{class s{constructor(t,e,r,o,a,c,h,p){this.E=t,this.O=e,this._s=r,this.dE=o,this.aP=a,this.cP=c,this.lP=h,this._d=p}compute(t){var e,r;this.E.crossDomainTracking&&!this.E.cookielessTrackingEnabled?this.E.crossDomainSingleIframeTracking?(e=this.lP)===null||e===void 0||e.start(()=>this.Nd(t)):(r=this.cP)===null||r===void 0||r.applyUpToDate(()=>this.Nd(t)):this.Nd(t)}Nd(t){this.aP.handle(),this.dE.clear(),this.hP()?(this.dE.restoreClearedVisitor(),t(!0)):(this._s.exclude(this.E),t(!1))}hP(){let t=ze.boolean(this.E.sampleRate);return this._d.isForceIncluded()||!this._s.isExcluded()&&this.O.doesVisitorExist()||!this._s.isExcluded()&&t}}return s})(),vg=(()=>{class s{constructor(t,e,r,o){this.E=t,this.ft=e,this.w=r,this.R=o,this.uP=10*1e3}createOrUpdateVisitor(){var t;let e=this.getVisitor();e===null&&(e=this.dP(),(t=this.R)===null||t===void 0||t.removeSession()),this.fP(e),this.setVisitor(e)}dP(){return{id:vp.generate(),visitsCount:0,appliedTrackingDraw:this.E.lastTrackingDraw,creationTimestamp:Sn(),lastVisitTimestamp:0,hitTimestamp:0,expires:z.now()+this.E.visitorCookieTimeout,allowSubdomains:this.E.allowSubdomains,identityPrint:null}}fP(t){let e=Sn();this.R&&!this.R.doesSessionExist()&&(t.visitsCount+=1,t.lastVisitTimestamp=e),t.hitTimestamp=e,t.appliedTrackingDraw=this.E.lastTrackingDraw,this.fE=t.visitsCount}getRequestParameters(){let t=this.getVisitor();return t?{uu:t.id,sn:`${t.visitsCount}`,hd:`${t.hitTimestamp}`}:{}}getVisitor(){return this.ft.get()}setVisitor(t){this.ft.set(t)}doesVisitorExist(){return this.ft.get()!==null}resetVisitor(){this.pE(),this.w.emitAfterVisitorCleared()}removeVisitor(){this.ft.remove()}hasAllowSubdomainsChanged(){let t=this.getVisitor();return t?t.allowSubdomains!==this.E.allowSubdomains:!1}handleSubdomainChange(){this.ft.handleSubdomainChange()}isSessionRenewed(){let t=this.getVisitor();return t===null||this.fE===void 0?!1:t.visitsCount!==this.fE}pP(){return!K(this.gE)||z.now()-this.gE>this.uP}renewVisitor(){this.pP()?(this.gE=z.now(),this.pE(),this.w.emitAfterVisitorRenewal()):j.warn("session:start:newVisitor is trying to renew visitor under time limit")}pE(){this.w.emitBeforeVisitorRenewal(),this.removeVisitor()}}return s})(),Vt="_cs_id",Sg=(()=>{class s{constructor(t,e,r){this.E=t,this.N=e,this.K=r}onCookieToSet(t){this.Oi=t}onCookieToRemove(t){this.Ni=t}get(){let t;return this.E.cookielessTrackingEnabled?t=this.K.getItem(Vt):t=this.N.get(Vt),t?(Ru(t)||j.warn(`Invalid visitor string: ${t}`),Tu(t)):null}set(t){var e;let r=bu(t);if(this.E.cookielessTrackingEnabled)this.K.setItem(Vt,r);else{let o=new csDate(t.expires);this.N.set(Vt,r,o),(e=this.Oi)===null||e===void 0||e.call(this,Vt,r,o)}}remove(){var t;this.E.cookielessTrackingEnabled?this.K.removeItem(Vt):(this.N.delete(Vt),(t=this.Ni)===null||t===void 0||t.call(this,Vt))}handleSubdomainChange(){if(this.E.cookielessTrackingEnabled)return;let t=this.get();t&&(t.allowSubdomains=this.E.allowSubdomains,this.E.allowSubdomains?this.N.delete(Vt,gi.CURRENT_DOMAIN):this.N.delete(Vt,this.N.getRootDomain()),this.set(t))}}return s})(),_g=(()=>{class s{constructor(t,e,r,o,a,c){this.E=t,this.Pi=e,this.lr=r,this.M=o,this.w=a,this.K=c}initWithQuota(){if(!this.E.collectionEnabled){this.mE();return}let t=new tp(this.E.getSettingsFileUri(),"",{type:"json",cacheMinutes:15});this.Tt=new hg(this.E,t,this.w),this.Tt.init((e,r)=>{e?this.init():this.mE(),wp(r)&&(_p.set(Qr.HJ_DUAL_COLLECT,!0),window.dispatchEvent(new CustomEvent(Sp)))})}gP(){this.M.schedule(()=>{var t;this.D=new Ts,this.et=new Kh(this.D),this.C=new Tp(window.location,this.et),this.N=new gi(this.E,this.C,this.Pi),this.N.init(),this.gt=new sp;let e;!((t=this.E.experimental)===null||t===void 0)&&t.checkPIIMigration&&(e=new du,this.w.addListener(e)),this.S=new gu([pu.UXA],e),this.Q=new mu,this.lt=new Ip(e),this.Rt=new fp(this.E,new dp(this.E,this.N,this.gt),this.w)})}mE(){}init(){ps.isSupported()&&ps.setDigestSalt(this.E.projectId.toString());let t,e,r,o,a,c,h,p,g,E,v,m,w,P,V,T,A,M,I,b,k,D,G,nt,yt,At,y,O,N;this.gP();let L=new zf;this.w.addListener(L),this.M.schedule(()=>{v=new mg(window.location,this.N),new np().init(),m=Ra.create(),E=new Ca(m),this.Tt===void 0&&(this.Tt=new ag(this.E,this.w,v,this.C,new Br),this.Tt.init())}),this.M.schedule(()=>{t=new lg(this.E,this.N,this.K),e=new pg(t,this.Tt,this.w,this.E.replayConsentRequiredForSession,this.E.malkaEtrEnabled),r=new Sg(this.E,this.N,this.K),o=new vg(this.E,r,this.w,e),this.lr.setContext(o,e)}),this.M.schedule(()=>{c=new gg(o,e,this.Rt),h=new xu(this.E,this.N,this.K),p=new ju(window.location,h),g=new Uu(p),V=new yg(this.E,o,p),yt=new wu(be,this.E);let Z;b=new au(yt,this.E.isChild,Z),k=new cu(yt),D=new lu(yt),G=new uu,nt=new ou(b,k,D,G),T=new fu(this.S,nt),A=new $u(this.C),M=new Bu(A,this.S);let ot=new Lu(this.E,this.N,this.K);At=new gp(this.D,ot),I=new sd(this.S,At);let $t=new ug(o,e,p,At,this.E)}),this.M.schedule(()=>{new Eg(this.E,o,p,V,c,w,a,v).compute(ot=>{this.M.schedule(()=>{var $t,Re,We,Ye;T.init();let ee=new up(this.E,this.S,this.Rt,e,this.w),se=new Hf(this.E,this.N,this.gt),It=new Bf(this.w,window.location,se),at=new jf(this.S,It),Tt=new bp(this.S,this.E),Is=new Ap(this.et,new Qp),vi=new Np(e,o),Si,Ps,_i,Os=new Eo(this.E,o,e,P),Ns=new Eo(this.E,o,e,P,Ps);ot?(this.w.emitInitTracking(),new og(Os,Ns,m,o,e,vi,Is,this.w,this.S,T,this.E,at,It,ee,this.Rt,this.D,yt,this.et,this.C,Tt,this.Q,nt,At,I,A,M,this.M,E,this.N,this.gt,this.K,this.Tt,this.lt,_i,Si,O,N).start()):new Vu(this.w,this.S,T,at,It,g,ee).start()})})})}}return s})(),Ue=(()=>{let s;return function(i){let t="{domain}/tag/tag.bundle.js?v={version}",e,r={loadBundle(A){let M=A.source,I=A.data;if(c(I)){let b=()=>{let k=o(t,I);v(k,()=>M.postMessage("csBundleLoaded",A.origin))};e=I.token,T(r.loadBundle),h(A.origin)&&b()}}};function o(A,M){return csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.replace.call(A,"{version}",M.version),"{token}",M.token),"{domain}",M.domain)}function a(){return e}i.getToken=a;function c(A){return A&&A.type==="csBundleInjection"&&h(A.domain)&&g(A.version)&&p(A.token)}i.isAuthorizedIncomingMessage=c,i.hjDomainRegex=/^https?:\/\/[a-zA-Z0-9\.\-]+\.hotjar\.com$/;function h(A){return/^https?:\/\/[a-zA-Z0-9\.\-]+\.(content-square\.fr|contentsquare\.com|csq\.io)$/.test(A)||i.hjDomainRegex.test(A)}i.isAuthorizedDomain=h;function p(A){return/^[a-zA-Z0-9]+$/.test(A)}i.isAuthorizedToken=p;function g(A){return/^[a-zA-Z0-9\.]+$/.test(A)}i.isAuthorizedTagVersion=g;function E(){let A=window.opener||window.parent;return window!==A&&window.addEventListener}i.isActivable=E;function v(A,M){let I=document.createElement("script");I.type="text/javascript",I.async=!0,I.src=A,I.onload=M,I.charset="utf-8",document.head.appendChild(I)}i.addScript=v;function m(A){let M=document.createElement("link");M.rel="stylesheet",M.href=A,document.head.appendChild(M)}i.addStyle=m;function w(A){return`${A}?cb=${new csDate().getTime()}`}i.addCacheBusting=w;function P(){V(r.loadBundle)}i.waitForBundleInjection=P;function V(A){window.addEventListener("message",A,!1)}i.listen=V;function T(A){window.removeEventListener("message",A,!1)}i.removeListener=T}(s||(s={})),s})(),vo="_hp_ved",wg=18e5,Ag="/js/ved.js",Tg="/css/ved.css",bg="/js/ved.css",Rg=(()=>{let s;return function(i){i.StatusUpdate="status"}(s||(s={})),s})(),Cg=(()=>{let s;return function(i){i.ReceivedInitMessage="received_init_message"}(s||(s={})),s})();var sr=(()=>{let s;return function(i){let t=!1,e;function r(v){return e+v}function o(){let v=[r(Tg),r(bg)];csArray.prototype.forEach.call(v,m=>{Ue.addStyle(m)})}function a(v){let m=new csRegExp("(^|;)[ ]*"+v+"=([^;]*)"),w=m.exec(document.cookie);return w?decodeURIComponent(w[2]):null}function c(v,m,w){let P=encodeURIComponent(v)+"="+encodeURIComponent(m),V=new csDate;V.setTime(V.getTime()+w);let T=P+"; expires="+V.toUTCString()+"; path=/";document.cookie=T}function h(){c(vo,"on",wg)}function p(){return a(vo)==="on"}i.isVLCookieEnabled=p;function g(v){window.heapV=Object.assign({},window.heap,{source:v==null?void 0:v.source,uri:e,loadArgs:v==null?void 0:v.data.args,identify:()=>{},track:()=>{}})}i.initializeHeapV=g;function E(v,m){var w;if(e=v,m){let P={type:Rg.StatusUpdate,value:Cg.ReceivedInitMessage},V={targetOrigin:m==null?void 0:m.origin};(w=m==null?void 0:m.source)===null||w===void 0||w.postMessage(P,V)}t||(t=!0,h(),g(m),window.heapV&&(Ue.addScript(r(Ag)),o()))}i.init=E}(s||(s={})),s})(),Ig=(()=>{let s;return function(i){let t=window.opener||window.parent,e="tag",r="https://app.contentsquare.com",o=[/^https:\/\/app\.contentsquare\.com$/,/^https:\/\/dev-app\.contentsquare\.com$/,/^https:\/\/staging-app\.contentsquare\.com$/,/^https:\/\/.*\.test\.contentsquare\.com$/,/^https:\/\/app\.[a-z0-9-]+\.csiab\.[a-z0-9-]+\.csq\.io$/,Ue.hjDomainRegex],a,c,h,p={initHeapVisualLabeler(b){var k;b.origin===h&&((k=b.data)===null||k===void 0?void 0:k.message)==="init"&&b.source&&(sr.init(h,b),A(p.initHeapVisualLabeler))},ping(b){typeof b.data=="string"&&b.data==="ping"&&v(b.origin)&&(c=b.origin,a=Ue.hjDomainRegex.test(b.origin)?r:b.origin,A(p.ping),T(p.insertMessageScript),m(Ue.addCacheBusting("utils.js")))},insertMessageScript:M(b=>{typeof b.data=="string"&&b.data!=="ping"&&(A(p.insertMessageScript),m(b.data))})};function g(){return Ue.getToken()}i.getToken=g;function E(){return window!==t&&window.addEventListener}i.isActivable=E;function v(b){return csArray.prototype.some.call(o,k=>k.test(b))}i.isAuthorizedDomain=v;function m(b,k){let D=document.createElement("script");D.type="text/javascript",D.async=!0;let G=a==null?void 0:csString.prototype.replace.call(a,/^https?:/,"");D.src=`${G}/${e}/${b}`,D.onload=k,D.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(D),w(b)}function w(b){csString.prototype.includes.call(b,"&mode=")&&sessionStorage.setItem("_hjRetakerMode",csString.prototype.split.call(b,"&mode=")[1])}function P(){T(p.ping),Ue.waitForBundleInjection()}i.waitForConnection=P;function V(b){h=b,T(p.initHeapVisualLabeler),sr.isVLCookieEnabled()&&sr.init(h)}i.waitForHeapVisualLabeler=V;function T(b){window.addEventListener("message",b,!1)}i.listen=T;function A(b){window.removeEventListener("message",b,!1)}i.removeListener=A;function M(b){return function(k){k.origin===c&&b(k)}}i.secureListener=M;function I(b){c&&t.postMessage(b,c)}i.post=I}(s||(s={})),s})();var Qs=window.CSFrameCommunication||Ig,Pg=(()=>{class s extends Fr{constructor(t){super(),this.M=t;{let e=(r,o)=>{if(typeof o!="string"||!csString.prototype.startsWith.call(o,"on"))return;let a=csString.prototype.substring.call(o,2);return(...c)=>{o==="onInitialDomDone"&&(c=[]),document.dispatchEvent(new CustomEvent("cs-e2e-event",{detail:{type:"lifecycle",name:a,data:c}}))}};this.addListener(new Proxy({},{get:e}))}}emitBeforeNaturalPageView(t){for(let e of this.listeners)e.onBeforeNaturalPageView&&e.onBeforeNaturalPageView(t)}emitAfterNaturalPageView(t){for(let e of this.listeners)e.onAfterNaturalPageView&&e.onAfterNaturalPageView(t)}emitInitTracking(){for(let t of this.listeners)t.onInitTracking&&t.onInitTracking()}emitStartTracking(t){for(let e of this.listeners)e.onStartTracking&&this.M.schedule(()=>e.onStartTracking(t))}emitStartNoTrackingMode(){for(let t of this.listeners)t.onStartNoTrackingMode&&this.M.schedule(()=>t.onStartNoTrackingMode())}emitArtificialPageViewEnd(t=!1){for(let e of this.listeners)if(e.onArtificialPageViewEnd)try{e.onArtificialPageViewEnd(t)}catch(r){j.error(r)}}emitBeforeArtificialPageView(t,e){for(let r of this.listeners)r.onBeforeArtificialPageView&&r.onBeforeArtificialPageView(t,e)}emitAfterArtificialPageView(t=!1){for(let e of this.listeners)e.onAfterArtificialPageView&&e.onAfterArtificialPageView(t)}emitBeforeSessionRenewal(){for(let t of this.listeners)t.onBeforeSessionRenewal&&t.onBeforeSessionRenewal()}emitAfterSessionRenewal(){for(let t of this.listeners)t.onAfterSessionRenewal&&t.onAfterSessionRenewal()}emitOptout(){for(let t of this.listeners)t.onOptout&&t.onOptout()}emitReplayUnanonymizationConsentGranted(){for(let t of this.listeners)t.onReplayUnanonymizationConsentGranted&&t.onReplayUnanonymizationConsentGranted()}emitReplayUnanonymizationConsentWithdrawn(){for(let t of this.listeners)t.onReplayUnanonymizationConsentWithdrawn&&t.onReplayUnanonymizationConsentWithdrawn()}emitAfterReplayRecordingConsentGranted(){for(let t of this.listeners)t.onAfterReplayRecordingConsentGranted&&t.onAfterReplayRecordingConsentGranted()}emitAfterReplayRecordingConsentWithdrawn(){for(let t of this.listeners)t.onAfterReplayRecordingConsentWithdrawn&&t.onAfterReplayRecordingConsentWithdrawn()}emitCollectStateChange(t,e){for(let r of this.listeners)r.onCollectStateChange&&r.onCollectStateChange(t,e)}emitInitialDomStart(){for(let t of this.listeners)t.onInitialDomStart&&t.onInitialDomStart()}emitInitialDomDone(t){for(let e of this.listeners)e.onInitialDomDone&&e.onInitialDomDone(t)}emitRecordingContextChange(){for(let t of this.listeners)t.onRecordingContextChange&&t.onRecordingContextChange()}emitSensitiveStatusChange(){var t;for(let e of this.listeners)(t=e.onSensitiveStatusChange)===null||t===void 0||t.call(e)}emitBeforeVisitorRenewal(){for(let t of this.listeners)t.onBeforeVisitorRenewal&&t.onBeforeVisitorRenewal()}emitAfterVisitorCleared(){for(let t of this.listeners)t.onAfterVisitorCleared&&t.onAfterVisitorCleared()}emitAfterVisitorRenewal(){for(let t of this.listeners)t.onAfterVisitorRenewal&&t.onAfterVisitorRenewal()}emitSessionCreated(){for(let t of this.listeners)t.onSessionCreated&&t.onSessionCreated()}emitSessionRemoved(){for(let t of this.listeners)t.onSessionRemoved&&t.onSessionRemoved()}emitSessionRefreshed(){for(let t of this.listeners)t.onSessionRefreshed&&t.onSessionRefreshed()}emitTargetingRulesMatched(){for(let t of this.listeners)t.onTargetingRulesMatched&&t.onTargetingRulesMatched()}}return X([vs("emitStartTracking")],s.prototype,"emitStartTracking",null),s})();var Og=(()=>{class s{constructor(t,e,r){this.E=t,this.Pt=e,this.lr=r}start(){var t,e,r,o,a;if(window.CSQ_TAGS=csArray.prototype.concat.call(window.CSQ_TAGS||[],this.E.projectId),window.UXAnalytics)return;window.UXAnalytics={};let c=new pp,h=new Kd(!!(!((t=this.E.taskSchedulerOptions)===null||t===void 0)&&t.enabled),(e=this.E.taskSchedulerOptions)===null||e===void 0?void 0:e.maxProcessingTime,(r=this.E.taskSchedulerOptions)===null||r===void 0?void 0:r.waitDuration),p=new $h(this.Pt,this.E);p.init();let g=new qh(this.E,p);if(this.Pt.isTopWindowTracker()&&g.canTrack()){if(!((o=window.CSProtectnativeFunctionsLogs)===null||o===void 0)&&o.Warning&&j.warn(`protectNativeFunctions failed: ${window.CSProtectnativeFunctionsLogs.Warning}`),!((a=window.CSProtectnativeFunctionsLogs)===null||a===void 0)&&a.Critical){j.error(`protectNativeFunctions failed: ${window.CSProtectnativeFunctionsLogs.Critical}`);return}Fh();let v=new Pg(h),m=new _g(this.E,p,this.lr,h,v,c);this.E.isQuotaEnabled()?m.initWithQuota():m.init()}let E=csString.prototype.indexOf.call(window.location.href,"csDebug=1")>-1;window.UXAnalytics={Sensitive:{isNodeSensitive(v){return B.isMaskedElement(v)||B.isMaskedElementChild(v)},isAttributeSensitive(v,m){return B.isMaskedAttribute(v,m)},getSensitiveAttributes(v){return pl(v.attributes,m=>B.isMaskedAttribute(v,m.name))}},Console:{warn(v){E&&console.warn("cs.tracking.warning",v)},error(v){E&&console.error("cs.tracking.error",v)}},Version:$o},window.CSFrameCommunication||(window.CSFrameCommunication=Qs,Qs.isActivable()&&Qs.waitForConnection(),this.E.isCsCrosswritingHeap()&&Qs.waitForHeapVisualLabeler(this.E.getHeapWebAppUri()))}}return X([vs("main.start"),W("main.start")],s.prototype,"start",null),s})();function Ng(){csSetTimeout(()=>{let s=0;typeof CompressionStream!="undefined"&&(s|=1),typeof TransformStream!="undefined"&&(s|=2),typeof performance!="undefined"&&typeof performance.now=="function"&&(s|=4),typeof Worker!="undefined"&&(s|=8),typeof scheduler!="undefined"&&(typeof scheduler.yield=="function"&&(s|=16),typeof scheduler.postTask=="function"&&(s|=32)),U.counters.availableFeatures.set(s)})}var Mg=(()=>{class s{constructor(t,e,r){this.X=t,this.D=e,this.EO=r,this.mt=[],this.vO=Hr().v,Ng()}flush(){this.mt.length!==0&&(this.X.send({m:csArray.prototype.map.call(this.mt,t=>({n:t.name,p:t.parameter,v:t.value})),p:this.D.anonymizePII(window.location.pathname),pid:this.EO,v:this.vO}),this.mt=[])}push(t){csArray.prototype.push.call(this.mt,...t),this.flush()}}return s.THROTTLE_INTERVAL=5e3,X([$r({wait:s.THROTTLE_INTERVAL,mode:"trailing"})],s.prototype,"flush",null),s})();function Dg(s,i){let t=s.validationRate/10,e=ze.boolean(t);if((s.environment==="staging"||!1||e)&&!i.isInWebViewContext())try{let a=Ra.create(i.isTopWindowTracker()),h=new Ca(a).create(s.getMetricsUri()),p=new Ts,g=new Mg(h,p,s.projectId);U.setService(g)}catch(a){j.warn(`Error initializing metrics: ${a.message}`)}}function kg(){var s;El();let i=new jh(window.CS_CONF);window._uxa=window._uxa||[],i.processOptionOverrides(window._uxa);let t=new oh(window,i);t.init();let e=new hh;if(el(j),rh(),j.computeIsActive(i.validationRate),t.isTopWindowTracker()){let o=new Ph(i,e);j.setStrategy(o)}else if(t.isInWebViewContext()){let o=new Nh;j.setStrategy(o)}!((s=i==null?void 0:i.experimental)===null||s===void 0)&&s.disableMutationObserverProtection&&window.csMutationObserver&&(window.csMutationObserver=qe(window,"MutationObserver")),th(),Dg(i,t),new Og(i,t,e).start()}window.CSCurrentScript=document.currentScript;csSetTimeout(()=>{try{nh(kg)}catch{}});})();

// signature-603e84a55c113fcda269da406e49724f29a3c10a3a54f32dd45c65c317e5d458