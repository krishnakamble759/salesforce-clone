var bo=Object.create;var Ce=Object.defineProperty;var So=Object.getOwnPropertyDescriptor;var Io=Object.getOwnPropertyNames;var Eo=Object.getPrototypeOf,vo=Object.prototype.hasOwnProperty;var Oo=(e,t,o)=>t in e?Ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var xo=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Co=(e,t,o,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Io(t))!vo.call(e,n)&&n!==o&&Ce(e,n,{get:()=>t[n],enumerable:!(r=So(t,n))||r.enumerable});return e};var To=(e,t,o)=>(o=e!=null?bo(Eo(e)):{},Co(t||!e||!e.__esModule?Ce(o,"default",{value:e,enumerable:!0}):o,e));var M=(e,t,o)=>Oo(e,typeof t!="symbol"?t+"":t,o);var xt=xo((De,Ae)=>{"use strict";(function(e,t){typeof De=="object"&&typeof Ae<"u"?Ae.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.fetchRetry=t())})(De,(function(){"use strict";var e=function(r,n){if(n=n||{},typeof r!="function")throw new o("fetch must be a function");if(typeof n!="object")throw new o("defaults must be an object");if(n.retries!==void 0&&!t(n.retries))throw new o("retries must be a positive integer");if(n.retryDelay!==void 0&&!t(n.retryDelay)&&typeof n.retryDelay!="function")throw new o("retryDelay must be a positive integer or a function returning a positive integer");if(n.retryOn!==void 0&&!Array.isArray(n.retryOn)&&typeof n.retryOn!="function")throw new o("retryOn property expects an array or function");var s={retries:3,retryDelay:1e3,retryOn:[]};return n=Object.assign(s,n),function(c,p){var g=n.retries,C=n.retryDelay,I=n.retryOn;if(p&&p.retries!==void 0)if(t(p.retries))g=p.retries;else throw new o("retries must be a positive integer");if(p&&p.retryDelay!==void 0)if(t(p.retryDelay)||typeof p.retryDelay=="function")C=p.retryDelay;else throw new o("retryDelay must be a positive integer or a function returning a positive integer");if(p&&p.retryOn)if(Array.isArray(p.retryOn)||typeof p.retryOn=="function")I=p.retryOn;else throw new o("retryOn property expects an array or function");return new Promise(function(w,D){var pt=function(v){var xe=typeof Request<"u"&&c instanceof Request?c.clone():c;r(xe,p).then(function(h){if(Array.isArray(I)&&I.indexOf(h.status)===-1)w(h);else if(typeof I=="function")try{return Promise.resolve(I(v,null,h)).then(function(O){O?ne(v,null,h):w(h)}).catch(D)}catch(O){D(O)}else v<g?ne(v,null,h):w(h)}).catch(function(h){if(typeof I=="function")try{Promise.resolve(I(v,h,null)).then(function(O){O?ne(v,h,null):D(h)}).catch(function(O){D(O)})}catch(O){D(O)}else v<g?ne(v,h,null):D(h)})};function ne(v,xe,h){var O=typeof C=="function"?C(v,xe,h):C;setTimeout(function(){pt(++v)},O)}pt(0)})}};function t(r){return Number.isInteger(r)&&r>=0}function o(r){this.name="ArgumentError",this.message=r}return e}))});globalThis.digitalData=globalThis.digitalData||{};globalThis.digitalData.timestamp=globalThis.digitalData.timestamp||new Date().getTime();var m=globalThis.digitalData;var ko={LOCAL:"http://localhost:4000",DEV:"https://ogs-dev.digital.salesforce.com",QA:"https://ogs-qa.digital.salesforce.com",UAT:"https://ogs-stage.digital.salesforce.com",PROD:"https://ogs.digital.salesforce.com",PERF:"https://ogs-perf.digital.salesforce.com",HOTFIX:"https://ogs-hotfix.digital.salesforce.com"},Do=()=>{let e=globalThis.ogsConfig,t=ko[e.env?.toUpperCase()];if(t)return t;console.warn(`[OGS] Invalid or missing environment in config: ${e.env}`,e)},L=Do(),Te=e=>L&&e?`${L}${e}`:void 0,b=globalThis.ogsConfig;var Ao=e=>Object.entries(e).map(([t,o])=>o().then(r=>[t,r||""])),q=async e=>{let t=Object.keys(e).reduce((o,r)=>(o[r]="",o),{});return Promise.allSettled(Ao(e)).then(o=>o.reduce((r,n)=>{if("value"in n){let[s,a]=n.value;a instanceof Object&&!Array.isArray(a)?(r={...r,...a},delete r[s]):r[s]=a}return r},t))};var lt=globalThis.cliLibsConfig||{},V={sfdcBase:globalThis.sfdcBase||{},clientLibs:lt,cdnOrigin:lt.cdnScriptsOrigin||""};var _o="</|[<>()]",se=(e,t)=>e?e.trim().replace(new RegExp(_o+t,"gi"),""):"",T={param:e=>se(e,"|(%3(c|e))"),path:e=>se(decodeURIComponent(e),`|'|"|;|=`),value:e=>se(e,"|[:;#$%]"),default:se};var l=e=>!e||e instanceof Object&&!Object.keys(e).length,dt=e=>{let t={};if(typeof e!="string")return t;try{let o=JSON.parse(e);return o||t}catch{return t}},ft=e=>Object.fromEntries(Object.entries(e).map(([t,o])=>[o,t])),ut=!!(b.env&&b.env.toLowerCase()==="prod"),ae=e=>{if(!e||e.length!==15||e.indexOf("70")!==0)return e||"";let o="";for(let r=0;r<3;r++){let n=0;for(let s=0;s<5;s++){let a=e.charAt(r*5+s);a>="A"&&a<="Z"&&(n+=1<<s)}n<=25?o+="ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(n):o+="012345".charAt(n-26)}return e+o},ce=(e,t=250)=>new Promise(o=>{e()&&o(!0);let r=0,n=setInterval(()=>{r++,r>=t&&(clearInterval(n),o(!1)),e()&&(clearInterval(n),o(!0))},1)});var gt=e=>{let t=(e||location.hostname).split(".");return t.slice(t.length-2).join(".")};var u=(e,t=location.search)=>{let o=t.indexOf("?");if(!e||o<0)return"";let r=t.match(new RegExp(`${e}=`,"i"));e=r?r.toString().replace("=",""):e;let n=new URLSearchParams(t.substring(o,t.length)),s=n.get(e)||"";return T.param(s)},j=(e=location.search)=>e.replace("?","").split("&").reduce((t,o)=>{let r=o.split("=").filter(n=>!!n);return t[r[0]]=T.param(r[1]??""),t},{});var R="salesforce.com",ie=T.default(b.clientId||"unknown");var Ro="ogs",me=e=>[Ro,e].join("_"),$=async(e,t)=>{if(!e||!t||l(t))return;let o=t instanceof Object?T.default(JSON.stringify(t)):T.value(t);localStorage.setItem(e,o)},B=e=>{let t;if(e){t=localStorage.getItem(e);try{t=JSON.parse(t)}catch{}}return t??""};var S=(e="",t)=>{let o=document.cookie,r=`${e}=`;if(o.indexOf(r)<0)return"";let s=o.split("; ").find(c=>c.includes(r))||"";if(s=s.substring(r.length,s.length),!s||s===r)return"";typeof t=="function"&&(s=t(s)),s=decodeURIComponent(s);let a=dt(s);return Object.keys(a).length?a:s},Uo="Thu, 01 Jan 1970 00:00:00 GMT",H=async(e,t)=>{let o=`${e}= ; expires=${Uo}`;document.cookie=o,document.cookie=`${o}; domain=${t||location.hostname}`},ht=()=>Object.fromEntries(document.cookie.split("; ").map(e=>e.split("=")));var Po="/idx/clerr",No={DEV:"www-dev",QA:"www-qa1",UAT:"www-uat1",PROD:"www",PERF:"www-perf",HOTFIX:"www-hfx"},yt=()=>{let e=globalThis.ogsConfig,t=No[e.env?.toUpperCase()];if(t)return`https://${t}.${R}${Po}`};var wt="ogsLogForwarding",Mo={intervalMilli:3e4,batchSize:10,enableVisibilityChange:!0},bt=e=>{if(Lo())return;let t=e||Mo,o={config:{destinationUrl:yt(),intervalMilli:t.intervalMilli,batchSize:t.batchSize,enableVisibilityChange:t.enableVisibilityChange},pool:{messages:[],lastSent:void 0},global:{}};zo(o);let r=Fo(o.config);Go(o.config),o.intervalTimer=r},St=e=>{let t=F();t&&(t.pool.messages.push(e),jo(t))},Lo=()=>!!F(),jo=e=>{let o=e.config.batchSize;o<=0||e.pool.messages.length<o||Et(e)},Fo=e=>{let t=e.intervalMilli;if(t>0)return setInterval(It,t)},Go=e=>{e.enableVisibilityChange&&window.addEventListener("visibilitychange",It)},It=()=>{let e=F();e&&Et(e)},Et=e=>{let o=e.pool.messages,r=e.config.destinationUrl;if(r&&o.length>0){let n=JSON.stringify(o);navigator.sendBeacon(r,n),e.pool.lastSent=new Date}e.pool.messages=[]},F=()=>globalThis[wt];var zo=e=>{globalThis[wt]=e};var qo="ogs-debug-enabled",Vo="ogs-sdk",$o=(e,t)=>{let o=K("info",e,t);W(console.info,!0,o,t)},Bo=(e,t,o)=>{o={...o||{},error:t};let r=K("error",e,o);W(console.error,!0,r,o)},Ho=(e,t)=>{let o=K("warn",e,t);W(console.warn,!0,o,t)},Ko=(e,t)=>{let o=K("debug",e,t);W(console.debug,!1,o,t)},Wo=(e,t)=>{let o=K("trace",e,t);W(console.trace,!1,o,t)},K=(e,t,o)=>({msg:`[OGS] ${t}`,logLevel:e,time:Date.now(),data:Yo(o)}),Jo=e=>["message","stack"].reduce((t,o)=>(e[o]&&(t[o]=e[o]),t),{}),Yo=e=>{let t=e||{},o={...t,env:b.env,location:window.location.href,ua:navigator.userAgent,appName:Vo,clientId:ie,...F().global};return t.error&&(o.error=Jo(t.error)),o},W=(e,t,o,r)=>{let{logToConsole:n=!0}=r||{};n&&Xo(o.logLevel)&&e(o.msg,r),t&&St(o)},Xo=e=>e==="error"||e==="warn"?!0:Zo(),Zo=()=>sessionStorage.getItem(qo)==="true",i={info:$o,error:Bo,warn:Ho,trace:Wo,debug:Ko};bt();var vt=".js",Ot=e=>t=>{try{let o;"reason"in t&&(o=t,o.reason.stack.includes(e)&&i.warn("Error Caught",{error:o.reason,file:e}))}catch{}},ke=async e=>{e&&(e.endsWith(vt)||(e+=vt),i.debug("Collecting Errors",{file:e}),window.addEventListener("unhandledrejection",Ot(e)),window.addEventListener("error",Ot(e),!0))};var kt=To(xt(),1);var Qo="ogs",er=(...e)=>[Qo,...e].join(":"),Ct=(e,t,o)=>{let r=performance[e](er(e,t),o),{detail:n}=r;return Object.entries(r.toJSON()).reduce((s,[a,c])=>(s[a]=c,s),{detail:n})},x=(e,t)=>Ct("mark",e,{detail:t}),pe=(e,t={})=>(t={start:t.start||t.startTime,detail:t.detail||{}},Ct("measure",e,t)),_e=e=>{let t=performance.getEntriesByType("resource").find(o=>o.name.includes(e));if(t)return t.toJSON()},Tt=async(e,t)=>{let o=_e(t)||{};if(l(o)){i.debug(`Could not set ${e} metrics`);return}i.info(`${e} Metrics`,{...o}),pe(e,{start:o?.startTime}),x(`${e}:loaded`,{url:t})};var Re="HTTP",Dt="Http call failed",tr=async e=>{if(!e.ok){let t=await e.text();throw new Error(`HTTP error ${e.status}: ${t}`)}return e.json()},or=()=>{typeof AbortSignal.timeout!="function"&&(AbortSignal.timeout=function(t){let o=new AbortController;return setTimeout(()=>o.abort(),t),o.signal})},rr=async(e,t)=>{let{timeout:o}=t;return or(),fetch(e,{...t,signal:AbortSignal.timeout(o),keepalive:!0})},nr=(e,t)=>(o,r,n)=>{let{maxAttempts:s,metrics:a,method:c,correlationId:p}=t,g=o<s&&(r!==null||n.status>=500);if(g){a.detail.attempts=o+1;let C={url:e,method:c},I=x(`${Re}:${c}:retry`,{...a.detail||C,timestamp:new Date().toISOString()}),w=n?.status;r&&r.name==="AbortError"?w=408:w||(w=500),i.warn(`${Dt}. Attempting again`,{...C,correlationId:p,status:w,metrics:I,error:r,response:n?.json()??{}})}return g},At=e=>{let t=Math.pow(2,e)*100;return t+Math.floor(t*.2*Math.random())},sr={method:"GET",timeout:3e4,maxAttempts:3,retryDelay:At,correlationId:"",keepalive:!0},ar=(e,t={})=>{let o={...sr,...t},r={url:e,method:o.method,attempts:1,timestamp:new Date().toISOString()};return o.metrics||(o.metrics=x(`${Re}:${o.method}`,r)),{retryOn:nr(e,o),responseParser:tr,retryDelay:At,...o}},le=async(e,t)=>{let o=ar(e,t),{retryDelay:r,retryOn:n,method:s,correlationId:a,metrics:c,responseParser:p}=o,g=(0,kt.default)(rr,{retryDelay:r,retryOn:n}),C=`${Re}:${s}`,I={url:e,method:s,correlationId:a};return i.debug("Initiating Http call.",{url:e,method:s,correlationId:a,metrics:c}),g(e,o).then(w=>{let D=p(w);return i.info("Http call is successful",{...I,status:w.status,metrics:pe(`${C}:success`,c)}),D}).catch(w=>(i.warn(Dt,{...I,metrics:pe(`${C}:failed`,c),error:w}),Promise.reject(w)))};var cr=V.cdnOrigin||"https://c.salesforce.com";var ir="/digital/@sfdc-ogs",mr="v1",pr="gdpr.js",lr="v1",dr="/digital/one-trust/ext",fr="/digital/@sfdc-www/clientlibs-web-components",ur="/digital/iis",_t="Could not resolve resource",Rt={LOCAL:"latest",DEV:"latest",QA:"latest",UAT:"stage",PROD:"stable",PERF:"stage",HOTFIX:"stable"},gr=()=>{let e=(b.env||"").toUpperCase();return e&&Rt[e]?Rt[e]:"stable"},hr={version:mr,baseDir:ir,envTag:gr()},Ue=(e,t)=>{if(e)try{t={...hr,...t};let o=t.verDir||`${t.version}-${t.envTag}`,r=t.cdnHost||cr,n=new URL(t.baseDir,r),s=[o];return t.assetDir&&s.push(t.assetDir),n.pathname=[n.pathname,...s,e].filter(a=>!!a).join("/"),n}catch{}},Pe=(e,t)=>{let o=Ue(e,t);return o?o.pathname:""},de=async(e,t)=>{let o=Ue(e,t);if(!o)return Promise.reject(`${_t} ${e}`);let r=o.toString();return r.endsWith(".js")||(r+=".js"),import(r).catch(n=>{i.warn(_t,{url:r,error:n,metrics:_e(r)})})};var U=e=>de(e,{baseDir:fr}),f=de(pr,{version:lr,baseDir:dr}),Ne=async()=>de("iis.min.js",{baseDir:ur,version:"v1"}).then(e=>e&&"default"in e?e.default:e||{});var Me=()=>{if(!L)return;let e=document.createElement("link");e.rel="preconnect",e.href=L,document.head.appendChild(e)};var Le="interactions",je=Pe(`${Le}.js`,{assetDir:"sdk"});globalThis.dataLayer=globalThis.dataLayer||[];var J=globalThis.dataLayer;var Fe="ogsEvents";globalThis[Fe]={dataPool:[],threshold:1e3,...globalThis[Fe]};var d=globalThis[Fe];var A="functional";var Ut="1",yr=async()=>{let e=await f;return e?(await e.onConsentReady,globalThis.OnetrustActiveGroups||S(e.SFDC_CONSENT_COOKIE)||Ut):Ut},fe=async e=>{let t=await f;return t?(await t.onGdprReady,t.isActiveGroup(e)):e==="required"},ue=async e=>{let t=await f;if(!t)return e==="required";let o=await yr(),r=t.isActiveGroup;return r(e,o)};var Pt=me("uact"),Nt=async e=>fe(A).then(t=>{t&&$(Pt,e)}),Mt=async e=>{let t=Ge();return t={...t,...e},Nt(t),t},Ge=()=>{let e=B(Pt);return l(e)&&(e={userId:crypto.randomUUID()},Nt(e)),e};m.lead=m.lead||{};var y=m.lead;var Y="_ga",ge=".",ze=3e3,wr=()=>!l(globalThis.google_tag_manager),qe=ce(wr,ze),br=()=>typeof globalThis.ga<"u"&&"getAll"in globalThis.ga,Sr=ce(br,ze),_s=new Promise(e=>Sr.then(()=>e(globalThis.ga)));var Lt=e=>document.cookie.includes(e),Ve=async(e,t,o=ze)=>{Lt(e)||await qe.then(()=>ce(()=>Lt(e),o));let r=Object.entries(ht()).filter(([n])=>n.startsWith(e));return t(r)},jt=async()=>Ve(`${Y}_`,e=>{let t=e.find(([o,r])=>!!o&&r.startsWith("GS"));return t?t[1]?.split(ge)[2]:""}),Ft=async()=>Ve(Y,e=>{let t=Object.fromEntries(e);return t[Y]?t[Y].split(ge).splice(2).join(ge):""}),Gt=async()=>Ve(`${Y}c_`,e=>{if(!e||!e[0])return"";let t=e[0][1],o=t.split(ge);return o[o.length-1]},0);var he=async e=>U("page-utils.js").then(t=>t?t.getPageName(e||location.pathname):"");var zt="referrer",Ir="r",Er=[`.${R}`,"opinionlab.com","sfdc.net","a.sfdcstatic.com",".sfdcdigital.com"],vr=e=>["un","pw","vysfid","vyemail"].some(t=>u(t,e));var Or=async()=>{let e="";try{let t=S(zt);t&&t!=="null"?(await H(zt),e=t):document.referrer&&(e=vr(document.referrer)?document.referrer.split("?")[0]:document.referrer)}catch(t){i.warn("Failed to get referrer cookie",t)}return e},k=async()=>{if(!y.referrer){let e="",t=u(Ir);try{let o=decodeURIComponent(t);if(!t)throw Error;new URL(o,location.origin),e=o}catch{e=await Or()}y.referrer=Promise.resolve(e.trim())}return y.referrer},ye=async()=>{let e=await k();if(e){if(Er.find(t=>new URL(e,window.location.origin).hostname.indexOf(t)>-1))return!0}else return!1;return!!(u("internal")==="true"||await P&&!(u("r")||e))},$e=async()=>{let e=await P();if(e)return e;let t=new URL(await k(),location.origin);return t.hostname.endsWith(R)?he(t.pathname):""};var xr=[{se:"All The Web",ms:"alltheweb.com",kw:"q,query",dc:"US"},{se:"AllSearchEngines",ms:"allsearchengines.co.uk",kw:"query",dc:"United Kingdom"},{se:"AOL",ms:".aol.",kw:"q,query",dc:"US",cl:[{cn:"Canada",post:"ca"},{cn:"France",post:"fr"},{cn:"Germany",post:"de"},{cn:"United Kingdom",post:"co.uk"}]},{se:"Ask",ms:"ask.com",kw:"q",dc:"US",cl:[{cn:"Japan",pre:"jp"},{cn:"United Kingdom",pre:"uk"}]},{se:"Baidu",ms:"baidu.com",kw:"wd,s",dc:"China"},{se:"Biglobe",ms:"biglobe.ne.jp",kw:"q",dc:"Japan"},{se:"Microsoft Bing",ms:"bing.com",kw:"q",dc:"US"},{se:"Blue Window",ms:"search.bluewin.ch",kw:"q,qry",dc:"Switzerland"},{se:"Business.com",ms:"business.com",kw:"query",dc:"US"},{se:"BuyersIndex",ms:"buyersindex.com",kw:"query",dc:"US"},{se:"Chubba",ms:"whatuseek.com",kw:"arg",dc:"US"},{se:"CNET",ms:"cnet.com",kw:"query,q",dc:"US"},{se:"Debriefing.com",ms:"debriefing.com",kw:"tsearch",dc:"US"},{se:"Dmoz",ms:"dmoz.org",kw:"search",dc:"US"},{se:"Excite",ms:"excite.com",kw:"q,search",dc:"US",cl:[{cn:"Netherlands",post:".nl"},{cn:"France",post:".fr"},{cn:"Germany",post:".de"},{cn:"Japan",post:".co.jp"},{cn:"Switzerland",post:".ch"}]},{se:"Fireball",ms:"fireball.de",kw:"q,query",dc:"Germany"},{se:"FreshEye",ms:"fresheye.com",kw:"kw,ord",dc:"Japan"},{se:"Godado",ms:"godado.it",kw:"key",dc:"Italy"},{se:"Goo (Jp.)",ms:"goo.ne.jp",kw:"MT",dc:"Japan"},{se:"Google",ms:".google.,googlesyndication.com",kw:"q",types:["Images","Video"],dc:"US",cl:[{cn:"Afghanistan",post:"com.af"},{cn:"American Samoa",post:"as"},{cn:"Anguilla",post:"com.ai"},{cn:"Antigua and Barbuda",post:"com.ag"},{cn:"Argentina",post:"com.ar"},{cn:"Armenia",post:"am"},{cn:"Australia",post:"com.au"},{cn:"Austria",post:"at"},{cn:"Azerbaijan",post:"az"},{cn:"Bahrain",post:"com.bh"},{cn:"Bangladesh",post:"com.bd"},{cn:"Belarus",post:"com.by"},{cn:"Belgium",post:"be"},{cn:"Belize",post:"com.bz"},{cn:"Bolivia",post:"com.bo"},{cn:"Bosnia-Hercegovina",post:"ba"},{cn:"Botswana",post:"co.bw"},{cn:"Brasil",post:"com.br"},{cn:"British Virgin Islands",post:"vg"},{cn:"Brunei",post:"com.bn"},{cn:"Bulgaria",post:"bg"},{cn:"Burundi",post:"bi"},{cn:"Cambodia",post:"com.kh"},{cn:"Canada",post:"ca"},{cn:"Chile",post:"cl"},{cn:"China",post:"cn"},{cn:"Colombia",post:"com.co"},{cn:"Cook Islands",post:"co.ck"},{cn:"Costa Rica",post:"co.cr"},{cn:"Cote D'Ivoire",post:"ci"},{cn:"Croatia",post:"hr"},{cn:"Cuba",post:"com.cu"},{cn:"Czech Republic",post:"cz"},{cn:"Denmark",post:"dk"},{cn:"Djibouti",post:"dj"},{cn:"Dominica",post:"dm"},{cn:"Dominican Republic",post:"com.do"},{cn:"Ecuador",post:"com.ec"},{cn:"Egypt",post:"com.eg"},{cn:"El Salvador",post:"com.sv"},{cn:"Estonia",post:"ee"},{cn:"Ethiopia",post:"com.et"},{cn:"Fiji",post:"com.fj"},{cn:"Finland",post:"fi"},{cn:"France",post:"fr"},{cn:"Germany",post:"de"},{cn:"Greece",post:"gr"},{cn:"Greenland",post:"gl"},{cn:"Guadeloupe",post:"gp"},{cn:"Guatemala",post:"com.gt"},{cn:"Guernsey",post:"gg"},{cn:"Guyana",post:"gy"},{cn:"Haiti",post:"ht"},{cn:"Honduras",post:"hn"},{cn:"Hong Kong",post:"com.hk"},{cn:"Hungary",post:"hu"},{cn:"India",post:"co.in"},{cn:"Indonesia",post:"co.id"},{cn:"Ireland",post:"ie"},{cn:"Island",post:"is"},{cn:"Isle of Gibraltar",post:"com.gi"},{cn:"Isle of Man",post:"im"},{cn:"Israel",post:"co.il"},{cn:"Italy",post:"it"},{cn:"Jamaica",post:"com.jm"},{cn:"Japan",post:"co.jp"},{cn:"Jersey",post:"je"},{cn:"Jordan",post:"jo"},{cn:"Kazakhstan",post:"kz"},{cn:"Kenya",post:"co.ke"},{cn:"Kiribati",post:"ki"},{cn:"Korea",post:"co.kr"},{cn:"Kyrgyzstan",post:"kg"},{cn:"Laos",post:"la"},{cn:"Latvia",post:"lv"},{cn:"Lesotho",post:"co.ls"},{cn:"Libya",post:"com.ly"},{cn:"Liechtenstein",post:"li"},{cn:"Lithuania",post:"lt"},{cn:"Luxembourg",post:"lu"},{cn:"Madagascar",post:"mgz"},{cn:"Malawi",post:"mw"},{cn:"Malaysia",post:"com.my"},{cn:"Maldives",post:"mv"},{cn:"Malta",post:"com.mt"},{cn:"Mauritius",post:"mu"},{cn:"Mexico",post:"com.mx"},{cn:"Micronesia",post:"fm"},{cn:"Moldova",post:"md"},{cn:"Mongolia",post:"mn"},{cn:"Montserrat",post:"ms"},{cn:"Morocco",post:"co.ma"},{cn:"Namibia",post:"com.na"},{cn:"Nauru",post:"nr"},{cn:"Nepal",post:"com.np"},{cn:"Netherlands",post:"nl"},{cn:"New Zealand",post:"co.nz"},{cn:"Nicaragua",post:"com.ni"},{cn:"Nigeria",post:"com.ng"},{cn:"Niue",post:"nu"},{cn:"Norfolk Island",post:"com.nf"},{cn:"Norway",post:"no"},{cn:"Oman",post:"com.om"},{cn:"Pakistan",post:"com.pk"},{cn:"Panama",post:"com.pa"},{cn:"Paraguay",post:"com.py"},{cn:"Peru",post:"com.pe"},{cn:"Philippines",post:"com.ph"},{cn:"Pitcairn Islands",post:"pn"},{cn:"Poland",post:"pl"},{cn:"Portugal",post:"pt"},{cn:"Puerto Rico",post:"com.pr"},{cn:"Qatar",post:"com.qa"},{cn:"Rep. Dem. du Congo",post:"cd"},{cn:"Rep. du Congo",post:"cg"},{cn:"Repulic of Georgia",post:"ge"},{cn:"Romania",post:"ro"},{cn:"Russia",post:"ru"},{cn:"Rwanda",post:"rw"},{cn:"Saint Helena",post:"sh"},{cn:"Saint Vincent and the Grenadine",post:"com.vc"},{cn:"Samoa",post:"ws"},{cn:"San Marino",post:"sm"},{cn:"Sao Tome and Principe",post:"st"},{cn:"Saudi Arabia",post:"com.sa"},{cn:"Senegal",post:"sn"},{cn:"Seychelles",post:"sc"},{cn:"Singapore",post:"com.sg"},{cn:"Slovakia",post:"sk"},{cn:"Slovenia",post:"si"},{cn:"Solomon Islands",post:"com.sb"},{cn:"South Africa",post:"co.za"},{cn:"Spain",post:"es"},{cn:"Sri Lanka",post:"lk"},{cn:"Sweden",post:"se"},{cn:"Switzerland",post:"ch"},{cn:"Taiwan",post:"com.tw"},{cn:"Tajikistan",post:"com.tj"},{cn:"Thailand",post:"co.th"},{cn:"The Bahamas",post:"bs"},{cn:"The Gambia",post:"gm"},{cn:"Timor-Leste",post:"tp"},{cn:"Tokelau",post:"tk"},{cn:"Tonga",post:"to"},{cn:"Trinidad and Tobago",post:"tt"},{cn:"Turkey",post:"com.tr"},{cn:"Turkmenistan",post:"tm"},{cn:"Uganda",post:"co.ug"},{cn:"Ukraine",post:"com.ua"},{cn:"United Arab Emirates",post:"ae"},{cn:"United Kingdom",post:"co.uk"},{cn:"Uruguay",post:"com.uy"},{cn:"Uzbekiston",post:"co.uz"},{cn:"Vanuatu",post:"vu"},{cn:"Venezuela",post:"co.ve"},{cn:"Viet Nam",post:"com.vn"},{cn:"Virgin Islands",post:"co.vi"},{cn:"Yugoslavia",post:"co.yu"},{cn:"Zambia",post:"co.zm"},{cn:"Zimbabwe",post:"co.zw"}]},{se:"ilse.nl",ms:"ilse.nl",kw:"search_for",dc:"Netherlands"},{se:"Indeed",ms:"www.indeed.",kw:"q",dc:"US",cl:[{cn:"Canada",post:"ca"},{cn:"India",post:"co.in"}]},{se:"InfoSpace",ms:"infospace.com",kw:"",dc:"US"},{se:"InfoTiger",ms:"infotiger.com",kw:"qs",dc:"US"},{se:"Livedoor",ms:"livedoor.com",kw:"q",dc:"Japan"},{se:"Lycos",ms:".lycos",kw:"query",dc:"US",cl:[{cn:"France",post:".fr"},{cn:"Germany",post:".de"},{cn:"Italy",post:".it"},{cn:"Netherlands",post:".nl"},{cn:"Spain",post:".es"},{cn:"United Kingdom",post:".co.uk"}]},{se:"Metacrawler",ms:"metacrawler.com",kw:"",dc:"US"},{se:"Monster Crawler",ms:"monstercrawler.com",kw:"",dc:"US"},{se:"myGO",ms:"mygo.com",kw:"",dc:"Taiwan"},{se:"Nate.com",ms:"nate.com",kw:"q",dc:"Korea"},{se:"Naver",ms:"naver.com",kw:"query",dc:"Korea"},{se:"NetSearch",ms:"netscape.com",kw:"qry_str",dc:"US"},{se:"Nifty",ms:"nifty.com",kw:"q",dc:"Japan"},{se:"Oh! New? Mobile",ms:"ohnew.co.jp",kw:"k",dc:"Japan"},{se:"OptusZoo",ms:"optuszoo.com.au",kw:"q",dc:"Australia"},{se:"Reference.com",ms:"reference.com",kw:"q",dc:"US"},{se:"Search.ch",ms:"search.ch",kw:"q",dc:"Switzerland"},{se:"Searchalot",ms:"searchalot.com",kw:"q,query",dc:"US"},{se:"Tiscali",ms:"tiscali.it",kw:"key",dc:"Italy"},{se:"track.nl",ms:"track.nl",kw:"qr",dc:"Netherlands"},{se:"Virgilio",ms:"virgilio.it",kw:"qs",dc:"Italy"},{se:"Web Wombat",ms:"webwombat.com.au",kw:"ix,I",dc:"Australia"},{se:"Web.de",ms:"web.de",kw:"su",dc:"Germany"},{se:"Webalta",ms:"webalta.ru",kw:"q",dc:"Russia"},{se:"WebCrawler",ms:"webcrawler.com",kw:"",dc:"US"},{se:"Yahoo!",ms:"search.yahoo.",kw:"p",dc:"US",cl:[{cn:"Argentina",pre:"ar."},{cn:"Asia",pre:"asia."},{cn:"Australia",pre:"au."},{cn:"Austria",pre:"at."},{cn:"Brazil",pre:"br."},{cn:"Canada",pre:"ca."},{cn:"Canada (French)",pre:"qc."},{cn:"Catalan",pre:"ct."},{cn:"China",pre:"cn."},{cn:"Denmark",pre:"dk."},{cn:"Finland",pre:"fi."},{cn:"France",pre:"fr."},{cn:"Germany",pre:"de."},{cn:"Hong Kong",pre:"hk."},{cn:"India",pre:"in."},{cn:"Indonesia",pre:"id."},{cn:"Italy",pre:"it."},{cn:"Japan",post:"co.jp"},{cn:"Korea",pre:"kr."},{cn:"Malaysia",pre:"malaysia."},{cn:"Mexico",pre:"mx."},{cn:"Netherlands",pre:"nl."},{cn:"New Zealand",pre:"nz."},{cn:"Norway",pre:"no."},{cn:"Philippines",pre:"ph."},{cn:"Russia",pre:"ru."},{cn:"Singapore",pre:"sg."},{cn:"Spain",pre:"es."},{cn:"Sweden",pre:"se."},{cn:"Switzerland",pre:"ch."},{cn:"Taiwan",pre:"tw."},{cn:"Thailand",pre:"th."},{cn:"UK and Ireland",pre:"uk."},{cn:"Viet Nam",pre:"vn."}]},{se:"Yandex.ru",ms:"yandex.ru",kw:"text",dc:"Russia"},{se:"zoeken.nl",ms:"zoeken.nl",kw:"q",dc:"Netherlands"}],Cr=e=>e?([/\+/g,/[',"]/g,/\t/g,/\n/g].forEach(t=>{e=e.replace(t,"")}),e.toLowerCase()):"",Tr=e=>e&&e.indexOf(".baidu.")>-1&&e.indexOf("wd=")>-1,kr=(e,t)=>{let o="";for(let r of e.kw.split(","))if(o=decodeURIComponent(u(r,t)),o)break;if(!o){let r=t.substring(t.indexOf("//")+2);(t.indexOf("/url")>-1&&(t.indexOf("q=&")>-1||t.indexOf("?sa=t")>-1)||r.indexOf("/")===-1||r.indexOf("/")===r.length-1||Tr(t))&&(o="no keyword"+(t.indexOf("https")>-1?" (secure)":""))}return o?Cr(o):"no keyword"},Dr=(e,t)=>{let o="";for(let r of e.ms.split(","))for(let n of e.cl||[])if(n.pre&&t.indexOf(n.pre+r)>-1||n.post&&t.indexOf(r+n.post)>-1){o=n.cn;break}return o||(o=e.dc||"US"),o},Ar=(e,t,o)=>{let r=e.se;for(let n of e.types||[])if(e.ms.split(",").some(s=>t.indexOf(n.toLowerCase()+s)>-1)){r+=` ${n}`;break}return o&&o.toUpperCase()!=="US"&&(r+=` - ${o}`),r||"no search engine"},_r=(e,t,o)=>(e.type==="SEM"&&(e.id+=(t?"|"+t:"")+(o?"|"+o:"")),{id:e.id||[e.type,t,o].join("|"),type:e.type,keyword:o,engine:t}),Be=async e=>{if(!e||!["SEM","SEO"].includes(e.type)||e.type==="SEO"&&e.id)return"";let t=await k(),o="",r="",n="",s=xr.find(a=>a.ms.split(",").some(c=>t.indexOf(c)>-1));return s&&(o=Dr(s,t),r=Ar(s,t,o),n=kr(s,t)),e.id&&e.type==="SEM"||r&&n?_r(e,r||"no search engine",n||"no keyword"):""};var G="Typed/Bookmarked",Vt="7010M000002Mw7O",X="d",Rr=async()=>{let e=await k();return e?new URL(e,window.location.origin).hostname:""},Ur=async e=>{let t=await Rr();return!l(e)&&t?(e.id=(e.id?e.id:e.type)+"|"+t,e):""},Pr=e=>["elq_mid=","eid=","rrid","mkt_tok"].some(t=>document.location.href.toLowerCase().indexOf(t)>=0)?e:"",Nr=e=>{if(!(e&&e.id&&e.type))return"";let t=decodeURIComponent(u("ban")).replace(/_/g,"|").toLowerCase(),o="ban|";return t.indexOf(o)===0&&(t=t.substring(o.length-1)),e.id+=`|${t}`,e},Mr=e=>{let t=decodeURIComponent(u("soc")).toLowerCase();return e&&t?(e.id+=`|${t}`,e):""},$t={SEM:{qp:"d,dcmp",cb:Be},Email:{qp:X,cb:Pr,d:"70130000000sUfv"},BAN:{qp:"d,ban",cb:Nr},SEO:{cb:Be,d:"70130000000sUVb"},"Paid Social Media":{qp:X,cb:Mr},"Social Media":{d:"70130000000sUVl",pm:{youtube:{ms:"youtube.com"},vidyard:{ms:"vidyard.com"},twitter:{ms:"twitter.com,.t.co,/t.co/",d:"70130000000szyK"},linkedin:{ms:"linkedin.com,lnkd.in",d:"70130000000szyP"},facebook:{ms:"facebook.com",d:"70130000000szyF"},instagram:{ms:"instagram.com",d:"701300000025Rrr"},flickr:{ms:"flickr.com,flickr.net"},slideshare:{ms:"slideshare.com,slideshare.net"},googleplus:{ms:"plus.google.com,plus.url.google.com",d:"70130000000szyU"},vimeo:{ms:"vimeo.com"},pinterest:{ms:"pinterest.com,pintrest.com",d:"70130000000szyZ"},foursquare:{ms:"foursquare.com"},stumbleupon:{ms:"stumbleupon.com"},yelp:{ms:"yelp.com"},myspace:{ms:"myspace.com"},xing:{ms:"xing.com"},mixi:{ms:"mixi.jp"},viadeo:{ms:"viadeo.com"},friendster:{ms:"friendster.com"},badoo:{ms:"badoo.com"},bebo:{ms:"bebo.com"},hi5:{ms:"hi5.com"},myyearbook:{ms:"myyearbook.com"},nig:{ms:"nig.com"},tumblr:{ms:"tumblr.com"},xanga:{ms:"xanga.com"},yammer:{ms:"yammer.com"},medium:{ms:"medium.com"}}},"SFDC Network":{d:"70130000000sUW0",pm:{"[AppExchange]":{ms:"appexchange.salesforce.com,appexchangejp.salesforce.com,sites.secure.force.com/appexchange,go.appexchange.com"},"[Community Site]":{ms:"success.salesforce.com,sites.secure.force.com"},"[DeveloperForce]":{ms:"developer.salesforce.com"},"[Help&Training]":{ms:"help.salesforce.com"},"[Foundation]":{ms:"foundation.force.com,salesforcefoundation.org"},"[VMForce]":{ms:"vmforce.com"},"[YourServiceCloud.com]":{ms:"yourservicecloud.com,yourservicecloud.force.com"},"[JoinTheConversations.com]":{ms:"jointheconversations.com"},"[Chatter.com]":{ms:"chatter.com"},"[Site.com]":{ms:"site.com"},"[Work.com]":{ms:"work.com"},"[Database.com]":{ms:"database.force.com,database.com"},"[Data.com]":{ms:"data.com"},"[Jigsaw.com]":{ms:"jigsaw.com"},"[Force.com]":{ms:"www.force.com"},"[Force.com Sites]":{ms:".force.com"},"[www.salesforce.com]":{ms:"www.salesforce.com"},"[trust.salesforce.com]":{ms:"trust.salesforce.com"},"[Salesforce Blogs]":{ms:"blogs.salesforce.com, cloudblog.salesforce.com"},"[Desk.com]":{ms:".desk.com"},"[Relateiq.com]":{ms:".salesforceiq.com"},"[Steelbrick.com]":{ms:".steelbrick.com, steelbrick.de"},"[Demandware]":{ms:".demandware.com"},"[Beyondcore]":{ms:".beyondcore.com,https://beyondcore.com"},"[Heywire]":{ms:".heywire.com"},"[Quip]":{ms:".quip.com,https://quip.com"},"[Gravity Tank]":{ms:".gravitytank.com"},"[MuleSoft]":{ms:"mulesoft.com"},"[CloudCraze]":{ms:"cloudcraze.com"},"[Datorama.com]":{ms:"datorama.com"},"[MapAnything.com]":{ms:"mapanything.com"},"[sfdc.co]":{ms:"sfdc.co"},"[salesforce.com]":{ms:"https://salesforce.com"},"[cloudforce.com sites]":{ms:".cloudforce.com"},"[heroku.com sites]":{ms:".heroku.com, heroku.support"},"[citizendevelopment.salesforce.com]":{ms:"citizendevelopment.salesforce.com"},"[compliance.salesforce.com]":{ms:"compliance.salesforce.com"},"[crm.dev]":{ms:"crm.dev"},"[developer.mulesoft.com]":{ms:"developer.mulesoft.com"},"[einstein analytics sites]":{ms:"einstein.ai, einsteinanalyticslearningmap.com, einsteinreadiness.salesforce.com"},"[getessentials.com]":{ms:"getessentials.com"},"[insidestories.salesforce.com]":{ms:"insidestories.salesforce.com"},"[lightning sites]":{ms:"lightning-assessment.salesforce.com, lightning-configuration.salesforce.com, lightningappcookbook.salesforce.com, lightningdesignsystem.com"},"[mobilebeta.salesforce.com]":{ms:"mobilebeta.salesforce.com"},"[ohana.salesforce.com]":{ms:"ohana.salesforce.com"},"[opensource.salesforce.com]":{ms:"opensource.salesforce.com"},"[pages.mail.salesforce.com]":{ms:"pages.mail.salesforce.com"},"[pardot.com]":{ms:"pardot.com"},"[partnernavigator.salesforce.com]":{ms:"partnernavigator.salesforce.com"},"[partners.salesforce.com]":{ms:"partners.salesforce.com"},"[partnersignup.salesforce.com]":{ms:"partnersignup.salesforce.com"},"[pathfinder.salesforce.com]":{ms:"pathfinder.salesforce.com"},"[platform-roi-calculator.salesforce.com]":{ms:"platform-roi-calculator.salesforce.com"},"[platformtour.salesforce.com]":{ms:"platformtour.salesforce.com"},"[quotable.com]":{ms:"quotable.com"},"[recurringrelationships.salesforce.com]":{ms:"recurringrelationships.salesforce.com"},"[docs.salesforce.com]":{ms:".docs.salesforce.com"},"[salesforccesponsorship.com sites]":{ms:".salesforcesponsorship.com"},"[salesforcestore.com sites]":{ms:".salesforcestore.com"},"[service-value.salesforce.com]":{ms:"service-value.salesforce.com"},"[trailblazer login]":{ms:"trailblazer.me"},"[trailblazer.salesforce.com]":{ms:"trailblazer.salesforce.com"},"[trailblazercommunitygroups.com]":{ms:"trailblazercommunitygroups.com"},"[engineering.salesforce.com]":{ms:"engineering.salesforce.com"},"[salesforce.org]":{ms:"salesforce.org"},"[salesforcejapan.com sites]":{ms:".salesforcejapan.com"},"[salesforce.wd1.myworkdayjobs.com]":{ms:"salesforce.wd1.myworkdayjobs.com"},"[Salesforce Essentials]":{ms:"essentials.salesforce.com"},"[Salesforce.com App]":{ms:".salesforce.com"}}},"External Websites":{cb:Ur,d:"70130000000sUVv"},Other:{qp:X},defaultDriverStr:{d:Vt}},Lr=(e,t)=>e.split(",").every(r=>u(r,t).length>0)&&u("internal",t)!=="true",jr=(e,t)=>{for(let[o,r]of Object.entries(e))if(r.ms.split(",").some(n=>t.indexOf(n)>-1))return o},qt=async(e,t,o)=>{for(let[r,n]of Object.entries($t)){let s={id:o?`${o}|${r}`:"",type:r};if(n.qp){if(Lr(n.qp,e))if(n.cb){if(s=await n.cb(s),s)return Fr(s)}else return s}else{if(n.pm){let a=jr(n.pm,t);if(a)return{id:(o?`${o}|`:"")+`${r}|${a}`,type:r}}if(n.cb&&(s=await n.cb(s),s))return s}}},Fr=e=>(e.id==="null|Other"&&(e={id:G,type:G}),e),Gr=(e,t)=>{let o=$t[e];if(o&&o.pm){let r=t.replace(e+"|","");for(let[n,s]of Object.entries(o.pm))if(r===n&&s.d)return s.d}return o&&o.d?o.d:""},we=async()=>{if(!y.driver){let e={id:G,type:G},t=u(X);t.length===15&&(t=ae(t));let o=await k();if(await ye()){if(!t)return{};e={id:t,type:"internal"}}else if(o||t){let r=await qt(location.href,o,t);r&&(e=r)}y.driver=Promise.resolve(e||{})}return y.driver},He=async()=>{let e=await we();if(l(e))return{};let t=u(X)||Gr(e.type,e.id);return e.id===G&&e.type===G&&(t=Vt),{d:t,l_dtype:e.type}};var Bt=()=>{let e=S("oinfo",atob);return e?j(`?${e}`):{}},Ht=()=>{let e=Bt();return e.status?e.status.toUpperCase():""},Kt=()=>ae(Bt().oid)||"";var Ke="webactls",zr=()=>{let e=location.hostname;return`.${e.endsWith(R)&&ut?gt(e):e}`},Wt="webact",Jt="customer",qr="prospect",Vr=zr(),N=m.timestamp,ma=3600*24*365;m.act=m.act||{};var We=async()=>{if("webact"in m.act)return m.act.webact;let e=S(Wt);return(!(e instanceof Object)||l(e))&&(H(Wt,Vr),e={}),i.debug("Storing Previous Activity",e),m.act.webact=Promise.resolve(e),e},$r=async()=>{let e=await We(),t={...e},o=+(e.l_visit||0),r=+(e.f_visit||0),n=o===0;return await Je(e.session)?(t={...t,l_vdays:n?-1:Math.round((N-o)/(1e3*60*60*24)),l_visit:N,session:N,l_dtype:e.l_dtype??"",l_page:""},o>=r&&(t.counter=e.counter?+e.counter+1:0,t.pv=1)):(t.session=N,t.pv=e.pv?+e.pv+1:1),n&&(t.counter=0),r===0&&(t.f_visit=N),await Yt(t)&&(t.customer=N),t},Br=()=>{let e=u("forceprofile").toLowerCase();if([Jt,qr].includes(e))return e},Yt=async e=>Br()===Jt||!(+e.developer>0)&&["ACTIVE","DEMO","FREE"].includes(Ht()),Je=async e=>(e||(e=(await We()).session),(N-+(e||0))/1e3>1800);var Xt=async e=>{if(l(e))return;let t=await f;t.onGroupActive(t.OT_FUNCTIONAL).then(()=>$(Ke,e))},Hr=async e=>{let t=e.l_page.split(":");return t.length<2?"":`${await Yt(e)?"customer":"non-customer"}:${t[1]}`},P=async()=>(await We()).l_page||"",Zt=async()=>{if(!m.act.curact){let e={...await $r(),...await He(),l_page:await he()};e.seg=await Hr(e),m.act.curact=Promise.resolve(e),i.debug("Setting Current Activity",e)}return m.act.curact};var eo=["Typed/Bookmarked","Force.com"],be=void 0,Se=encodeURIComponent,to={CONVERTING_URL:"convertingPageUrl",OFFER_ID:"v28",OFFER_ID_DUPE:"c30"},E={EXTERNAL_DRIVER:"v0",PAID_PARAM:"v42",INTERNAL_DRIVER:"v22",CROSS_VISIT:"cvtdt",DRIVER_TYPE:"c40",CONVERTING:"v20",...to},ya=["EXTERNAL_DRIVER","CONVERTING","INTERNAL_DRIVER",...Object.keys(to)];var z=Object.values(E).reduce((e,t)=>(e[t]=e[t]||S(t),e),y),Kr=async e=>e.type==="internal"&&e.id!==await z[E.INTERNAL_DRIVER],Ye=async e=>{let t=await z[E.EXTERNAL_DRIVER]||"";return!!(e.type!=="internal"&&e.id&&!(eo.includes(e.type)&&t)&&t!==e.id)},Qt={lastvaliddriver:async e=>(y.ldriver=y.ldriver||Promise.resolve((B(Ke)||{}).lastvaliddriver||""),await Ye(e)&&e.id!==await y.ldriver&&(Xt({lastvaliddriver:e.id}),y.ldriver=Promise.resolve(e.id)),y.ldriver),emailid:async()=>{let e="",t=j(),o=["elq_mid","RRID","eid","ban","dcmp","soc","mkt_tok"].find(r=>r in t);return o&&(e=t[o],e&&e!==await z[E.PAID_PARAM]&&f.then(r=>r.setCookie(E.PAID_PARAM,e,be,Se))),e},crossvisittrafficdrivertype:async e=>{if(!e.type||["internal",...eo].includes(e.type))return;let t=3600*24*365*10,o=await z[E.CROSS_VISIT],r=[];return o&&(r=o.split("~")),r.includes(e.type)||(r.push(e.type),r=r.slice(-5),f.then(n=>n.setCookie(E.CROSS_VISIT,r.join("~"),t,encodeURIComponent))),r.length?r:void 0},persistedInternalDriver:async e=>{if(e.type==="internal")return e.id&&f.then(t=>t.setCookie(E.INTERNAL_DRIVER,e.id,be,Se)),`${await $e()}|${e.id}`},scampaign:async e=>{if(!(!e.id||await!Ye(e)))return f.then(t=>t.setCookie(E.EXTERNAL_DRIVER,e.id,be,Se)),e.id},convertingpage:async e=>{let t=await z[E.CONVERTING],o=t;if(await!Ye(e)&&await!Kr(e)||!e.id)return o||"";let r=await P();return r?o=await ye()?await $e():r:t||(o="Direct Landing"),o&&t!==o&&f.then(n=>n.setCookie(E.CONVERTING,o,be,Se)),o||""},drivertype:async e=>{let t=e.type;return!t||t===await z[E.DRIVER_TYPE]?"did not bounce":t}},Xe=async()=>{let e=await we(),t={driver:e},o=[],r=Object.keys(Qt).filter(n=>{let s=m.page||{};return n in s?t[n]=s[n]:o.push(Qt[n](e)),!t[n]});return await Promise.allSettled(o).then(n=>{for(let s=0;s<n.length;s++){let a=n[s],c=r[s];a.status==="fulfilled"&&typeof a.value<"u"&&(t[c]=a.value)}}),t};var oo="usessid",ro=()=>{let e=sessionStorage.getItem(oo);return(Je()||!e)&&(e=crypto.randomUUID(),sessionStorage.setItem(oo,e)),e},Ie=()=>{let{userId:e}=Ge();return e||(e=crypto.randomUUID(),Mt({userId:e})),e};var Ze=e=>{let t="customer",o="anonymous";return t in e?o=t:"developer"in e?o="developer":"e"in e&&(o="known prospect"),o};var Z=async()=>{let e={},{clientLibs:t,sfdcBase:o}=V;if(l(o)||t.iis&&t.iis?.disabled||o.iisDisabled)return e;let r=await Ne().then(a=>a.getUserInfo()).catch(()=>{});if(l(r))return e;let n={company:["CompanyName","com"],id:["user_id","id"],newRegistration:["newRegistration","nr"],orgID:["organization_id","oid"],role:["r"],relationship:["RelationshipToSalesforce","rlt"]},s=r.custom_attributes;return l(s)||(e.role=s.Role??""),Object.entries(n).reduce((a,[c,p])=>(a[c]||(a[c]=r[p.find(g=>g in r)]||""),a),e)};var Wr="optimizelyEndUserId",Qe=()=>S(Wr);var et={user:{firstName:"f",lastName:"l",jobTitle:"t",email:"e",phone:"p",company:"c",employees:"emp",country:"cn",state:"st",jobRole:"j",industry:"i",department:"ud",productInterest:"pi"},metadata:{formCampaignId:"fcid",driverCampaignId:"d"},analytics:{gaClientId:"gcid",gaPropId:"gpid",gaClickId:"gkid"}};var Fa=4320*60*60,Ga=ft(et.user);var Xa=me("lsData");var no=Te("/v1/interactions");var so=250,Jr="x-ogs-interactions-client-id",Yr="x-ogs-deviceid",Ee=async()=>{let e=d.dataPool;e.length&&(d.dataPool=[],ot(e,await Q()))},tt={method:"POST",headers:{"Content-Type":"application/json"},keepalive:!0,credentials:"include"},ot=async(e,t)=>{if(!no||!await ue(A))return;let o=crypto.randomUUID(),r={correlationId:o,metaData:t,records:e},n=T.default(JSON.stringify(r)),s=x("events:POST",{totalRecords:e.length,bodySize:new Blob([n]).size});i.debug("Events payload submitted",s.detail);let a=await Z().then(c=>c.id||"");tt.headers[Yr]=a||Ie(),tt.headers[Jr]=ie,d.lastSent=Date.now(),le(no,{body:n,...tt,correlationId:o,metrics:s}).catch(c=>{i.warn("Error sending events",{error:c,metrics:s,correlationId:o})})},Xr=()=>{let e=d.threshold<so?so:d.threshold;(Date.now()-d.lastSent||0)>=e&&Ee()},ao=async()=>{window.addEventListener("visibilitychange",Ee),setInterval(Xr,d.threshold)};var ve=(e,...t)=>{t||(t=[]);let o="_",r=Object.entries(e).reduce((n,[s,a])=>{if(["gtm.uniqueEventId"].includes(s))return n;let c=Array.isArray(a);if(a instanceof Object&&!c)return{...n,...ve(a,...t,s)};if(c){if(!a.length)return{...n,[[...t,s].join(o)]:""};let p=a.length>3?3:a.length;for(let g=0;g<p;g++)n={...n,...ve(a[g],...t,s,`${g}`)};return n}return a=typeof a>"u"?"":a,{...n,[[...t,s].join(o)]:a}},{});return t=[],r};var Zr="otloc",co=()=>U("user-profiles.js").then(e=>e.default(e.USER_PROFILES.DB)),io=async()=>{let e=sessionStorage.getItem(Zr);if(e)try{return JSON.parse(atob(e))}catch{}return f.then(t=>t.getOneTrust().then(o=>o.getGeolocationData()))};b.clientId||(b.clientId="unknown");var mo=60*1e3,Qr="webInteractions",en="Engagement",tn="dl",on="custEv_",nt={deviceId:Ie(),sessionId:ro(),eventType:Qr,category:en,clientId:b.clientId??""},rn={optimizelyEndUserId:Qe(),visitDate:new Date(m.timestamp||new Date).toISOString(),userAgent:navigator.userAgent,pageUrl:location.href.toString(),pagePathQueryParams:document.location.pathname+document.location.hash+document.location.search},nn={gaClientId:"",gaClickId:"",gaSessionId:"",country:"geoCountry",id:"tbid"},st=q({gaClientId:Ft,gaClickId:Gt,gaSessionId:jt,getOneTrustGeo:io,getIISUserInfo:Z}).then(e=>Object.entries({...nn}).reduce((t,[o,r])=>(t[r||o]=e[o]||"",t),{})),rt=1e3,Q=async e=>l(d.data)?(d.data={...nt,...rn,...await st,...e||{}},rt=new Blob([JSON.stringify(d.data)]).size,i.debug("Caching interactions meta data",{size:rt,data:d.data}),d.data):(l(e)||(d.data={...d.data,...e}),d.data),Oe=e=>{if(!("event"in e))return;let t=e.event;if(!t||!t.startsWith(on))return;let o={...ve(e,tn),eventId:crypto.randomUUID(),dateTime:new Date().toISOString()};i.debug("Event Captured",o);let r=new Blob([JSON.stringify([o])]).size;if(r>mo)return;let n=new Blob([JSON.stringify(d.dataPool)]).size;rt*(d.dataPool.length||1)+n+r>=mo&&Ee(),d.dataPool.push(o)};var sn=e=>t=>{e(t),Oe(t)},at=async e=>{if(d.gtmPush)return;let t=await f;t&&(await t.onGroupActive(t.OT_FUNCTIONAL),await qe.then(async o=>{if(!o){i.warn("GTM timeout",{metrics:x("GTM:timeout")});return}await Q(e);let r=J.push;d.gtmPush=r,J.push=sn(r),J.forEach(n=>Oe(n)),ao(),i.debug("Capturing dataLayer events"),x("trap:init")}))};var po={...nt,category:"Profile",eventType:"webProfiles",eventId:crypto.randomUUID(),dateTime:new Date().toISOString()},ct=()=>st.then(e=>{let{gaClickId:t,gaClientId:o,gaSessionId:r,tbid:n}=e,s={gaClickId:t,gaClientId:o,gaSessionId:r};x("profile:init"),i.debug("Sending profile data",{...po,...s,tbid:n}),ot([s],{...po,tbid:n})});var an=async()=>U("analytics.js").then(async e=>{if(!e)return{};let{pagename:t,locale:o,uiframework:r}=await e.pageData();return{pageName:t,locale:o,uiFramework:r}}),cn={employee_range:"dbCompanySize",industry:"dbIndustry"},mn=async()=>co().then(e=>Object.entries(cn).reduce((t,[o,r])=>(t[r]=e[o]||"",t),{})),lo=async()=>{let e=Zt();return q({pageReferrer:k,previousPageName:P,pageData:an,mapDbValues:mn,orgId:async()=>Kt(),convertingPageName:()=>Xe().then(o=>o.convertingpage),visitorType:()=>e.then(o=>Ze(o)),pageViews:()=>e.then(o=>o.pv),referringHostname:()=>k().then(o=>o?.split("/")[2]?.split(":")[0])})};var pn=25,ho="|",it="sfdcUtm",te="utm",ee="utm_",_="timestamp",yo={utm_campaign:"cp",utm_objective:"ob",utm_content:"ct",utm_source:"src",utm_medium:"md",utm_adgroup:"ag",utm_term:"t",utm_matchtype:"mt",utm_country:"cn",utm_language:"l",utm_adused:"ad",d:"d",nc:"nc",[_]:"utc"},ln=Object.entries({...yo}).reduce((e,[t,o])=>(e[o]=t,e),{});m[te]=m[te]||[];var fo=(e,t=!1,o=!1)=>{let r=t?ln:yo,n=Object.entries(j(e)).reduce((s,[a,c])=>(r[a]&&(c=decodeURIComponent(c),c&&s.push([o?r[a]:a,c])),s),[]);return{rawString:n.map(([s,a])=>`${s}=${encodeURIComponent(a)}`).join("&"),params:Object.fromEntries(n)}},dn=async e=>{let t=await f;t&&t.onGroupActive(t.OT_FUNCTIONAL).then(()=>{if(!e.length)return;let o=e.map(r=>r.toShort()).join(ho);localStorage.setItem(it,o)})},mt=async()=>{localStorage.removeItem(it),m[te]=[]};var wo=async()=>{let e=await f;e&&(await e.onConsentReady,e.onConsentUpdate(re))},fn=()=>(localStorage.getItem(it)||"").split(ho).reduce((e,t)=>{try{t&&e.push(new oe(t))}catch{}return e},[]),re=async()=>{if(!await ue(A))return mt(),[];let t=await m[te];if(t&&t.length)return t;let o=fn();try{let n=new oe;o.length>=pn&&o.shift(),o.push(n),dn(o),i.debug("Storing UTM params",n)}catch{}let r=o.map(n=>n.toRecord());return m[te]=r,r},uo,go,oe=class extends(go=URL,uo=_,go){constructor(o=location.toString()){let r=o.startsWith(ee);r&&(o=o.replace(ee,"https://"));super(o);M(this,uo);M(this,"url");M(this,"utms");M(this,"driver");M(this,"name_capture");let{rawString:n,params:s}=fo(this.search,r,r);if(!r&&!n.includes(ee))throw Error("Url must contain UTM params");this.url=this.origin+this.pathname,this.search=n,this.driver=s.d,this.name_capture=s.nc,this.utms=Object.fromEntries(Object.entries(s).filter(([a])=>a.startsWith(ee))),this[_]=s[_]||new Date().toISOString(),this.searchParams.set(_,this[_])}toShort(){return[ee,this.hostname,this.pathname,`?${fo(this.search,!1,!0).rawString}`].join("")}toRecord(){return{landing_page_url:this.url,driver:this.driver,name_capture:this.name_capture,[_]:this[_],...this.utms}}};(async()=>re().then(wo))();ke(je);(async()=>(Me(),ct(),at(await lo()),Tt(Le,je)))();export{re as getUtmHistory,mt as resetUtmHistory};
//# sourceMappingURL=interactions.js.map
