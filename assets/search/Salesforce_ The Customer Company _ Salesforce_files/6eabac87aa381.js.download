//15.154.4-es2019 2025-12-03T16:56:33.325Z (6eabac87aa381)
var CS_CONF={"collectionEnabled":true,"projectId":210192,"status":1,"hostnames":["salesforce.com"],"crossDomainTracking":0,"crossDomainSingleIframeTracking":0,"consentRequired":1,"allowSubdomains":1,"visitorCookieTimeout":34164000000,"sampleRate":100,"replayRecordingRate":0,"validationRate":10,"lastTrackingDraw":null,"trackerDomain":"c.contentsquare.net","recordingDomain":"r.contentsquare.net","useMalkaPipeline":1,"ed":"l.contentsquare.net/log/web","eMerchandisingEnabled":0,"mouseMoveHeatmapEnabled":1,"jsErrorsEnabled":0,"customErrorsEnabled":0,"jsCustomErrorsEnabled":0,"apiErrorsEnabled":0,"customHashIdEnabled":1,"recordingEncryptionEnabled":0,"recordingEncryptionPublicKey":null,"recordingEncryptionPublicKeyId":0,"secureCookiesEnabled":0,"triggerSessionReplayEnabled":0,"triggerSessionReplayRegex":null,"dynamicIdRegex":null,"whitelistedAttributes":null,"replayRecordingUnmaskedUrlRegex":null,"replayRecordingUnmaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegex":null,"anonymisationMethod":"replayRecordingUnmaskedUrlRegex","tagDeploymentMode":"CONTENTSQUARE","experimental":null,"iframesTracking":0,"textVisibilityEnabled":0,"cookielessTrackingEnabled":0,"malkaUrlEnabled":0,"malkaEtrEnabled":0,"pathComputationRules":{},"asyncSerializerEnabled":1,"pendingInactivityTimeout":5000,"accessibilityEnabled":0,"uxaDomain":"app.contentsquare.com","webviewsTrackingEnabled":0,"useStaticResourceManager":1,"performanceTimingOptions":{"withResource":false},"replayConsentRequiredForSession":0,"eventsApiEnabled":0,"clickedElementTextEnabled":1,"collectHierarchy":0,"collectSubmit":0,"collectTargetText":1,"displayAdOptions":null,"taskSchedulerOptions":{"enabled":1},"malkaQuotaServiceDomain":"q-aus1.contentsquare.net","malkaRecordingDomain":"k-aus1.contentsquare.net","staticResourceManagerDomain":"srm.bf.contentsquare.net","voc":{"siteId":null,"enabled":0},"anonymizeDigits":null,"dynamicConfDomain":"t.contentsquare.net/settings","tagVerificationDomain":"tcvsapi.contentsquare.com","startMode":1};
var CS_INTEGRATIONS_CONF = {"optimizely":{}};
/* integration-optimizely 2.9.2 */
(()=>{"use strict";function e(e,n){try{e()}catch(e){window._uxa=window._uxa||[],window._uxa.push(["logSnippetError",n,e]),(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&(console.log(`%cCSQ INTEGRATION ERROR: [${n}] : ${e.message}`,"color:rgb(228, 25, 45); font-weight: bold"),console.log(e))}}function n(e){window._uxa=window._uxa||[],window._uxa.push(["event",e])}function t(e,n,t){if((t=t||window)&&n&&e){let i=!1,o=t[e];o?n():Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return o},set:function(e){o=e,i||(i=!0,n())}})}}function i(e){return e&&"string"==typeof e?e.replace(/[\W_]+/g,"-"):""}const o=JSON.parse('{"QC":"Optimizely","Mz":"AB_OP_","be":"OP_"}'),a=function(n){let t,i,o,a;if(e(function(){const e=n.name;t=n.version;const c=e.replace("@contentsquare/integration-","");i=c+"-"+t;let r="-contentsquare";a=new RegExp(r+"$").test(c),o=c.replace(/-contentsquare([^-contentsquare]*)$/,"$1"),a||(r="-cap",a=new RegExp(r+"$").test(c),o=c.replace(/-cap([^-cap]*)$/,"$1"))},"Shared-Function-readPackageJSON"),a)return{snippetBuildName:i,parameterName:o,snippetVersion:t}}(JSON.parse('{"name":"@contentsquare/integration-optimizely-contentsquare","version":"2.9.2","scripts":{"build:snippet":"npx webpack"}}')),c=(a.parameterName,a.snippetBuildName),r=a.snippetVersion;e(function(){const a=o.QC,s=o.Mz,l=o.be;var u,p;function d(e,t){!function(e,n){window._uxa=window._uxa||[],window._uxa.push(["trackDynamicVariable",{key:e,value:n}])}(e=s+e,t);const o=t.endsWith(" [Holdback]");var a,r;n(`${o?"HB_":""}${i(e.replace(s,""))}/${o?t.replace(" [Holdback]",""):i(t)}`),n(`${l}${i(e.replace(s,""))}-${i(t)}`),function(e,n,t){(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&(t?"warn"===t&&console.log(`%cCSQ INTEGRATION: [${e}] : ${n}`,"color:rgb(255, 86, 2); font-weight: bold"):console.log(`%cCSQ INTEGRATION: [${e}] : ${n}`,"color: #2a9d8f; font-weight: bold"))}(c,(a=e,r=t,document.getElementById("csKey")&&document.getElementById("csValue")&&(document.getElementById("csKey").textContent=a,document.getElementById("csValue").textContent=r),`Dynamic variable with ${a} and value ${r} sent`))}u=a,p=r,CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push(u+" - v"+p);let m=!1;const g=[];!function(e,n,i){i=i||window;const o=e.split(".");if(1==o.length)t(e,n,i);else{let e=i,a=0;const c=function(){e=a>0?e[o[a-1]]:window,a++,a>=o.length?t(o[a-1],n,e):t(o[a-1],c,e)};c()}}("optimizely",function(){setTimeout(function(){e(function(){function n(){e(function(){const e=optimizely.get&&optimizely.get("state");if(e&&e.getCampaignStates&&"function"==typeof e.getCampaignStates&&"object"==typeof e.getCampaignStates()){const t=e.getCampaignStates({isActive:!0}),i=Object.keys(t);if(n=i,Array.isArray(n))for(let e=0;e<i.length;e++)if(-1===g.indexOf(i[e])){g.push(i[e]);const n=t[i[e]];if(n.experiment){let e,t;e=n.experiment.name?n.campaignName:n.experiment.id,t=n.experiment.campaignName&&n.experiment.name?n.experiment.name+" - "+n.variation.name:n.variation.name?n.variation.name:n.variation.id,n.isInCampaignHoldback&&(t+=" [Holdback]"),e&&t&&d(e,t)}}}var n},c)}n(),m||(m=!0,window.optimizely=window.optimizely||[],"function"==typeof optimizely.push&&optimizely.push({type:"addListener",filter:{type:"lifecycle",name:"campaignDecided"},handler:n}))},c)},500)})},c)})();
(()=>{var Kc=Object.defineProperty;var Jc=(s,i,t)=>i in s?Kc(s,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[i]=t;var zt=(s,i,t)=>Jc(s,typeof i!="symbol"?i+"":i,t);var Ht={};Ht.d=(s,i)=>{for(var t in i)Ht.o(i,t)&&!Ht.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:i[t]})};Ht.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();Ht.o=(s,i)=>Object.prototype.hasOwnProperty.call(s,i);Ht.r=s=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var br={};Ht.r(br);Ht.d(br,{getRequestParameters:()=>qu});function qe(s,i){let t;return window.Zone&&typeof window.Zone.__symbol__=="function"&&(t=s[window.Zone.__symbol__(i)]),t!=null?t:s[i]}var Q=(()=>{let s;return function(i){i.debug="debug",i.warn="warn",i.implementation="implementation",i.error="error",i.critical="critical"}(s||(s={})),s})();function Ct(s){return X(s)&&(typeof s=="number"||s instanceof Number)&&!isNaN(s)}function Be(s){return s===parseInt(s,10)}function H(s){return X(s)&&(typeof s=="string"||s instanceof csString)}function ii(s){return typeof s=="boolean"}function Es(s){return typeof s=="object"}function X(s){return typeof s!="undefined"}function St(s){return X(s)&&s!==null}function yo(s){return typeof s=="object"&&s!==null}function Qc(s,i,t){return Be(s)&&s>=i&&s<=t}function sr(s){for(let i in s)return!1;return!0}function Fe(s){return typeof s=="function"}function As(s){return s instanceof Element}function te(s){return s instanceof Error}function Eo(s){let i=s.length;for(let t=0;t<i;t++)switch(csString.prototype.charCodeAt.call(s,t)){case 9:case 10:case 11:case 12:case 13:case 32:case 160:continue;default:return!1}return!0}var Oi={[Q.debug]:0,[Q.warn]:1,[Q.implementation]:1,[Q.error]:2,[Q.critical]:3},rt={debug(...s){},warn(...s){},implementation(...s){},error(...s){},critical(...s){},isPerfLoggingActive(){return!1}};function Zc(s){rt=s}var z=s=>(i,t,e)=>{let r=(t==null?void 0:t.toString())||"",o=s||`${i.constructor&&i.constructor.name}.${r}`;if(e){let a=e.value;e.value=function(...c){return Rr(o,a.bind(this))(...c)}}};function Rr(s,i){return function(...t){try{let e=i.apply(this,t);return X(self.Promise)&&e instanceof self.Promise?e.then(r=>r,r=>rt.error(te(r)?r:new Error(r),s)):e}catch(e){try{rt.error(te(e)?e:new Error(e),s)}catch{}}}}function be(s,i,t,e){var r=arguments.length,o=r<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,t):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,i,t,e);else for(var c=s.length-1;c>=0;c--)(a=s[c])&&(o=(r<3?a(o):r>3?a(i,t,o):a(i,t))||o);return r>3&&o&&Object.defineProperty(i,t,o),o}function So(s){let i=new ArrayBuffer(s.length),t=new Uint8Array(i);for(let e=0,r=s.length;e<r;e+=1)t[e]=csString.prototype.charCodeAt.call(s,e);return i}function fn(s){let i=new Uint8Array(s),t="";for(let e=0;e<i.byteLength;e+=1)t+=csString.fromCodePoint(i[e]);return t}function tl(s){let i=self.atob(s);return So(i)}function el(s){let i=csArray.from(new Uint8Array(s));return csArray.prototype.join.call(csArray.prototype.map.call(i,t=>csString.prototype.padStart.call(t.toString(16),2,"0")),"")}var vo=typeof performance!="undefined"&&!!performance.now,pn=vo?()=>performance.now():()=>csDate.now(),sl=(()=>{var s,i;return vo?(i=(s=performance.timing)===null||s===void 0?void 0:s.navigationStart)!==null&&i!==void 0?i:Math.floor(performance.timeOrigin):0})(),Cr=34164e6,F={now(){return Math.round(pn()+sl)},elapsed(){return pn()}};function gn(){return Math.floor(F.now()/1e3)}function mn(){var s,i;return typeof((s=window.navigation)===null||s===void 0?void 0:s.addEventListener)=="function"&&typeof((i=window.navigation)===null||i===void 0?void 0:i.removeEventListener)=="function"}function Dt(s,i){return csString.prototype.lastIndexOf.call(s,i,0)===0}function Ir(s,i){return csString.prototype.indexOf.call(s,i,s.length-i.length)!==-1}var il=Number.MAX_SAFE_INTEGER||9007199254740991,Ge={percentage(){return Math.floor(Math.random()*1e4)/100},boolean(s){return this.percentage()<s},integer(s=il){return Math.floor(Math.random()*s)}},gi=typeof window=="undefined";function rl(){return typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof Ht.g!="undefined"?Ht.g:typeof process!="undefined"?process:Function("return this")()}var tt=rl();function ri(s,i){let t,e,r,o,a,c=null,h=g=>{let m=F.elapsed();if(!g&&c!==null){let v=i-(m-c);if(v>=1){r=tt.csSetTimeout(h,v);return}}let y=m-o;r=null,c=null,o=null,a=s.apply(t,[y,...e])},f=function(){if(t=this,e=arguments,o){c=F.elapsed();return}return o=F.elapsed(),r=tt.csSetTimeout(h,i),a};return f.flushPending=()=>{r&&(tt.csClearTimeout(r),h(!0))},f.cancel=()=>{c=null,o=null,r&&(tt.csClearTimeout(r),r=null)},f}function nl(s=0){return(i,t,e)=>{e.value=ri(e.value,s)}}var $e=(()=>{class s{static setGlobalService(t){s.globalService=t}constructor(t){this.name=t,this.values={}}reset(){this.values={}}flush(t=""){if(!s.globalService)return!1;let e=this.values,r=Object.keys(e);if(!r.length)return!1;let o=`${t===""?"":`${t}.`}${this.name}`,a=csArray.prototype.map.call(r,c=>({name:o,parameter:c,value:Math.round(e[c])}));return s.globalService.push(a),this.reset(),a.length>0}}return s.globalService=null,be([z()],s.prototype,"flush",null),s})(),ct=(()=>{class s extends $e{constructor(t,e=100){super(t),this.DE=e,this.values={},e&&(this.debouncedFlush=ri(()=>this.flush(),this.DE))}count(t,e=1){$e.globalService&&(this.values[t]=(this.values[t]||0)+e,this.debouncedFlush())}}return s})(),yn=(()=>{class s extends $e{constructor(){super(...arguments),this.values={average:0,count:0,max:0,total:0}}get average(){return this.values.average}get count(){return this.values.count}get max(){return this.values.max}get total(){return this.values.total}flush(t=""){return this.count===0?!1:super.flush(t)}push(t){this.values.count++,this.values.total+=t,this.values.max=Math.max(this.values.max,t),this.values.average=this.values.total/this.values.count}reset(){this.values={count:0,total:0,max:0,average:0}}}return s})(),Qe=(()=>{class s extends $e{constructor(t,e=["max","average","total","count"]){super(t),this.collecting=e}flush(t=""){let e=Object.keys(this.values);return csArray.prototype.forEach.call(csArray.prototype.filter.call(e,r=>!csArray.prototype.some.call(this.collecting,o=>csString.prototype.endsWith.call(r,`.${o}`))),r=>{delete this.values[r]}),super.flush(t)}add(t,e){var r,o,a,c,h,f,g;let m=y=>this.values[`${t}.${y}`];(r=(c=this.values)[h=`${t}.count`])!==null&&r!==void 0||(c[h]=0),(o=(f=this.values)[g=`${t}.total`])!==null&&o!==void 0||(f[g]=0),this.values[`${t}.count`]++,this.values[`${t}.total`]+=e,this.values[`${t}.max`]=Math.max((a=m("max"))!==null&&a!==void 0?a:0,e),this.values[`${t}.average`]=m("total")/m("count")}}return s})(),ol=(()=>{class s extends $e{constructor(){super(...arguments),this.values={}}set(t,e="flags"){var r,o;$e.globalService&&((r=(o=this.values)[e])!==null&&r!==void 0||(o[e]=0),this.values[e]|=t,this.flush())}}return s})(),V={counters:{commandsFromIntegrations:new ct("commands-from-integrations"),commandsFromCSTC:new ct("commands-from-cstc"),commandsFromIframe:new ct("commands-from-iframe"),commandApplied:new ct("command-applied"),commandError:new ct("command-error"),commandMisuse:new ct("command-misuse"),CSTCSnippetUsed:new ct("cstc-snippet-used"),redactedPII:new ct("redacted-pii"),pageAnonymisation:new ct("page-anonymisation"),patchedNativeFunctions:new ct("patched-native-functions"),pureWindowState:new ct("pure-window-state"),sensitiveElements:new ct("sensitive-elements"),cspErrors:new ct("csp-errors"),networkRequests:new ct("network-requests"),webVitalsErrors:new ct("web-vitals-errors"),trackedFeatures:new ct("tracked-features"),longTasks:new yn("long-tasks"),errors:new ct("errors"),methodPerformance:new Qe("perf"),downloadTime:new Qe("download-time",["max","average"]),transferSize:new Qe("transfer-size",["max","average"]),evalTime:new Qe("eval-time",["max","average"]),blockingTime:new yn("blocking-time"),inpContribution:new Qe("inp-contribution"),tasks:new Qe("tasks"),availableFeatures:new ol("available-features")},setService(s){$e.setGlobalService(s)}},Pr=(()=>{class s{constructor(){this.sa=0}get length(){return this.sa}get isEmpty(){return!this.Js}pushAll(t){for(let e=0;e<t.length;e++)this.push(t[e])}push(t){this.sa++,this.un?this.un=this.un[1]=[t,void 0]:this.un=this.Js=[t,void 0]}pop(){if(!this.Js)return null;this.sa--;let t=this.Js[0];return this.Js=this.Js[1],this.Js||(this.un=void 0),t}forEach(t){let e=this.Js;for(;e!=null&&e.length;)t(e[0]),e=e[1]}clear(){this.sa=0,this.Js=this.un=void 0}}return s})(),ir=0,_o=s=>{ir++,csQueueMicrotask(()=>os(()=>{try{s()}finally{ir--}},[ee.MicroTask,"queueMicrotask"]))},ni=new Pr,oi=new Pr;function wo(s,i="high"){ni.isEmpty&&oi.isEmpty&&Ao(al),i==="high"?oi.push(En(s)):ni.push(En(s))}function Ao(s,i=10){i===0?_o(s):csQueueMicrotask(()=>Ao(s,i-1))}function al(){for(;!oi.isEmpty;)oi.pop()();for(;!ni.isEmpty;)ni.pop()()}function En(s){return function(){try{s.apply(window,arguments)}catch(i){rt.critical(i)}}}var ti="null",ve=null,To=[],cl=()=>{var s;return gi||!!(!((s=document.body)===null||s===void 0)&&s.getAttribute("data-cs-tag-extension"))};!gi&&cl()&&(window._uxa?_uxa.push(["debugEvents",!0]):window._uxa=[["debugEvents",!0]],ve=new BroadcastChannel("cs-tag"),document.addEventListener("cs.tracking.recordingEvent",s=>{rr({type:"UXA_EVENT",event:s.detail})}),ve.addEventListener("message",s=>{if(s.data.type==="CONNECT"){if(s.data.sessionId===ti)return;ti=s.data.sessionId,csArray.prototype.forEach.call(To,i=>i()),ve==null||ve.postMessage({type:"CONNECTED",sessionId:ti})}}));function ll(s){gi||(ti!==null&&csSetTimeout(s),csSetTimeout(()=>csArray.prototype.push.call(To,s)))}function rr(s){ve==null||ve.postMessage(s)}function nr(s){var i;let t=(i=s.length)!==null&&i!==void 0?i:0,e=new csArray(t);for(let r=0;r<t;r+=1)e[r]=s[r];return e}function Sn(s,i){let t=s.length,e=new csArray(t);for(let r=0;r<t;r+=1)e[r]=i(s[r]);return e}function hl(s,i,t){let e=[],r=0;for(let o=0;o<s.length;o+=1){let a=i(s[o]);for(let c=0;c<a.length;c++)t(a[c],r++)}return e}function bo(s,i){let t=[];return hl(s,i,e=>csArray.prototype.push.call(t,e)),t}function Nt(s,i){if(ul(s)){let t=s.length;for(let e=0;e<t;e++)i(s[e],e)}else{let t=0,e=s.next();for(;!e.done;)i(e.value,t++),e=s.next()}}function ul(s){return s.length>=0}function dl(s,i){let t=s.length;for(let e=0;e<t;e++)if(i(s[e],e))return!0;return!1}function fl(s,i){let t=s.length,e=[];for(let r=0;r<t;r+=1){let o=s[r];i(o)&&csArray.prototype.push.call(e,o)}return e}function pl(s,i,t){let e=s.length+i.length+((t==null?void 0:t.length)||0),r=new csArray(e),o=0;for(let a=0;a<s.length;a++)r[o++]=s[a];for(let a=0;a<i.length;a++)r[o++]=i[a];if(!t)return r;for(let a=0;a<t.length;a++)r[o++]=t[a];return r}function vn(s,i){for(let t=0;t<s.length;t++)csArray.prototype.push.call(i,s[t])}function Or(s){let i=s instanceof Map,t=[];return s.forEach((e,r)=>csArray.prototype.push.call(t,i?[r,e]:e)),t}function gl(s){return csArray.isArray(s)&&s.length>0}var Ts=(()=>{class s{constructor(t,e=""){this.name=t,this.format=e}}return s})(),qt=(()=>{class s extends Ts{constructor(t){super(t,"Value: {count}"),this.count=0}increase(t=1){this.count+=t}decrease(){this.count>0&&this.count--}clear(){this.count=0}getData(){return{count:this.count}}}return s})();var _n=(()=>{class s extends Ts{constructor(t){super(t,"Living intances: {instances}<br/>Added: {added}<br/>Removed: {removed}"),this.added=0,this.removed=0}get value(){return this.added-this.removed}increase(){this.added++}decrease(){this.removed++}getData(){return{added:this.added,removed:this.removed,instances:this.added-this.removed}}}return s})(),Wt=(()=>{class s extends Ts{constructor(t){super(t,"Count: {count}<br/>Average: {average}ms<br/>Max: {max}ms<br/>Total: {total}ms"),this.total=0,this.count=0,this.max=0}get average(){return this.count?this.total/this.count:0}elapsed(t){return this.count++,this.max=Math.max(this.max,t),this.total+=t,t}measure(t){let e=F.elapsed();t(),this.count++;let r=F.elapsed()-e;return this.max=Math.max(this.max,r),this.total+=r,r}asyncMeasure(){let t=F.elapsed();return()=>{this.count++;let e=F.elapsed()-t;return this.max=Math.max(this.max,e),this.total+=e,e}}getData(){return{total:this.total,count:this.count,average:this.average,max:this.max}}}return s})(),ml=(()=>{class s extends Ts{constructor(){super("INP","Value: {value}")}getData(){return{value:Mt.tasks.eventListener.max}}}return s})(),Mt={general:{category:"General",nbEvents:new qt("Nb of Events"),pendingTasks:new qt("Pending Tasks"),pendingEvents:new qt("Pending Tasks"),nbOfMutationObservers:new _n("Nb of Mutation Observers"),inp:new ml},mutations:{category:"Mutations",initialDOM:new Wt("Initial DOM"),pendingMutations:new qt("Nb of Mutations scheduled"),serializedMutations:new Wt("Serialized Mutations"),count:new qt("Mutation Count"),elementMutationObserved:new _n("Nb of Elements Observed by MutationObserver"),unobserveGarbageCollection:new Wt("Unobserve GC")},visibilityObserver:{category:"Visibility Observer",hiddenElements:new qt("Nb of Hidden Elements "),nbElements:new qt("Nb of  Elements")},tasks:{category:"Tasks",tasks:new qt("Tasks"),errors:new qt("Errors"),timer:new Wt("Timers"),microtask:new Wt("Microtasks"),mutationObserver:new Wt("MutationObserver"),monkeyPatch:new Wt("MonkeyPatch"),eventListener:new Wt("EventListener"),intersectionObserver:new Wt("Intersection")}};function yl(){let s=null;ll(()=>{let i=o=>Object.keys(o),t=csArray.prototype.map.call(i(Mt),o=>Mt[o]),e=csArray.prototype.map.call(t,o=>csArray.prototype.filter.call(csArray.prototype.map.call(i(o),a=>o[a]),a=>a instanceof Ts));rr({type:"UXA_PERFORMANCE_COUNTER_SCHEMA",event:csArray.prototype.map.call(t,(o,a)=>({category:o.category,performanceCounters:csArray.prototype.map.call(e[a],c=>({name:c.name,format:c.format}))}))}),!s&&(s=csSetInterval(()=>{os(()=>{let o=bo(Sn(e,a=>Sn(a,c=>c.getData())),a=>a);rr({type:"UXA_PERFORMANCE_COUNTER",event:o})},[ee.Timer,"performance-counter-interval"])},1e3))})}var ee=(()=>{let s;return function(i){i.Timer="timer",i.MonkeyPatch="monkeyPatch",i.MutationObserver="mutationObserver",i.EventListener="eventListener",i.IntersectionObserver="intersectionObserver",i.MicroTask="microtask"}(s||(s={})),s})(),Et=null,El=["click","tap","keyup","keydown","pointerup","pointerdown"];async function os(s,i,t=null){if(Et&&i[0]!==ee.MicroTask)return s();t&&(Et=t),Et||(Et={type:i[0],elapsed:0},Mt.tasks.tasks.increase());try{Et.elapsed+=Sl(s)}catch(e){Mt.tasks.errors.increase(),rt.critical(new Error(`Task error:  ${i}/${s.name}.
${e.message}
${e.stack}`,e),"TASK_ERROR")}finally{ir<=0&&(Mt.tasks[Et.type].elapsed(Et.elapsed),Et.elapsed>50&&(V.counters.longTasks.push(Et.elapsed),V.counters.blockingTime.push(Et.elapsed-50)),V.counters.tasks.add(i[0],Et.elapsed),csArray.prototype.includes.call(El,i[1])&&V.counters.inpContribution.add(i[1],Et.elapsed),Et=null)}}function Sl(s){let i=F.elapsed();return s(),F.elapsed()-i}var Ni,vl="cs-native-frame";var fe={navigatorProperties:[{propertyName:"sendBeacon",binding:navigator}],nodeProperties:["childNodes","parentNode","nextSibling","firstChild","nodeType"],elementProperties:["shadowRoot"],elementPropertiesValues:["matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector"],eventProperties:["target"],imageProperties:["src"],constructors:{Date:"csDate",JSON:"csJSON",Array:"csArray",String:"csString",URL:"csURL",MutationObserver:"csMutationObserver",screen:"csScreen",RegExp:"csRegExp"}};function Ro(s,i){let t=qe(window,s);return function(e,r){return t(()=>os(e,[i,s]),r)}}window.csSetTimeout=Ro("setTimeout",ee.Timer);window.csSetInterval=Ro("setInterval",ee.Timer);window.csQueueMicrotask=(Ni=qe(window,"queueMicrotask"))!==null&&Ni!==void 0?Ni:setTimeout;window.csClearTimeout=qe(window,"clearTimeout");window.csClearInterval=qe(window,"clearInterval");window.csFileReader=qe(window,"FileReader");(()=>{var s;let i=0;function t(r){return"cs$Symbol_"+r}function e(r){return t(r)+ ++i}e.for=t,window.csSymbol=(s=window.Symbol)!==null&&s!==void 0?s:e})();function _l(){let s=document.createElement("iframe");s.id=vl,s.setAttribute("hidden",""),s.setAttribute("title","Intentionally blank"),s.setAttribute("sandbox","allow-same-origin");let i=document.createElement("cs-native-frame-holder");if(i.setAttribute("hidden",""),document.body.appendChild(i),!!Element.prototype.attachShadow){let e=i.attachShadow({mode:"closed"});return e.innerHTML=s.outerHTML,e.firstElementChild.contentWindow}return i.innerHTML=s.outerHTML,i.firstElementChild.contentWindow}function wl(s,i){let t,e=s;for(;e&&!(t=Object.getOwnPropertyDescriptor(e,i));)e=Object.getPrototypeOf(e);return t}function Al(s,i,t){let e=wl(s,i);if(!e)return function(){return this[i]};switch(t){case"get":return e.get;case"set":return e.set;case"value":return e.value}}function Co(s){var i,t;Object.keys(fe.constructors).forEach(r=>{window[fe.constructors[r]]=s[r]instanceof Function&&s[r].prototype==null?s[r].bind(window):s[r]}),Rl(s);let e=s.MutationObserver;("Prototype"in window||bl())&&(e=(t=(i=qe(window,"MutationObserver"))!==null&&i!==void 0?i:window.WebKitMutationObserver)!==null&&t!==void 0?t:window.MutationObserver),window.csIntersectionObserver=wn(window.IntersectionObserver,ee.IntersectionObserver),window.csMutationObserver=wn(e,ee.MutationObserver),Ze("csNode",fe.nodeProperties,s.Node.prototype,"get"),Ze("csElement",fe.elementProperties,s.Element.prototype,"get"),Ze("csElement",fe.elementPropertiesValues,s.Element.prototype,"value",!1),Ze("csHTMLImageElement",fe.imageProperties,s.HTMLImageElement.prototype,"set"),Ze("csEvent",fe.eventProperties,s.Event.prototype,"get"),Ze("csNavigator",fe.navigatorProperties,s.navigator,"value")}function Ze(s,i,t,e,r=!0){i.forEach(o=>{let a=typeof o!="string"&&"binding"in o,c=a?o.propertyName:o;(r||c in t)&&(window[`${s+c}`]=Al(t,c,e),a&&(window[`${s+c}`]=window[`${s+c}`].bind(o.binding)))})}function Nr(s,i){window.CSProtectnativeFunctionsLogs=window.CSProtectnativeFunctionsLogs||{},window.CSProtectnativeFunctionsLogs[s]=i}function Tl(){try{let s=_l();return s?(window.CSPureWindow=s,Co(window.CSPureWindow),!0):!1}catch(s){return Nr("Warning",`failed to copy references from pure iframe: ${s.message}`),!1}}if(!Tl())try{Co(tt)}catch(s){Nr("Critical",`failed to copy references from window: ${s.message}`)}function bl(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Rl(s){window.csquerySelector={1:s.Element.prototype.querySelector,9:s.Document.prototype.querySelector,11:s.DocumentFragment.prototype.querySelector},window.csquerySelectorAll={1:s.Element.prototype.querySelectorAll,9:s.Document.prototype.querySelectorAll,11:s.DocumentFragment.prototype.querySelectorAll}}function wn(s,i){try{let t=function(e,r){return new s((a,c)=>{os(()=>e(a,c),[i,s.name])},r)};return t.base=s,t}catch{return Nr("Warning",`failed to extends ${s.name}`),s}}var Kt=(()=>{let s;return function(i){i.ELLIPSIS="\u2026";function t(a){return csString.prototype.replace.call(a,/[.*+?^${}()|[\]\\]/g,"\\$&")}function e(a){return csString.prototype.replace.call(a,/([#;&,.+*~':"!^$[\]()<=>|/%?@`{}\\ ])/g,"\\$1")}i.escapeInvalidCharacters=e;function r(a,c,h){if("replaceAll"in csString.prototype)return csString.prototype.replaceAll.call(a,c,h);let f=new csRegExp(t(c),"g");return csString.prototype.replace.call(a,f,h)}i.stringReplaceAll=r;function o(a,c,h=""){return a.length<=c?a:csString.prototype.slice.call(a,0,c-h.length)+h}i.truncate=o}(s||(s={})),s})();function or(s){return Kt.escapeInvalidCharacters(csString.prototype.toLowerCase.call(s.localName))}function Cl(s){let i=s.getAttribute("id");return i&&Kt.escapeInvalidCharacters(i)}function dt(s){return csNodenodeType.apply(s)===1}function ar(s){return csNodenodeType.apply(s)===3}function Il(s){return csNodenodeType.apply(s)===8}function Io(s){return dt(s)&&s.localName==="a"}function Mr(s){return dt(s)&&s.localName==="input"}function Po(s){return dt(s)&&s.localName==="textarea"}function Pl(s){return dt(s)&&s.localName==="script"}function Ol(s){return dt(s)&&s.localName==="button"}function Oo(s){return dt(s)&&"ownerSVGElement"in s}function No(s){return dt(s)&&s.localName==="select"}function Nl(s){return dt(s)&&s.localName==="details"}function Ml(s){return dt(s)&&s.localName==="summary"}function Dl(s){switch(csNodenodeType.apply(s)){case 9:case 11:return!0;default:return!1}}function kl(s){switch(csNodenodeType.apply(s)){case 9:case 11:case 1:return!0;default:return!1}}function An(s){return csNodenodeType.apply(s)===9}function Ss(s){return Dl(s)&&"host"in s&&"mode"in s}function Mo(s){return dt(s)&&!!csElementshadowRoot.apply(s)&&Ss(csElementshadowRoot.apply(s))}var bs="detached";function Do(s){let i=s,t=[i];for(;csNodeparentNode.apply(i)!==null;)i=csNodeparentNode.apply(i),csArray.prototype.push.call(t,i);return ai(i)&&csArray.prototype.push.call(t,bs),{ancestors:t,selectionRoot:i}}function Ll(s){let i=s,t=[i],e=null;for(;csNodeparentNode.apply(i)!==null;)e===null&&Io(i)&&(e=i),csArray.prototype.push.call(t,csNodeparentNode.apply(i)),i=csNodeparentNode.apply(i);return ai(i)&&csArray.prototype.push.call(t,bs),{firstAnchorParent:e,ancestors:t,selectionRoot:i}}function ai(s){return Zt.isValidElement(s)}var Le=(()=>{var s,i;return(i=(s=tt.Element)===null||s===void 0?void 0:s.prototype)!==null&&i!==void 0?i:{}})(),Bt=Le.matches||Le.matchesSelector||Le.mozMatchesSelector||Le.msMatchesSelector||Le.oMatchesSelector||Le.webkitMatchesSelector,Tn=Le.closest,ko=9;function xl(s,i){return i?csArray.prototype.some.call(i,t=>Bt.call(s,t)):!1}function Vl(s,i,t){if(s===bs||csNodenodeType.apply(s)===ko)return 0;let e=t.dynamicElementNameRegex,r=!!(e!=null&&e.test(i.localName)),o=or(i),a=0,c=i.previousElementSibling;for(;c;)(or(c)===o||r&&(e!=null&&e.test(c.localName)))&&!xl(c,t.reliableSelectors)&&(a+=1),c=c.previousElementSibling;return a}function Ul(s,i,t){if(s===bs||csNodenodeType.apply(s)===ko)return 0;let e=0,r=i.previousElementSibling;for(;r;)Bt.call(r,t)&&(e+=1),r=r.previousElementSibling;return e}var jl=[/\d{4}/,/^ember\d+$/],Hl="@",Dr="data-cs-override-id",Bl="data-cs-dynamic-id";function Lo(s,i,t,e){let r=e.dynamicIdRegex||null,o=e.dynamicElementNameRegex,a=or(s);if(o&&o.test(s.localName)&&(a=csString.prototype.replace.call(a,o,`$1${Hl}`)),$l(s,t)){let y=kr(s);return{hasUniqueIdentifier:!0,elementSelector:`${a}[${Dr}="${y}"]`}}let c=Jl(s,t,e);if(c.success)return{hasUniqueIdentifier:!0,elementSelector:`${a}#UA[${c.attributeName}="${c.attributeValue}"]`};let h=Fl(s,t,e);if(h)return{hasUniqueIdentifier:!0,elementSelector:`${a}#UCS[${h}]`};let f=Cl(s);if(ql(s,f,t,r))return{hasUniqueIdentifier:!0,elementSelector:`${a}#${f}`};let g=Gl(s,e);if(g){let y=Ul(i,s,g);return{hasUniqueIdentifier:!1,elementSelector:`${a}[${g}](${y})`}}let m=Vl(i,s,e);return{hasUniqueIdentifier:!1,elementSelector:`${a}:eq(${m})`}}function Fl(s,i,t){if(t.uniqueCssSelectors){for(let e of t.uniqueCssSelectors)if(Bt.call(s,e)&&Kl(e,i))return e}}function Gl(s,i){if(i.reliableSelectors){for(let t of i.reliableSelectors)if(Bt.call(s,t))return t}}function $l(s,i){let t=kr(s);return t&&csString.prototype.match.call(t,/^[\w-]+$/)&&Lr(Dr,t,i)}function zl(s){return kr(s)!==null}function kr(s){return s.getAttribute(Dr)}function ql(s,i,t,e){return i&&!zl(s)&&!Wl(s,i,e)&&Xl(i,t)}function Wl(s,i,t){return s.hasAttribute(Bl)||Yl(i,t)}function Yl(s,i){let t=!1;return s&&i&&(t=i.test(s)),s&&(csArray.prototype.some.call(jl,e=>e.test(s))||t)}function Xl(s,i){return s&&Lr("id",s,i)}function Lr(s,i,t){try{return window.csquerySelectorAll[t.nodeType].call(t,`[${s}="${i}"]`).length===1}catch(e){if(e.name!=="SyntaxError")throw e}return!1}function Kl(s,i){try{return window.csquerySelectorAll[i.nodeType].call(i,s).length===1}catch(t){if(t.name!=="SyntaxError")throw t}return!1}function Jl(s,i,t){if(!t.uniqueAttributes)return{success:!1};for(let e of t.uniqueAttributes){let r=s.getAttribute(e);if(r!==null&&Lr(e,r,i))return{attributeName:e,attributeValue:r,success:!0}}return{success:!1}}var cr=11;function ci(s,i,t){let e=csArray.prototype.shift.call(s);if(s.length===0)return bn(e,t);let r=e,o=s[0],{elementSelector:a,hasUniqueIdentifier:c}=Lo(r,o,i,t);if(!t.fullPath&&c){let f=s[s.length-1];return`${bn(f,t)}${a}`}let h=ci(s,i,t);return`${h?`${h}>`:""}${a}`}function bn(s,i){if(s===bs)return"|detached|";if(s.host){let{ancestors:t,selectionRoot:e}=Do(s.host);return`${ci(t,e,i)}|shadow-root|`}return csNodenodeType.apply(s)===cr?"|fragment|":""}var xo=(()=>{class s{constructor(t){this.options=t,this.done=!1,this.path=null}getPath(){if(this.path===null)throw new Error("getPath was called before serializeElement");return this.path}isDone(){return this.done}}return s})(),Ql=(()=>{class s extends xo{constructor(){super(...arguments),this.ia=!1,this.ra=!1,this.Kc=!1}kE(t,e){return this.ia&&!(e===null&&ai(t))&&csNodenodeType.apply(t)!==cr&&!t.host}LE(t){return!t.localName}serializeElement(t,e,r){var o;if((o=this.path)!==null&&o!==void 0||(this.path=""),this.kE(t,e))return;let a=!1;e===null&&ai(t)&&(a=!0,this.done=!0);let c=this.ra&&!this.options.fullPath?"":">",h=!!t.host;if(h&&this.path&&(this.path="|shadow-root|"+c+this.path,this.Kc=!0,this.ia=!1,this.ra=!1),!h&&e===null&&csNodenodeType.apply(t)===cr){this.path="|fragment|"+c+this.path,this.done=!0;return}if(this.LE(t))return;let f=e!=null?e:"detached",{elementSelector:g,hasUniqueIdentifier:m}=Lo(t,f,r,this.options);m&&(this.ra=!0,this.ia=!this.options.fullPath);let y=`${a?`|detached|${c}`:""}${this.ia&&!m?"":g}`,I=!m&&this.ra&&!this.options.fullPath?"":this.path&&!this.Kc?">":"";this.Kc=!1,this.path=`${y}${I}${this.path}`}}return s})(),gt=(()=>{let s;return function(i){function t(){let m=[r()];return document.documentElement&&csArray.prototype.push.call(m,document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight),document.body&&csArray.prototype.push.call(m,document.body.scrollHeight,document.body.offsetHeight),Math.max(...m)}i.documentHeight=t;function e(){return document.documentElement.scrollWidth}i.documentWidth=e;function r(){return window.innerHeight}i.windowHeight=r;function o(){return window.innerWidth}i.windowWidth=o;function a(){let m=window.csScreen.width;return Be(m)&&m>0?m:window.screen.width}i.screenWidth=a;function c(){let m=window.csScreen.height;return Be(m)&&m>0?m:window.screen.height}i.screenHeight=c;function h(){return window.pageXOffset}i.windowOffsetX=h;function f(){return window.pageYOffset}i.windowOffsetY=f;function g(){return{dw:`${e()}`,dh:`${t()}`,ww:`${o()}`,wh:`${r()}`,sw:`${a()}`,sh:`${c()}`}}i.getRequestParameters=g}(s||(s={})),s})();function Qt(s,i=ft.SHOW_ALL){let t=i|ft.SHOW_ELEMENT,e=[document.createTreeWalker(s,t,null,!1)],r=Rn(s);r&&csArray.prototype.push.call(e,document.createTreeWalker(r,t,null,!1));let o=null;return{root:s,nextNode(){if(r){let a=r;return r=null,a}for(;e.length>0;){if(o){let f=o;return o=null,f}let c=e[e.length-1].nextNode();if(!c){csArray.prototype.pop.call(e);continue}let h=Rn(c);if(i&ft.SHOW_DOCUMENT_FRAGMENT&&h&&(o=h),h&&csArray.prototype.push.call(e,document.createTreeWalker(h,t,null,!1)),(Di[csNodenodeType.apply(c)]&i)!==0)return c}return null},visitAll(a){Di[csNodenodeType.apply(s)]&i&&a(s);let c=this.nextNode();for(;c;){if((Di[csNodenodeType.apply(c)]&i)===0){c=this.nextNode();continue}a(c),c=this.nextNode()}},find(a){let c;return this.visitAll(h=>a(h)&&(c=h)),c},collectAll(a){let c=[];return this.visitAll(h=>csArray.prototype.push.call(c,a?a(h):h)),c}}}function Rn(s){return s&&Mo(s)?s.shadowRoot:null}var Mi=(()=>{var s;return(s=tt.Node)!==null&&s!==void 0?s:{}})(),ft=(()=>{var s;return(s=tt.NodeFilter)!==null&&s!==void 0?s:{}})(),Di={2:ft.SHOW_ATTRIBUTE,4:ft.SHOW_CDATA_SECTION,8:ft.SHOW_COMMENT,11:ft.SHOW_DOCUMENT_FRAGMENT,9:ft.SHOW_DOCUMENT,10:ft.SHOW_DOCUMENT_TYPE,1:ft.SHOW_ELEMENT,[Mi.ENTITY_NODE]:ft.SHOW_ENTITY,[Mi.ENTITY_REFERENCE_NODE]:ft.SHOW_ENTITY_REFERENCE,[Mi.NOTATION_NODE]:ft.SHOW_NOTATION,7:ft.SHOW_PROCESSING_INSTRUCTION,3:ft.SHOW_TEXT},Vo=!1,lr=5,Ws=50;function Zl(s=5){Vo=rt.isPerfLoggingActive(),lr=s}function xr(s,i){return function(){if(!Vo)return s.apply(this,arguments);let t=F.elapsed(),e=s.apply(this,arguments);if(e!=null&&e.then)e.then(()=>{let r=F.elapsed()-t;r>=lr&&V.counters.methodPerformance.add(i,r),r>Ws&&V.counters.blockingTime.push(r-Ws)});else{let r=F.elapsed()-t;r>=lr&&V.counters.methodPerformance.add(i,r),r>Ws&&V.counters.blockingTime.push(r-Ws)}return e}}var vs=function(s){return function(i,t,e){let r=e.value;e.value=xr(r,s)}},He=(()=>{let s;return function(i){function t(){return!!Element.prototype.attachShadow}i.isSupported=t;function e(o){return o&&Mo(o)?o.shadowRoot:null}i.getShadowRoot=e;function r(o){return Qt(o,NodeFilter.SHOW_DOCUMENT_FRAGMENT).collectAll(a=>a.host)}i.getAllShadowHosts=xr(r,"getAllShadowHosts")}(s||(s={})),s})(),ki=(()=>{var s;return(s=tt.Node)!==null&&s!==void 0?s:Object})(),rs=(()=>{let s;return function(i){let t="isConnected"in ki.prototype?E=>E.isConnected:E=>!E.ownerDocument||!(E.ownerDocument.compareDocumentPosition(E)&E.DOCUMENT_POSITION_DISCONNECTED);function e(E,P){for(let N=E;N;N=csNodenextSibling.apply(N))P(E)}i.forEachChild=e;function r(E){return t(E)}i.isConnected=r;function o(E,P){let N=[];for(let L of h(E,P))csArray.prototype.push.call(N,L);return N}i.getAncestors=o;let a=(E,P)=>{var N;return(N=csNodeparentNode.apply(E))!==null&&N!==void 0?N:P&&Ss(E)?E.host:null};function c(E,P,N=!1){let L=E;for(;L;){if(P(L))return L;let Z=a(L,N);if(Z&&Z!==L)L=Z;else break}return null}i.findAncestor=c;function*h(E,P=!1){let N=E;for(;N;){yield N;let L=a(N,P);if(L&&L!==N)N=L;else break}}i.walkUp=h;function f(E,P){if(E===P||P.contains(E))return!0;let N=i.getParentElement(E);return N&&N!==E?f(N,P):!1}i.isDescendantOf=f;function g(E){var P;return E.parentElement?E.parentElement:i.getRootNode(E)?(P=i.getRootNode(E))===null||P===void 0?void 0:P.host:null}i.getParentElement=g;function m(E,P=document){let N=nr(window.csquerySelectorAll[P.nodeType].call(P,E)),L=He.getAllShadowHosts(P);for(let Z of L){let nt=He.getShadowRoot(Z);if(!nt)continue;let $t=nr(window.csquerySelectorAll[nt.nodeType].call(nt,E));csArray.prototype.push.call(N,...$t)}return N}i.findAllElements=m,i.getRootNode=(()=>{if("getRootNode"in ki.prototype)return(N,L)=>N.getRootNode(L);function E(N){let L=P(N);return Ss(L)?E(L.host):L}function P(N){return csNodeparentNode.apply(N)!=null?P(csNodeparentNode.apply(N)):N}return(N,L)=>typeof L=="object"&&!!L.composed?E(N):P(N)})();function y(E){return E==="transparent"||/^(rgba|hsla)\(\d+, \d+%?, \d+%?, 0\)$/.test(E)}function v(E){let P=E.getBoundingClientRect();return P.right+gt.windowOffsetX()<0||P.bottom+gt.windowOffsetY()<0}function I(E){var P,N;if(((P=E.checkVisibility)===null||P===void 0?void 0:P.call(E,{checkOpacity:!0,checkVisibilityCSS:!0}))===!1)return!0;if(!E.offsetParent){if(!E.getBoundingClientRect)return rt.warn(`SUP-11432: Element doesn't have getBoundingClientRect. Node: ${E instanceof ki} Ctor: ${(N=E==null?void 0:E.constructor)===null||N===void 0?void 0:N.name}`),!1;let nt=E.getBoundingClientRect();if(nt.width===0&&nt.height===0)return!0}let L=window.getComputedStyle(E);return L?L.display==="none"||L.visibility==="hidden"||L.visibility==="collapse"||L.opacity==="0"||L.filter==="opacity(0)"||L.width==="0px"&&L.height==="0px"||y(L.color):!0}i.isHiddenByCSS=I;function D(E){if(I(E))return!0;let N=g(E);return N!=null&&D(N)}i.areAncestorsHiddenByCSS=D;function x(E){let P=null,N=E;do if(I(N))P=N;else break;while(N=g(N));return P}i.getTopAncestorHiddenByCSS=x;function _(E){let P=w(E);return P!==null&&!E.contains(P)&&!P.contains(E)}function w(E){let P=E.getBoundingClientRect(),N=P.left+.5*P.width,L=P.top+.5*P.height;return C(document,N,L)}i.getTopElement=w;function O(E){if(!E.getBoundingClientRect)return null;let P=E.getBoundingClientRect(),N=P.x+P.width/2,L=P.y+P.height/2;return i.getTopElementFromPoint(document,N,L)}i.getElementOnTop=O;function C(E,P,N){let L=E.elementFromPoint(P,N);if(!L)return null;let Z=He.getShadowRoot(L);return Z&&Z!==i.getRootNode(document.body)&&Z!==E?C(Z,P,N):L}i.getTopElementFromPoint=C;function T(E){return!v(E)&&!I(E)&&!_(E)}i.isVisibleInDocument=T;function k(E){return I(E)?!1:Y(E)}i.isVisibleInViewportInForeground=k;function Y(E){let P=w(E);return P===null?!1:E===P?!0:mt(E)?E.textContent!==""&&P.contains(E):E.contains(P)}i.isInViewPort=Y;function J(E,P,N){let L=E.getAttributeNS(P,N);return L===""?E.hasAttributeNS(P,N)?L:null:L}i.getAttributeNS=J;function wt(E){return!!(E.hasAttribute("tabIndex")||E.getAttribute("contentEditable")==="true"||Io(E)&&E.hasAttribute("href")||(No(E)||Po(E)||Mr(E)||Ol(E))&&!E.hasAttribute("disabled")||Nl(E)||Ml(E))}i.isElementFocusable=wt;function mt(E){return E.localName==="span"||E.localName==="a"||E.localName==="b"||E.localName==="i"||E.localName==="button"||E.localName==="input"||E.localName==="label"||E.localName==="cite"||E.localName==="small"||E.localName==="strong"||E.localName==="code"||E.localName==="abbr"||E.localName==="em"||E.localName==="dfn"||E.localName==="time"||E.localName==="output"||E.localName==="object"||E.localName==="sub"}i.isInlineElement=mt;function At(E){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>E(),{once:!0}):csSetTimeout(E)}i.onDocumentLoaded=At}(s||(s={})),s})(),th=(()=>{class s{constructor(t){this.xE=t}run(t){let e=[...this.xE],r=rs.getAncestors(t,!1),o=r[r.length-1];for(;e.length>0&&r.length>0;){let a=csArray.prototype.shift.call(r),c=r[0]||null;if(this.VE(e,a,c,o),this.UE(e),e.length===0)break;r.length===0&&a.host&&(r=rs.getAncestors(a.host,!1),o=r[r.length-1])}}VE(t,e,r,o){for(let a of t)a.serializeElement(e,r,o)}UE(t){for(let e=0;e<t.length;e++)t[e].isDone()&&(csArray.prototype.splice.call(t,e,1),e--)}}return s})(),eh=(()=>{class s extends xo{serializeElement(t){var e;if((e=this.path)!==null&&e!==void 0||(this.path=""),(t==="detached"||t.localName==="body")&&(this.done=!0,this.path.length>0))return;let r=this.jE(t);if(r+=r.length>0?"|":"",this.path.length+r.length>this.options.hierarchyMaxLength){this.done=!0;return}this.path=r+this.path}jE(t){if(!t.localName)return"";let e=`@${t.localName};`;return e+=this.HE(t.id),t.classList&&(e+=this.BE(csArray.from(t.classList))),t.attributes&&(e+=this.FE(t)),e}HE(t){return t?`#${t};`:""}BE(t){return t.length>0?`.${csArray.prototype.join.call(csArray.prototype.sort.call(t),";.")};`:""}GE(t,e){var r,o;return((o=(r=this.options).isAttributeSensitive)===null||o===void 0?void 0:o.call(r,t,e))||csArray.prototype.indexOf.call(this.options.attributeIgnoreTokens,e)!==-1||Oo(t)&&csString.prototype.indexOf.call(e,"data-")===-1&&e!=="aria-label"||Mr(t)&&e==="value"}$E(t,e){return this.options.useAnonymization&&!this.options.allWhitelistedAttributes.has(t)||e.length>this.options.attrMaxLength}zE(t){let e={};for(let r of csArray.from(t.attributes))this.GE(t,r.name)||(e[r.name]=r.value);return e}FE(t){var e,r;if(!((r=(e=this.options).isNodeSensitive)===null||r===void 0)&&r.call(e,t))return"";let o=Object.entries(this.zE(t));return csArray.prototype.join.call(csArray.prototype.sort.call(csArray.prototype.map.call(csArray.prototype.filter.call(o,([a])=>a.length<this.options.attrMaxLength),([a,c])=>this.$E(a,c)?`[${a}]`:`[${a}=${c}]`)),";")+(o.length>0?";":"")}}return s})(),Zt=(()=>{let s;return function(i){i.INVALID_ELEMENT="INVALID_ELEMENT";function t(c){return!!c&&"localName"in c&&"getAttribute"in c&&"hasAttribute"in c&&"parentNode"in c}i.isValidElement=t;function e(c,h,f={fullPath:!1,dynamicIdRegex:null}){let g=a(c);if(g===document)return{path:"",hierarchy:""};if(!t(g))return{path:i.INVALID_ELEMENT,hierarchy:i.INVALID_ELEMENT};let m=new Ql(f),y=new eh(h);return new th([m,y]).run(g),{path:m.getPath(),hierarchy:y.getPath()}}i.getElementPathAndHierarchy=e;function r(c,h={fullPath:!1,dynamicIdRegex:null}){let f=a(c);if(f===document)return"";if(!t(f))return i.INVALID_ELEMENT;let{ancestors:g,selectionRoot:m}=Do(f);return ci(g,m,h)}i.getElementPath=r;function o(c,h={fullPath:!1,dynamicIdRegex:null}){let f=a(c);if(f===document)return{path:"",firstAnchorParent:null};if(!t(f))return{path:i.INVALID_ELEMENT,firstAnchorParent:null};let{firstAnchorParent:g,ancestors:m,selectionRoot:y}=Ll(f);return{path:ci(m,y,h),firstAnchorParent:g}}i.getElementPathAndFirstAnchorParent=o;function a(c){return c&&"jquery"in c&&c.length===1?c[0]:c}}(s||(s={})),s})();window.CSPathComputation=window.CSPathComputation||Zt;var Uo=["t.contentsquare.net","clicktale"],sh=s=>{var i;if(typeof s.filename=="string"&&csArray.prototype.some.call(Uo,t=>csString.prototype.indexOf.call(s.filename,t)>-1)&&!(csString.prototype.indexOf.call(s.filename,"blob")>-1&&(s.message==null?void 0:csString.prototype.indexOf.call(s.message,"importScripts"))>-1)){let t=new Error(s.message);t.stack=(i=s.error)===null||i===void 0?void 0:i.stack,j.critical(t)}};window.addEventListener("error",sh);var j=(()=>{class s{constructor(){}static whiteListFilename(t){csArray.prototype.push.call(Uo,t)}static setStrategy(t){s.ur=t}static computeIsActive(t){s.Be=Ge.boolean(t),s.Be?s.Jc=Ge.boolean(10):s.Jc=!1}static isLoggingActive(){return s.Be}static getStrategy(){return s.ur}static debug(t,e=""){s.Be&&this.ur.send(t,e,Q.debug)}static warn(t,e=!0,r=""){var o;V.counters.errors.count("warning"),s.Be&&e&&this.ur.send(t,r,Q.warn),(o=window.UXAnalytics.Console)===null||o===void 0||o.warn(t)}static implementation(t,e=""){V.counters.errors.count("implementation"),s.Be&&this.ur.send(t,e,Q.implementation)}static error(t,e=""){var r;V.counters.errors.count("error"),s.Be&&this.ur.send(t,e,Q.error),(r=window.UXAnalytics.Console)===null||r===void 0||r.error(t)}static critical(t,e=""){V.counters.errors.count("critical"),this.ur.send(t,e,Q.critical)}static tryToExecute(t,e){return function(...r){try{let o=e.apply(this,r);return X(tt.Promise)&&o instanceof tt.Promise?o.then(a=>a,a=>s.error(te(a)?a:new Error(a),t)):o}catch(o){try{s.error(te(o)?o:new Error(o),t)}catch{}}}}static isPerfLoggingActive(){return s.Jc}}return s.Be=!1,s.Jc=!1,s})();var ih=["id","class","style","srcset","sizes","rel","type","width","height","media","align","dir","bgcolor","color","border","colspan","rowspan","cols","rows","size","start","slot","data-cs-override-id"],jo=s=>{let i=new Set(ih);return csArray.prototype.forEach.call(s,t=>{i.add(t)}),i};function Li(s){return s?rh(s):null}function rh(s){try{let i=/^\/(.*)\/([gim]*)$/.exec(s);if(i){let[,t,e]=i;return new csRegExp(`^${t}$`,e)}return new csRegExp(`^${s}$`)}catch{return null}}var nh=/^\d+\.\d+(?:\.\d+)?$/,oh=s=>{if(!nh.test(s))return;let[i,t,e]=csArray.prototype.map.call(csString.prototype.split.call(s,"."),Number);return{major:i,minor:t,patch:!e||Number.isNaN(e)?0:e}},ah=(s,i)=>s.major!==i.major?s.major-i.major:s.minor!==i.minor?s.minor-i.minor:s.patch-i.patch,ch=(s,i)=>ah(s,i)>=0,lh=1,hh="f553e78fb58e051e51fe8074c4c6e73e",hr=(()=>{let s;return function(i){i[i.Disabled=0]="Disabled",i[i.ButtonAndLinkOnly=1]="ButtonAndLinkOnly",i[i.Enabled=2]="Enabled"}(s||(s={})),s})(),li=(()=>{let s;return function(i){i[i.Automatic=1]="Automatic",i[i.Manual=2]="Manual"}(s||(s={})),s})(),uh=(()=>{class s{constructor(t){var e,r,o,a,c,h,f,g,m,y,v,I,D,x,_;this.isChild=!1,this.useFastDOM=!!t.useFastDOM,this.isSMB=(e=t.isSMB)!==null&&e!==void 0?e:!1,this.trackerDomain=t.trackerDomain,this.dynamicConfDomain=t.dynamicConfDomain,this.settingsFileUri=t.settingsFileUri,this.tagDomain=t.tagDomain,this.loggerDomain=t.ed,this.minLogLevel=t.logLevel,this.projectId=t.projectId,this.smbConfig=t.smbConfig,this.status=t.status,this.hostnames=t.hostnames,this.iframesTracking=!!t.iframesTracking,this.crossDomainTracking=!!t.crossDomainTracking,this.crossDomainSingleIframeTracking=!!t.crossDomainSingleIframeTracking,this.consentRequired=!!t.consentRequired,this.allowSubdomains=!!t.allowSubdomains,this.visitorCookieTimeout=t.visitorCookieTimeout||Cr,this.sampleRate=t.sampleRate,this.replayRecordingRate=t.replayRecordingRate,this.validationRate=t.validationRate,this.lastTrackingDraw=t.lastTrackingDraw||1,this.useHttps=!0,this.eMerchandisingEnabled=t.eMerchandisingEnabled,this.jsErrorsEnabled=t.jsErrorsEnabled,this.collectionEnabled=!!(!((a=(r=t.collectionEnabled)!==null&&r!==void 0?r:(o=t.smbConfig)===null||o===void 0?void 0:o.record)!==null&&a!==void 0)||a),this.useSentry=!!((c=t.useSentry)!==null&&c!==void 0?c:!((h=t.smbConfig)===null||h===void 0)&&h.useSentry),this.apiErrors={enabled:(f=t.apiErrorsEnabled)!==null&&f!==void 0?f:0,...t.apiErrors},this.customErrors={enabled:(g=t.customErrorsEnabled)!==null&&g!==void 0?g:0,...t.customErrors},this.jsCustomErrorsEnabled=t.jsCustomErrorsEnabled,this.triggerSessionReplayEnabled=t.triggerSessionReplayEnabled,this.triggerSessionReplayRegex=Li(t.triggerSessionReplayRegex),this.dynamicIdRegex=t.dynamicIdRegex?new csRegExp(t.dynamicIdRegex):null,this.whitelistedAttributes=t.whitelistedAttributes||[],this.replayRecordingUnmaskedUrlRegex=Li(t.replayRecordingUnmaskedUrlRegex),this.replayRecordingMaskedUrlRegex=Li(t.replayRecordingMaskedUrlRegex),this.replayRecordingMaskedUrlRegexRules=t.replayRecordingMaskedUrlRegexRules||null,this.replayRecordingUnmaskedUrlRegexRules=t.replayRecordingUnmaskedUrlRegexRules||null,this.anonymisationMethod=t.anonymisationMethod||null,this.tagDeploymentMode=t.tagDeploymentMode,this.dualCollectionTagDomain=t.dualCollectionTagDomain||null,this.ptcDomain=t.ptcDomain||null,this.ptcGuid=t.ptcGuid||null,this.secureCookiesEnabled=!!t.secureCookiesEnabled,this.ptcSha512=t.ptcSha512||null,this.ptcSnapshotPath=t.ptcSnapshotPath||null,this.emitDebugEvents=!1,this.staticResourceManagerDomain=t.staticResourceManagerDomain||null,this.malkaRecordingDomain=t.malkaRecordingDomain||null,this.textVisibilityEnabled=t.textVisibilityEnabled,this.experimental=t.experimental||{},this.malkaEtrEnabled=!!t.malkaEtrEnabled,this.malkaUrlEnabled=!!t.malkaUrlEnabled,this.recordingUrlRules=(m=t.recordingUrlRules)!==null&&m!==void 0?m:[],this.cookielessTrackingEnabled=t.cookielessTrackingEnabled,this.customHashIdEnabled=!!t.customHashIdEnabled,this.encryptionEnabled=!!t.recordingEncryptionEnabled,this.encryptionPublicKey=t.recordingEncryptionPublicKey||null,this.pathComputationRules=t.pathComputationRules||{},t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex===""&&(this.pathComputationRules.dynamicElementNameRegex=null),t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex&&(this.pathComputationRules.dynamicElementNameRegex=new csRegExp(t.pathComputationRules.dynamicElementNameRegex)),this.asyncSerializerEnabled=!!t.asyncSerializerEnabled,this.encryptionPublicKeyId=t.recordingEncryptionPublicKeyId,this.pendingInactivityTimeout=t.pendingInactivityTimeout||5e3,this.accessibilityEnabled=!!t.accessibilityEnabled,this.useStaticResourceManager=!!t.useStaticResourceManager,t.taskSchedulerOptions&&(this.taskSchedulerOptions={...t.taskSchedulerOptions,enabled:!!t.taskSchedulerOptions.enabled}),this.uxaDomain=t.uxaDomain,this.environment=((y=t.uxaDomain)===null||y===void 0?void 0:y.indexOf("staging"))>-1?"staging":"production",this.performanceTimingOptions=t.performanceTimingOptions,this.replayConsentRequiredForSession=!!t.replayConsentRequiredForSession,this.isWebView=!1,t.displayAdOptions&&t.displayAdOptions.length&&(this.displayAdOptions=t.displayAdOptions),t.voc&&(this.voc={...t.voc,enabled:!!t.voc.enabled}),this.vocData=t.vocData,t.heapEnvironment&&(this.heapEnvironment=t.heapEnvironment),t.implementations&&t.implementations.length&&(this.implementations=t.implementations),this.eventsApiEnabled=!!t.eventsApiEnabled,this.anonymizeDigits=(v=t.anonymizeDigits)!==null&&v!==void 0?v:null,this.isHeapPresent=window.heap!==void 0,this.recordTargetingRules=(I=t.recordTargetingRules)!==null&&I!==void 0?I:[],this.paProxyDomainUri=t.paProxyDomainUri||null,this.emitRecordInfoEvents=t.emitRecordInfoEvents!==!1,this.collectHierarchy=!!t.collectHierarchy,this.collectSubmit=!!t.collectSubmit,this.collectTargetText=(D=t.collectTargetText)!==null&&D!==void 0?D:hr.Disabled,this.identityEncryptionKey=t.identityEncryptionKey||null,this.tagVerificationDomain=t.tagVerificationDomain,this.tagVerificationEnabled=!!t.tagVerificationEnabled,this.trackingCodeVerified=!!t.trackingCodeVerified,this.quotas=(x=t.quotas)!==null&&x!==void 0?x:null,this.startMode=(_=t.startMode)!==null&&_!==void 0?_:li.Automatic,this.customEnhancerConfig=t.customEnhancerConfig||null}getTrackerUri(){return`${this.ws()}://${this.trackerDomain}`}getSentryFileUri(){return`${this.ws()}://${this.tagDomain}/uxa/smb/errors.js`}getSentryDSNUri(){return`https://${hh}@${this.loggerDomain}/4508608369131520`}getRecordingUri(){return`${this.ws()}://${this.malkaRecordingDomain}`}getLoggerUri(){return`${this.ws()}://${this.loggerDomain}`}getMetricsUri(){return`${this.ws()}://${this.loggerDomain}/metrics`}getStaticResourceManagerUri(){return`${this.ws()}://${this.staticResourceManagerDomain}`}getVerificationEndpoint(){return`${this.ws()}://${this.tagVerificationDomain}`}getSettingsFileUri(){return this.settingsFileUri?this.settingsFileUri:`${this.ws()}://${this.dynamicConfDomain}/${this.projectId}.json`}isQuotaEnabled(){return this.isSMB||this.quotas!==null}getPaProxyDomainUri(){return`${this.ws()}://${this.paProxyDomainUri}`}ws(){return this.useHttps?"https":"http"}isProjectActive(){return this.status===lh}processOptionOverrides(t){t&&t.forEach&&t.forEach(([e,...r])=>{if(e==="setOption"){let[o,a]=r;this.qE(o,a)}})}qE(t,e){t==="trackerDomain"&&(this.trackerDomain=e),t==="loggerDomain"&&(this.loggerDomain=e),t==="malkaRecordingDomain"&&(this.malkaRecordingDomain=e),t==="staticResourceManagerDomain"&&(this.staticResourceManagerDomain=e),t==="minLogLevel"&&(this.minLogLevel=e),t==="useHttps"&&(this.useHttps=!!e),t==="isWebView"&&(this.isWebView=e),t==="dynamicConfDomain"&&(this.dynamicConfDomain=e),t==="paProxyDomainUri"&&(this.paProxyDomainUri=e),t==="startMode"&&Be(e)&&csArray.prototype.includes.call(Object.values(li),e)&&(this.startMode=e)}getRequestParameters(){return{pid:`${this.projectId}`}}updateDynamicFields(t,e){t==="emitDebugEvents"&&(this.emitDebugEvents=e),t==="minLogLevel"&&(this.minLogLevel=e)}isCsSideloadingHeap(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="cs_sideloads_heap"&&!this.isHeapPresent}isHeapSideloadsCs(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="heap_sideloads_cs"}isHeapSideloadsCsV5(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="heap_sideloads_cs"&&this.tf()}isHeapSideloadsStartDataCollection(){if(this.isHeapSideloadsCs()){if(this.tf())return!0;let t=oh(this.getHeapVersion()||"");if(t&&t.major===4&&ch(t,{major:4,minor:23,patch:5}))return!0}return!1}tf(){var t;return typeof((t=window.heap)===null||t===void 0?void 0:t.getUserId)=="function"}getHeapVersion(){var t,e,r,o,a,c;return typeof((t=window.heap)===null||t===void 0?void 0:t.getConfig)=="function"&&((o=(r=(e=window.heap)===null||e===void 0?void 0:e.getConfig())===null||r===void 0?void 0:r.sdk)===null||o===void 0?void 0:o.version)||((c=(a=window.heap)===null||a===void 0?void 0:a.version)===null||c===void 0?void 0:c.heapJsVersion)||void 0}isCsCrosswritingHeap(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="cs_crosswrites_heap"}getHeapStorageLocation(){var t,e;return(e=(t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_storage_location)!==null&&e!==void 0?e:null}getHeapWebAppUri(){return this.getHeapStorageLocation()==="eu-west-1"?"https://eu.heapanalytics.com":"https://heapanalytics.com"}isCollectTargetTextEnabled(){return this.isSMB||this.collectTargetText!==hr.Disabled}isNetworkDetailsEnabled(){return this.performanceTimingOptions?this.performanceTimingOptions.withResource||this.performanceTimingOptions.withNavigation:!1}hasRecordingUrlRules(){var t;return!!(!((t=this.recordingUrlRules)===null||t===void 0)&&t.length)}hasTargetingRules(){var t;return!!(!((t=this.recordTargetingRules)===null||t===void 0)&&t.length)}getHeapEnvId(){return this.heapEnvironment?this.heapEnvironment.env_id:""}}return s})(),dh=(()=>{class s{constructor(t,e){this.na=t,this.ef=e}init(){this.sf=this.na!==this.na.top,this.rf=this.ef.isWebView&&this.na===this.na.top,this.ef.iframesTracking&&this.sf||this.rf?this.nf=!1:this.nf=!0}isInIframeContext(){return this.sf}isTopWindowTracker(){return this.nf}isInWebViewContext(){return this.rf}}return s})();function Cn(){}function ur(s,i){return csString.prototype.lastIndexOf.call(s,i,0)===0}function fh(s,i){return csString.prototype.indexOf.call(s,i,s.length-i.length)!==-1}var Vr=(()=>{let s;return function(i){function t(e){return csArray.prototype.join.call(csArray.prototype.map.call(Object.keys(e),r=>`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`),"&")}i.toQuery=t}(s||(s={})),s})(),Ho=(()=>{class s{constructor(t,e){this.domainUri=t,this.path=e,this.beforeRequestCallbacks=[],this.afterRequestCallbacks=[]}setRequestParametersProviders(...t){this.requestParametersProviders=t}before(t){csArray.prototype.push.call(this.beforeRequestCallbacks,t)}after(t){csArray.prototype.push.call(this.afterRequestCallbacks,t)}retrieveParameters(){return this.requestParametersProviders?csArray.prototype.reduce.call(csArray.prototype.map.call(this.requestParametersProviders,t=>t.getRequestParameters()),(t,e)=>({...t,...e})):{}}}return s})(),ns=(()=>{class s extends Ho{constructor(t,e){super(t,e)}send(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,r=>r());let t=this.retrieveParameters();this.Qc(t);let e=Vr.toQuery(t);this.WE(e),csArray.prototype.forEach.call(this.afterRequestCallbacks,r=>r())}WE(t){let e=new window.Image(1,1);e.onload=Cn,e.onerror=Cn,csHTMLImageElementsrc.call(e,`${this.domainUri}${this.path?`/${this.path}`:""}?${t}`)}Qc(t){t.r=csString.prototype.slice.call(`${Math.random()}`,2,8)}}return s})();var ph=(()=>{class s{constructor(t,e){this.As=t,this.YE=e}init(){this.Ts=new ns(this.As.getLoggerUri()),this.Ts.setRequestParametersProviders(this,this.YE)}send(t){this.oa=t,this.Ts.send()}getRequestParameters(){return{a:this.oa.app,l:this.oa.level,m:this.oa.message,s:this.oa.stacktrace}}}return s})(),gh=/[a-zA-Z0-9._%+-]+(?:@|%40|%2540)[a-zA-Z0-9.%-_]+((?:\.|%2[eE])[a-zA-Z0-9-]+)+/g,mh=/[a-zA-Z0-9+_-](?:@|%40|%2540)/,yh="CS_ANONYMIZED_EMAIL",xi="([-A-Za-z0-9+/=_]|=[^=]|={3,})+",Eh=new csRegExp(`(ey${xi}\\.ey${xi}\\.${xi})`,"g"),Sh="CS_ANONYMIZED_JWT",vh=/[0-9]{4}/,_h=/(^|[^a-zA-Z0-9*.,-])([45*][0-9*]{3}([ -]?)[0-9*]{4}\3[0-9*]{4}\3[0-9*]{4})($|[^a-zA-Z0-9*.,-])/g,wh="CS_ANONYMIZED_PII",Ah="\u2022",Th=/\d/g,bh=/([+(]{0,2}\d[-_ ()/]{0,4}){9,}/,Rh=/(?:\d{1,3}\.){3}\d{1,3}/,Ch=/(?:[A-F0-9]{1,4}:){7}[A-F0-9]{1,4}/,pe=(()=>{let s;return function(i){function t(g){return csString.prototype.replace.call(g,gh,yh)}i.replaceEmail=t;function e(g){return csString.prototype.replace.call(g,Eh,Sh)}i.replaceJWT=e;function r(g,m){return csString.prototype.replace.call(g,_h,m)}i.replaceCreditCardNumber=r;function o(g){return csString.prototype.replace.call(g,Th,Ah)}i.replaceDigits=o;function a(g){return Rh.test(g)||Ch.test(g)}i.mayHaveIPAddress=a;function c(g){return bh.test(g)}i.mayHaveNumberSequence=c;function h(g){return vh.test(g)}i.mayHaveCreditCardNumber=h;function f(g){return mh.test(g)}i.mayHaveEmail=f}(s||(s={})),s})(),Rs=(()=>{class s{hasPII(t,e){let r=this.checkAndAnonymizePII(t,e);return t!==r}checkAndAnonymizePII(t,e=null){let r=this.XE(this.Zc(t));return e===!0?r=this.KE(r):e===!1&&(r=this.JE(r)),r}anonymizePII(t){return this.Zc(t)}anonymizeJwt(t){return pe.replaceJWT(t)}anonymizeFields(t,e){return csArray.prototype.forEach.call(e,r=>{t[r]=this.Zc(t[r])}),t}Zc(t){if(pe.mayHaveEmail(t)){let e=pe.replaceEmail(t);return e!==t&&V.counters.redactedPII.count("email"),e}return t}KE(t){return pe.replaceDigits(t)}JE(t){return pe.mayHaveNumberSequence(t)?pe.replaceDigits(t):t}XE(t){return pe.mayHaveCreditCardNumber(t)?pe.replaceCreditCardNumber(t,(e,r,o,a,c)=>{if(csString.prototype.indexOf.call(o,"*")===-1){let f=a.length?csArray.prototype.join.call(csString.prototype.split.call(o,a),""):o;if(!this.QE(f))return e;V.counters.redactedPII.count("cc")}else V.counters.redactedPII.count("cc-partial");return`${r}${wh}${c}`}):t}QE(t){let e=parseInt(t[t.length-1]),r=0;for(let o=t.length-2;o>=0;o--){let a=parseInt(t[o]);o%2===0&&(a*=2),r+=Math.floor(a/10)+a%10}return 10-r%10===e}}return s})(),Bo="15.154.4";function Ur(){return{v:Bo}}var Ih=(()=>{class s{constructor(t,e){this.E=t,this.M=e}getRequestParameters(){return{d:`${F.now()}`,p:this.M.anonymizePII(window.location.href),...this.E.getRequestParameters(),...Ur()}}}return s})(),Ph="uxa",In=5,Oh="No stacktrace",Fo="snippet-",Go="implementation-snippet-",Pn=(()=>{let s;return function(i){i.IMPLEMENTATION="implementation",i.DYNAMIC="dynamic"}(s||(s={})),s})(),Nh=(()=>{class s{constructor(t,e,r){this.bs=e,this.M=new Rs,this.of=Oi[Q.warn],this.of=Oi[t.minLogLevel||Q.warn],this.Ts=r||new ph(t,new Ih(t,this.M)),this.af={[Q.debug]:[],[Q.warn]:[],[Q.implementation]:[],[Q.error]:[],[Q.critical]:[]},this.aa={implementation:{},dynamic:{}},this.Ts.init()}send(t,e="",r=Q.warn){if(!this.ZE(r,e))return;csArray.prototype.push.call(this.af[r],e||"");let o={message:this.tS(t,e),stacktrace:this.eS(t),app:Ph,level:r};this.Ts.send(o)}tS(t,e){let r=te(t)?this.M.anonymizePII(t.message||t.toString()):t;return e&&(r+=` ErrorCode: ${e}`),r}eS(t){return te(t)?`${t.stack||Oh} ${this.dn()}`:this.dn()}dn(){let t=this.bs.getVisitorService(),e=t==null?void 0:t.getVisitor();if(!e)return"No context";let r=this.bs.getSessionService(),o=r&&r.getSession(),a={userId:e.id,sessionNumber:e.visitsCount,pageNumber:o&&o.pageNumber};return csJSON.stringify(a)}ZE(t,e){if(Oi[t]<this.of)return!1;if((e==null?void 0:csString.prototype.indexOf.call(e,Go,0))===0)return this.cf(e,Pn.IMPLEMENTATION);if((e==null?void 0:csString.prototype.indexOf.call(e,Fo,0))===0)return this.cf(e,Pn.DYNAMIC);let r=this.af[t];return r.length>=In?!1:!(e&&csArray.prototype.some.call(r,o=>o===e))}cf(t,e){return t in this.aa[e]?this.aa[e][t]>=In?!1:(this.aa[e][t]+=1,!0):(this.aa[e][t]=1,!0)}}return s})(),yt=!gi&&document.createElement("a"),Mh=/(:443|:80)$/;function Dh(s,i){return csArray.prototype.some.call(i,t=>Ir(s,`.${t}`)||s===t||t==="")}function kh(s){return s[0]==="/"?s:`/${s}`}function On(s){return csString.prototype.replace.call(s,Mh,"")}function $o(s){return!yt||!Dt(s,"http://")&&!Dt(s,"https://")?null:(yt.href=s,{hash:yt.hash,host:On(yt.host),hostname:yt.hostname,href:yt.href,origin:yt.origin?yt.origin:On(`${yt.protocol}//${yt.host}`),pathname:kh(yt.pathname),port:yt.port,protocol:yt.protocol,search:yt.search})}var ht=(()=>{let s;return function(i){i.Discovery="discovery",i.Stop="stop",i.RecordingContext="recordingContext",i.SensitiveStatus="sensitiveStatus",i.RecordingEvent="recordingEvent",i.EndOfBufferedMessages="endOfBufferedMessages",i.ChildLogMessage="childLogMessage",i.AnalysisEvent="analysisEvent",i.JavascriptError="javascriptError",i.ApiError="apiError",i.Assets="assets",i.DetailedApiError="detailedApiError",i.EmerchandisingMessage="emerchandisingMessage",i.Commands="commands",i.IntegrationCallback="integrationCallback",i.StaticResource="staticResource",i.TrackingContextResultMessage="trackingContextResultMessage",i.TrackingContextRequestMessage="trackingContextRequestMessage",i.CustomError="customError"}(s||(s={})),s})();var Lh=(()=>{class s{setContext(t,e){this.O=t,this.R=e}getVisitorService(){return this.O}getSessionService(){return this.R}}return s})(),dr=!1;function xh(){dr=!0}function Ee(){return(s,i,t)=>{if(t){let e=t.value;t.value=function(r,o){(r==null?void 0:r.isTrusted)===!1&&dr||e.call(this,r,o)}}else{let e=s[i];if(typeof e!="function")return;s[i]=function(r,...o){(r==null?void 0:r.isTrusted)===!1&&dr||e.call(this,r,o)}}}}function Vh(s){if(document!=null&&document.prerendering){document.addEventListener("prerenderingchange",s,{once:!0});return}s()}function W(s,i,t,e){var r=arguments.length,o=r<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,t):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,i,t,e);else for(var c=s.length-1;c>=0;c--)(a=s[c])&&(o=(r<3?a(o):r>3?a(i,t,o):a(i,t))||o);return r>3&&o&&Object.defineProperty(i,t,o),o}function Uh(){let s=new MutationObserver(i=>{i.forEach(t=>{Nt(t.removedNodes,e=>{e instanceof HTMLElement&&e.tagName==="CS-NATIVE-FRAME-HOLDER"&&(V.counters.pureWindowState.count("iframe-deletion"),rt.warn("<cs-native-frame-holder> deleted"),s.disconnect())})})});s.observe(document.body,{childList:!0})}function Nn(s){return typeof s!="function"?!1:s.toString().indexOf("[native code]")!==-1}function jh(){(!Nn(MutationObserver)||!Nn(MutationObserver.prototype.observe))&&V.counters.patchedNativeFunctions.count("MutationObserver")}function Hh(){try{window.CSPureWindow&&Uh(),jh()}catch{}}var et=(()=>{let s;return function(i){i.CURRENT_DOMAIN="CURRENT_DOMAIN";function t(h){let g=new csRegExp(`(^|;)[ ]*${h}=([^;]*)`).exec(document.cookie);return g?decodeURIComponent(g[2]):null}i.get=t;function e(h,f,g,m,y,v){let I=encodeURIComponent(`${f}`),D=g===i.CURRENT_DOMAIN?void 0:g,x=r(m),_=x?`;expires=${x.toUTCString()}`:"",w=";path=/",O=St(D)?`;domain=${D}`:"",C=`${h}=${I}${_}${w}${O}`;return X(y)&&y!==_e.NotSet&&(C=`${C};SameSite=${y}`),X(v)&&v===Ut.Yes&&(C=`${C};Secure`),document.cookie=C,!0}i.set=e;function r(h){return Ct(h)?new csDate(F.now()+h):h}i.toExpireDate=r;function o(h,f){t(h)&&e(h,"",f,new csDate(0)),t(h)&&e(h,"",f,new csDate(0),_e.None,Ut.Yes)}i.remove=o;function a(){return document.cookie.length>0}i.isCookiePresent=a;function c(h,f){let g="_cs_root-domain",m=t(g);if(m!==null&&m!=="1")return m;let y=csString.prototype.split.call(window.location.hostname,"."),v=csArray.prototype.pop.call(y);for(;y.length&&(m===null||m==="1");)v=csArray.prototype.join.call([csArray.prototype.pop.call(y),v],"."),e(g,v,v,void 0,h,f),m=t(g);return o(g,v),v}i.getRootDomain=c}(s||(s={})),s})(),Bh=(()=>{let s;return function(i){function t(){return window.navigator.vendor&&csString.prototype.indexOf.call(window.navigator.vendor,"Apple")>-1&&window.navigator.appVersion&&csString.prototype.indexOf.call(window.navigator.appVersion,"Version/12.")>-1}i.browserIsSafariV12=t}(s||(s={})),s})(),_e=(()=>{let s;return function(i){i.None="None",i.Lax="Lax",i.NotSet="X"}(s||(s={})),s})(),Ut=(()=>{let s;return function(i){i[i.Yes=1]="Yes",i[i.No=0]="No"}(s||(s={})),s})(),mi=(()=>{class s{constructor(t,e,r){this.E=t,this.C=e,this.Pi=r,this.tl=!1,this.lf=_e.NotSet,this.sl=Ut.No}getSameSiteFlag(){return this.lf}getSecureFlag(){return this.sl}getDomain(){return this.il}getRootDomain(){return this.hf}init(){if(this.E.cookielessTrackingEnabled)return;let t=this.sS(),e=this.iS();this.tl=this.rS(t,e),this.tl?(this.lf=t,this.sl=e):this.E.secureCookiesEnabled&&this.C.getUrlProtocol()==="https:"&&(this.sl=Ut.Yes),this.hf=this.nS(),this.il=this.oS(this.hf)}rS(t,e){return Bh.browserIsSafariV12()?!1:(et.set(s.COOKIE_TEST_FOR_SAME_SITE,"Test same site",s.CURRENT_DOMAIN,void 0,t,e),et.get(s.COOKIE_TEST_FOR_SAME_SITE)?(et.remove(s.COOKIE_TEST_FOR_SAME_SITE,s.CURRENT_DOMAIN),!0):!1)}sS(){return this.C.getUrlProtocol()==="http:"?_e.Lax:this.Pi.isSameSiteNoneSecureNeeded()||this.E.crossDomainTracking?_e.None:_e.Lax}iS(){return this.C.getUrlProtocol()==="http:"?Ut.No:this.E.secureCookiesEnabled||this.E.crossDomainTracking||this.Pi.isSameSiteNoneSecureNeeded()?Ut.Yes:Ut.No}isSameSiteSupported(){return this.tl}set(t,e,r,o){let a=et.toExpireDate(r),c=o?Ut.Yes:this.getSecureFlag();et.set(t,e,this.il,a,this.getSameSiteFlag(),c)}get(t){let r=new csRegExp(`(^|;)[ ]*${t}=([^;]*)`).exec(document.cookie);return r?decodeURIComponent(r[2]):null}delete(t,e){let r=e||this.il;et.remove(t,r)}nS(){let t=this.Pi.isSameSiteNoneSecureNeeded()&&this.isSameSiteSupported(),e=t?_e.None:void 0,r=t?Ut.Yes:void 0;return et.getRootDomain(e,r)}oS(t){return this.E.allowSubdomains?t:et.CURRENT_DOMAIN}}return s.CURRENT_DOMAIN="CURRENT_DOMAIN",s.COOKIE_TEST_FOR_SAME_SITE="_cs_same_site",s})(),ts="_cs_t",Mn="1",Fh=(()=>{class s{constructor(t,e){this.It=t,this.E=e,this.ca=!1,this.ha=!1}init(){if(!this.E.cookielessTrackingEnabled&&this.It.isTopWindowTracker()&&"cookie"in document){if(!this.It.isInIframeContext()&&et.isCookiePresent()){this.ca=!0,this.ha=!1;return}if(et.set(ts,Mn,et.CURRENT_DOMAIN),et.get(ts)!==null){this.ca=!0,this.ha=!1,et.remove(ts,et.CURRENT_DOMAIN);return}et.set(ts,Mn,et.CURRENT_DOMAIN,void 0,_e.None,Ut.Yes),et.get(ts)!==null&&(this.ca=!0,this.ha=!0,et.remove(ts,et.CURRENT_DOMAIN))}}areCookiesEnabled(){return this.ca}isSameSiteNoneSecureNeeded(){return this.ha}}return s})();function Gh(){let s="CSSessionStorageTest";try{return sessionStorage.setItem(s,s),sessionStorage.getItem(s)!==s?!1:(sessionStorage.removeItem(s),!0)}catch{return!1}}var $h=(()=>{class s{constructor(t,e){this.E=t,this.Pi=e}canTrack(){return this.E.isProjectActive()&&this.aS()&&this.uf()&&this.cS()}canTrackInChild(){return this.E.isProjectActive()&&this.lS()&&(this.uf()||this.hS())}cS(){return this.E.cookielessTrackingEnabled?Gh():this.Pi.areCookiesEnabled()}uf(){return Dh(window.location.hostname,this.E.hostnames)}aS(){return!this.df()&&this.uS()}lS(){return!this.df()&&this.dS()}hS(){return window.location.protocol==="about:"&&window.location.hostname===""}df(){return"visibilityState"in document&&document.visibilityState==="prerender"}uS(){return this.ff()&&this.fS()}dS(){return this.ff()}fS(){try{return!!window.localStorage}catch{return!1}}ff(){return"pageXOffset"in window&&"pageYOffset"in window&&"onpagehide"in window&&"JSON"in window&&"parse"in window.csJSON&&"stringify"in window.csJSON&&"addEventListener"in window&&"removeEventListener"in window&&"Node"in window&&"filter"in csArray.prototype&&"forEach"in csArray.prototype&&"querySelectorAll"in document&&"now"in csDate&&"keys"in Object&&"performance"in window&&"Map"in window&&"Set"in window}}return s})(),zo=":";function Dn(s){let i=[],t=zh(s),e=csString.prototype.split.call(t,"/");for(let r of e)Dt(r,zo)?csArray.prototype.push.call(i,{key:r,value:`CS_ANONYMIZED_${csString.prototype.toUpperCase.call(csString.prototype.slice.call(r,1))}`}):csArray.prototype.push.call(i,{key:r,value:null});return i}function zh(s){let i=s;return Dt(s,"/")&&(i=csString.prototype.substring.call(i,1)),Ir(s,"/")&&(i=csString.prototype.slice.call(i,0,-1)),i}var qh=/\b((?:profile|user|last|first|primary|primary(?:[/_+-]|%20)?last)(?:[/_+-]|%20)?(?:name)[/=])[^#;?&/]+/gi,Wh="$1CS_ANONYMIZED_NAME",Yh=(()=>{class s{constructor(t){this.M=t}anonymizeUrl(t,e={}){let r=e.maskingPatterns||[],o=e.partialMaskingPatterns||[],a=this.M.anonymizePII(t);if(a=this.M.anonymizeJwt(a),e.maskNames){let f=a;a=this.En(a),a!==f&&(V.counters.redactedPII.count("name"),V.counters.redactedPII.count("name-in-url"))}let c=this.pS(a,r);if(c!==a)return V.counters.redactedPII.count("url"),c;let h=this.gS(a,o);return h!==a&&V.counters.redactedPII.count("url"),h}removeQueryString(t){let{path:e,queryString:r}=this.rl(t);return r!==""?`${e}?`:e}rl(t){let e=csString.prototype.indexOf.call(t,"?"),r,o="";return e!==-1?(r=csString.prototype.slice.call(t,0,e),o=csString.prototype.slice.call(t,e,t.length)):r=t,{path:r,queryString:o}}pS(t,e){if(e.length===0)return t;let{path:r,queryString:o}=this.rl(t),a=csString.prototype.split.call(r,"/");for(let c of e){let h=this.mS(a,c);if(h!==null)return`${h}${o}`}return t}mS(t,e){if(t.length<e.length)return null;let r=[];for(let o=0;o<t.length;o++){let a=t[o];if(o>=e.length){csArray.prototype.push.call(r,a);continue}let c=e[o].key;if(this.pf(c)){let h=e[o].value;csArray.prototype.push.call(r,h);continue}if(a===c){csArray.prototype.push.call(r,a);continue}return null}return csArray.prototype.join.call(r,"/")}gS(t,e){if(e.length===0)return t;let{path:r,queryString:o}=this.rl(t),a=csString.prototype.split.call(r,"/");for(let c of e)a=this.yS(a,c);return`${csArray.prototype.join.call(a,"/")}${o}`}yS(t,e){let r=[],o=0,c=t[0]==="http:"||t[0]==="https:"?2:0;for(let h=0;h<t.length;h++){let f=t[h],g=e[o].key;if(this.pf(g)&&h>=c){let m=e[o].value;csArray.prototype.push.call(r,f.length>0?m:""),o++,o===e.length&&(o=0);continue}if(f===g){csArray.prototype.push.call(r,f),o++,o===e.length&&(o=0);continue}for(let m=0;m<o;m++){let y=h-o+m;r[y]=t[y]}o=0,csArray.prototype.push.call(r,f)}for(let h=0;h<o;h++){let f=t.length-o+h;r[f]=t[f]}return r}pf(t){return Dt(t,zo)}En(t){return csString.prototype.replace.call(t,qh,Wh)}}return s})(),Xh="spki",kn="RSA-OAEP",Kh="SHA-256",Ln="AES-CTR",Jh="SHA-1",xn=190,gs=(()=>{let s;return function(i){var t;let e=!1,r=null,o,a=typeof TextEncoder!="undefined"?new TextEncoder:null,c;i.crypto=(t=tt.crypto)===null||t===void 0?void 0:t.subtle,i.MAX_DIGEST_INPUT_SIZE=100;function h(){return!e}i.isKeyImported=h;function f(){return r}i.getCryptoKey=f;function g(){var C,T;return((T=(C=tt.self.crypto)===null||C===void 0?void 0:C.subtle)===null||T===void 0?void 0:T.encrypt)!=null&&tt.self.CryptoKey!=null}i.isSupported=g;async function m(C){o=i.crypto.importKey(Xh,tl(C),{name:kn,hash:Kh},!1,["encrypt"]).catch(()=>(e=!0,null)),r=await o,o=void 0,r||rt.warn(`Fail to import public key '${C}'`)}i.importKey=m;async function y(C){if(!g()||e)return null;await o;let T=So(C);T.byteLength>xn&&(T=T.slice(0,xn));try{let k=await i.crypto.encrypt({name:kn},r,T);return fn(k)}catch{return null}}i.asymmetricEncrypt=y;async function v(C,T){if(!g()||e)return null;let k={counter:T.initializationVector,name:Ln,length:64},Y=a.encode(C);try{let J=await i.crypto.encrypt(k,T.cryptoKey,Y);return fn(J)}catch{return null}}i.symmetricEncrypt=v;async function I(C){let T=await D(C);if(!T)throw new Error("Export secret failed");let k=await y(T);if(!k)throw new Error("Encrypt secret failed");return k}i.encryptSecret=I;async function D(C){var T;if(!g())return null;try{return(T=(await i.crypto.exportKey("jwk",C)).k)!==null&&T!==void 0?T:null}catch{return null}}async function x(){if(!g()||e)return null;try{return{cryptoKey:await i.crypto.generateKey({name:Ln,length:128},!0,["encrypt","decrypt"]),initializationVector:tt.crypto.getRandomValues(new Uint8Array(16))}}catch{return null}}i.generateSymmetricKey=x;function _(C){c=C}i.setDigestSalt=_;async function w(C){C=csString.prototype.toLocaleLowerCase.call(csString.prototype.trim.call(C)),c&&(C=`${C}:${c}`);let T=a.encode(C);try{let k=await i.crypto.digest(Jh,T);return el(k)}catch{return null}}i.digest=w;function O(){return tt.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"])}i.generateKeyPair=O}(s||(s={})),s})(),Yt=(()=>{let s;return function(i){i.REGEX="regex",i.START="start",i.NOT_START="not-start",i.END="end",i.NOT_END="not-end",i.CONTAIN="contain",i.NOT_CONTAIN="not-contain",i.EXACT="exact",i.NOT_EXACT="not-exact"}(s||(s={})),s})(),ge=(()=>{let s;return function(i){i.START="start",i.NOT_START="not-start",i.END="end",i.NOT_END="not-end",i.CONTAIN="contain",i.NOT_CONTAIN="not-contain",i.EXACT="exact",i.NOT_EXACT="not-exact"}(s||(s={})),s})(),Me=(()=>{let s;return function(i){i.replayRecordingUnmaskedUrlRegex="replayRecordingUnmaskedUrlRegex",i.replayRecordingMaskedUrlRegex="replayRecordingMaskedUrlRegex",i.replayRecordingUnmaskedUrlRegexRules="replayRecordingUnmaskedUrlRegexRules",i.replayRecordingMaskedUrlRegexRules="replayRecordingMaskedUrlRegexRules"}(s||(s={})),s})(),jr=(()=>{class s{constructor(){this.nl=[]}setRegexRules(t){this.nl=csArray.prototype.filter.call(csArray.prototype.map.call(t,e=>this.ES(e)),e=>e!==null)}evaluateUrl(t){return csArray.prototype.some.call(this.nl,e=>this.gf(t,e))}getMatchingRules(t){return csArray.prototype.map.call(csArray.prototype.filter.call(this.nl,e=>this.gf(t,e)),e=>e.ruleInput)}gf(t,e){var r,o;let a=this.SS(t,e);return!this.vS(e)||!this._S(e)?!1:!!(e!=null&&e.notOperator?!(!((r=e.regex)===null||r===void 0)&&r.test(a)):!((o=e.regex)===null||o===void 0)&&o.test(a))}vS(t){let e=new csDate,r=t.startDate&&t.startDate>e,o=t.endDate&&t.endDate<e;return!r&&!o}_S(t){let e=t.samplingRate!==100,r=e&&Ge.boolean(t.samplingRate);return!e||r}ua(t){return!Dt(t,"http://")&&!Dt(t,"https://")?`https://${t}`:t}SS(t,e){let r=$o(this.ua(t));return r?e.ignoreQueryParams&&e.ignoreURIFragments?`${r.origin}${r.pathname}`:e.ignoreQueryParams?`${r.origin}${r.pathname}${r.hash}`:e.ignoreURIFragments?`${r.origin}${r.pathname}${r.search}`:t:t}da(t){return t!=null&&t.ignoreCaseSensitivity?"i":""}ES(t){let e=null,r=!1;switch(t.operator){case ge.NOT_START:case Yt.NOT_START:r=!0;case ge.START:case Yt.START:e=new csRegExp(`^${t.value}`,this.da(t));break;case ge.NOT_END:case Yt.NOT_END:r=!0;case ge.END:case Yt.END:e=new csRegExp(`${t.value}$`,this.da(t));break;case ge.NOT_CONTAIN:case Yt.NOT_CONTAIN:r=!0;case ge.CONTAIN:case Yt.CONTAIN:case Yt.REGEX:e=new csRegExp(`${t.value}`,this.da(t));break;case ge.NOT_EXACT:case Yt.NOT_EXACT:r=!0;case ge.EXACT:case Yt.EXACT:e=new csRegExp(`^${t.value}$`,this.da(t));break;default:rt.warn(`compileRegexRule, unknown operator: ${t.operator}`)}if(e===null)return null;let o=t.startDate?this.mf(t.startDate):void 0,a=t.endDate?this.mf(t.endDate):void 0;return{regex:e,ignoreQueryParams:t.ignoreQueryParams,ignoreURIFragments:t.ignoreURIFragments,notOperator:r,samplingRate:t.samplingRate!==void 0?t.samplingRate:100,startDate:o,endDate:a,ruleInput:t}}mf(t){let e=new csDate(t);return isNaN(e.getTime())?void 0:e}}return s})(),Hr=(()=>{class s{constructor(){this.listeners=[]}addListener(t){csArray.prototype.push.call(this.listeners,t)}}return s})(),ms="|iframe|",Qh=(()=>{class s extends Hr{constructor(t,e,r,o){super(),this.wS=t,this.AS=e,this.TS=r,this.bS=o}emitIframeEvent(t,e,r){if(this.RS(e)&&t===null){j.error(`iframeEventEmitter received event ${e} with null iframe, content:${csJSON.stringify(r)}`);return}switch(e){case ht.ChildLogMessage:this.CS(r);break;case ht.AnalysisEvent:{let o=r,a=this.wS.transformEvent(t,o);a.isUserEvent?this.IS(a.event):this.PS(a.event);break}case ht.RecordingEvent:{let o=r,a=this.bS.transformEvents(t,o);if(a.events.length===0)return;a.containsUserEvent?this.OS(a.events):this.NS(a.events);break}case ht.JavascriptError:this.MS(r);break;case ht.ApiError:this.DS(r);break;case ht.DetailedApiError:this.kS(r);break;case ht.CustomError:this.LS(r);break;case ht.EmerchandisingMessage:{let o=this.TS.transformEvent(t,r);this.xS(o);break}case ht.Commands:{let o=this.AS.transformEvent(t,r);this.VS(o);break}case ht.IntegrationCallback:this.US(r);break;case ht.StaticResource:this.jS(r);break;case ht.TrackingContextRequestMessage:this.HS(r);break;default:j.error(`Parent received unknown data type from iframe : ${csJSON.stringify(r)}`)}}RS(t){let e=[ht.AnalysisEvent,ht.RecordingEvent,ht.EmerchandisingMessage,ht.Commands];return csArray.prototype.indexOf.call(e,t)!==-1}CS(t){let{message:e,errorCode:r,level:o}=t;switch(o){case Q.debug:j.debug(e,r);break;case Q.warn:j.warn(e,!0,r);break;case Q.implementation:j.implementation(e,r);break;case Q.error:j.error(e,r);break;case Q.critical:j.critical(e,r);break}}IS(t){for(let e of this.listeners)e.onIframeAnalysisUserEvent&&e.onIframeAnalysisUserEvent(t)}PS(t){for(let e of this.listeners)e.onIframeAnalysisBrowserEvent&&e.onIframeAnalysisBrowserEvent(t)}OS(t){for(let e of this.listeners)e.onIframeRecordingUserEvent&&e.onIframeRecordingUserEvent(t)}NS(t){for(let e of this.listeners)e.onIframeRecordingBrowserEvent&&e.onIframeRecordingBrowserEvent(t)}MS(t){for(let e of this.listeners)e.onIframeJavascriptError&&e.onIframeJavascriptError(t)}DS(t){for(let e of this.listeners)e.onIframeApiError&&e.onIframeApiError(t)}kS(t){for(let e of this.listeners)e.onIframeDetailedApiError&&e.onIframeDetailedApiError(t)}xS(t){for(let e of this.listeners)e.onIframeEmerchandisingMessage&&e.onIframeEmerchandisingMessage(t)}VS(t){for(let e of this.listeners)e.onIframeCommands&&e.onIframeCommands(t)}US(t){for(let e of this.listeners)e.onIframeIntegrationCallback&&e.onIframeIntegrationCallback(t)}jS(t){for(let e of this.listeners)e.onIframeStaticResource&&e.onIframeStaticResource(t)}HS(t){for(let e of this.listeners)e.onTrackingContextRequestCallback&&e.onTrackingContextRequestCallback(t)}LS(t){for(let e of this.listeners)e.onIframeCustomError&&e.onIframeCustomError(t)}}return s})(),U=(()=>{let s;return function(i){i[i.RESIZE=0]="RESIZE",i[i.SCROLL=1]="SCROLL",i[i.MOUSEMOVE=2]="MOUSEMOVE",i[i.MOUSEDOWN=3]="MOUSEDOWN",i[i.MOUSEUP=4]="MOUSEUP",i[i.CLICK=5]="CLICK",i[i.MOUSEOVER=6]="MOUSEOVER",i[i.MOUSEOUT=7]="MOUSEOUT",i[i.CHANGE=10]="CHANGE",i[i.FOCUSIN=11]="FOCUSIN",i[i.FOCUSOUT=12]="FOCUSOUT",i[i.TAP=14]="TAP",i[i.KEYDOWN=15]="KEYDOWN",i[i.KEYUP=16]="KEYUP",i[i.COMMAND=17]="COMMAND",i[i.SUBMIT_COMMAND=18]="SUBMIT_COMMAND",i[i.PERFORMANCE=19]="PERFORMANCE",i[i.DRAG=20]="DRAG",i[i.FLICK=21]="FLICK",i[i.KEYBOARD_NAVIGATION=22]="KEYBOARD_NAVIGATION",i[i.ZOOM=23]="ZOOM",i[i.VIEWPORT_SCALE=24]="VIEWPORT_SCALE",i[i.TEXT_HIGHLIGHT=25]="TEXT_HIGHLIGHT",i[i.DEAD_CLICK=30]="DEAD_CLICK",i[i.DEAD_ZOOM=31]="DEAD_ZOOM",i[i.PAGE_RELOAD=32]="PAGE_RELOAD",i[i.THRASHED_CURSOR=33]="THRASHED_CURSOR",i[i.BLANK_PAGE=34]="BLANK_PAGE",i[i.EXTERNAL_EVENT=35]="EXTERNAL_EVENT",i[i.SUBMIT=36]="SUBMIT",i[i.CUSTOM_EVENT=37]="CUSTOM_EVENT"}(s||(s={})),s})(),Vi=(()=>{let s;return function(i){i.SUCCESS="success",i.FAILURE="failure",i.ATTEMPT="attempt"}(s||(s={})),s})(),we=(()=>{let s;return function(i){i.APPCUES="appcues",i.CHAMELEON="chameleon",i.CONTENTSQUARE="contentsquare",i.SEGMENT="segment",i.WEB="web"}(s||(s={})),s})();function Zh(s){return s.tgtHM!==void 0}function qo(s){return s.tgt!==void 0}function tu(s){return s.tgtLk!==void 0}function eu(s){return s.x!==void 0&&s.y!==void 0}function su(s){return s===Vi.SUCCESS||s===Vi.FAILURE||s===Vi.ATTEMPT}function iu(s){return s===we.APPCUES||s===we.CHAMELEON||s===we.CONTENTSQUARE||s===we.SEGMENT||s===we.WEB}var ru=Math.pow(2,31);function nu(s,i=0){let h=i>>>0,f=s.length;for(let v=0;v<f-3;v+=4){let I=(csString.prototype.charCodeAt.call(s,v)&255|(csString.prototype.charCodeAt.call(s,v+1)&255)<<8|(csString.prototype.charCodeAt.call(s,v+2)&255)<<16|(csString.prototype.charCodeAt.call(s,v+3)&255)<<24)>>>0;I=Math.imul(I,3432918353),I=I<<15|I>>>17,I=Math.imul(I,461845907),h^=I,h=h<<13|h>>>19,h=Math.imul(h,5)+3864292196}let g=0,m=f&3,y=f-m;switch(m){case 3:g^=(csString.prototype.charCodeAt.call(s,y+2)&255)<<16;case 2:g^=(csString.prototype.charCodeAt.call(s,y+1)&255)<<8;case 1:g^=csString.prototype.charCodeAt.call(s,y)&255,g=Math.imul(g,3432918353),g=g<<15|g>>>17,g=Math.imul(g,461845907),h^=g}return h^=f,h^=h>>>16,h=Math.imul(h,2246822507),h^=h>>>13,h=Math.imul(h,3266489909),h^=h>>>16,h>>>0}function Wo(s){return nu(s)+ru>>>0}var ou=(()=>{class s{constructor(t,e,r){this.J=t,this.yf=e,this.Ef=r}transformEvent(t,e){this.BS(t,e.event);let r=this.J.getElementPath(t);return this.FS(r,e.event),this.GS(e.event),e}BS(t,e){if(eu(e)){let r=t.getBoundingClientRect();e.x=Math.round(r.left+e.x+gt.windowOffsetX()),e.y=Math.round(r.top+e.y+gt.windowOffsetY())}}FS(t,e){qo(e)&&(e.tgt=`${t}${ms}${e.tgt}`),Zh(e)&&(e.tgtHM=`${t}${ms}${e.tgtHM}`,this.yf||(e.tgtHMH=Wo(e.tgtHM))),tu(e)&&(e.tgtLk=`${t}${ms}${e.tgtLk}`)}GS(t){!this.yf&&this.Ef&&this.Ef.enhanceAnalysisEvent(null,t)}}return s})(),au=(()=>{class s{constructor(t){this.J=t}transformEvent(t,e){let r=this.J.getElementPath(t);return{iframePath:e.iframePath?`${r}${ms}${e.iframePath}`:r,commands:e.commands}}}return s})(),cu=(()=>{class s{constructor(t){this.J=t}transformEvent(t,e){if(e.products.length===0)return e;let r=this.J.getElementPath(t),o=csArray.prototype.map.call(e.products,a=>({...a,targetPath:`${r}${ms}${a.targetPath}`}));return{...e,products:o}}}return s})(),lu=1,Vn=csSymbol("nodeIdentifier");function Yo(s){let i=s[Vn];return i!=null?i:s[Vn]=lu++}var De=(()=>{let s;return function(i){i[i.MUTATION_INSERT=1]="MUTATION_INSERT",i[i.MUTATION_REMOVE=2]="MUTATION_REMOVE",i[i.MUTATION_ATTRIBUTE=3]="MUTATION_ATTRIBUTE",i[i.MUTATION_CHARACTER_DATA=4]="MUTATION_CHARACTER_DATA",i[i.INITIAL_DOM=5]="INITIAL_DOM",i[i.SCROLL=6]="SCROLL",i[i.CLICK=8]="CLICK",i[i.RESIZE=9]="RESIZE",i[i.INPUT_CHECKABLE=10]="INPUT_CHECKABLE",i[i.INPUT_SELECT=11]="INPUT_SELECT",i[i.INPUT_TEXT=12]="INPUT_TEXT",i[i.HASH_CHANGE=13]="HASH_CHANGE",i[i.UNANONYMIZED_CONSENT_GRANTED=14]="UNANONYMIZED_CONSENT_GRANTED",i[i.UNANONYMIZED_CONSENT_WITHDRAWN=15]="UNANONYMIZED_CONSENT_WITHDRAWN",i[i.MOUSE_OVER=16]="MOUSE_OVER",i[i.VISIBILITY_CHANGE=17]="VISIBILITY_CHANGE",i[i.STYLESHEET_RULE_INSERT=18]="STYLESHEET_RULE_INSERT",i[i.STATIC_RESOURCE_URL=19]="STATIC_RESOURCE_URL",i[i.PERFORMANCE_TIMINGS=20]="PERFORMANCE_TIMINGS",i[i.ATTACH_SHADOW=22]="ATTACH_SHADOW",i[i.STYLESHEET_CSS_TEXT_UPDATE=23]="STYLESHEET_CSS_TEXT_UPDATE",i[i.JAVASCRIPT_ERROR=26]="JAVASCRIPT_ERROR",i[i.PAGE_EVENT=27]="PAGE_EVENT",i[i.API_ERROR=28]="API_ERROR",i[i.TEXT_VISIBILITY=29]="TEXT_VISIBILITY",i[i.MUTATION_ENCRYPTED_CHARACTER_DATA=30]="MUTATION_ENCRYPTED_CHARACTER_DATA",i[i.INPUT_ENCRYPTED_TEXT=31]="INPUT_ENCRYPTED_TEXT",i[i.KEY_DOWN=32]="KEY_DOWN",i[i.KEY_UP=33]="KEY_UP",i[i.CLIPBOARD_COMMAND=34]="CLIPBOARD_COMMAND",i[i.STYLESHEET_RULE_DELETE=37]="STYLESHEET_RULE_DELETE",i[i.USER_IDENTIFIER=38]="USER_IDENTIFIER",i[i.TOUCH_START=41]="TOUCH_START",i[i.TOUCH_MOVE=42]="TOUCH_MOVE",i[i.TOUCH_END=43]="TOUCH_END",i[i.GESTURE_RECOGNITION=44]="GESTURE_RECOGNITION",i[i.POINTER_DOWN=47]="POINTER_DOWN",i[i.POINTER_MOVE=48]="POINTER_MOVE",i[i.POINTER_UP=49]="POINTER_UP",i[i.CUSTOM_ERROR=50]="CUSTOM_ERROR",i[i.CUSTOM_ELEMENT_REGISTRATION=54]="CUSTOM_ELEMENT_REGISTRATION",i[i.REGISTER_ADOPTED_STYLE_SHEET=60]="REGISTER_ADOPTED_STYLE_SHEET",i[i.SET_ADOPTED_STYLE_SHEETS=61]="SET_ADOPTED_STYLE_SHEETS",i[i.ADOPTED_STYLESHEET_RULE_INSERT=62]="ADOPTED_STYLESHEET_RULE_INSERT",i[i.ADOPTED_STYLESHEET_RULE_DELETE=63]="ADOPTED_STYLESHEET_RULE_DELETE",i[i.SCREEN_RESIZE=65]="SCREEN_RESIZE",i[i.RESOURCE_HASHES=66]="RESOURCE_HASHES",i[i.PERFORMANCE_NAVIGATION_TIMING=67]="PERFORMANCE_NAVIGATION_TIMING",i[i.PERFORMANCE_RESOURCE_TIMING=68]="PERFORMANCE_RESOURCE_TIMING",i[i.RECORDING_INFO_EVENT=72]="RECORDING_INFO_EVENT",i[i.TEXT_REF=73]="TEXT_REF",i[i.TOUCH_CANCEL=74]="TOUCH_CANCEL",i[i.MUTATION_MOVE=75]="MUTATION_MOVE",i[i.STYLESHEET_RULE_UPDATE=76]="STYLESHEET_RULE_UPDATE",i[i.ADOPTED_STYLESHEET_RULE_UPDATE=77]="ADOPTED_STYLESHEET_RULE_UPDATE",i[i.VIDEO_PLAY=78]="VIDEO_PLAY",i[i.VIDEO_PAUSE=79]="VIDEO_PAUSE",i[i.VIDEO_SEEK=80]="VIDEO_SEEK",i[i.ADOPTED_STYLESHEET_DISABLED=98]="ADOPTED_STYLESHEET_DISABLED",i[i.STYLESHEET_DISABLED=99]="STYLESHEET_DISABLED",i[i.DOM_INITIAL_STATE=102]="DOM_INITIAL_STATE",i[i.DOM_PATCH_STATE=103]="DOM_PATCH_STATE",i[i.DEBUG=999]="DEBUG"}(s||(s={})),s})();var hu=(()=>{class s{constructor(){this.$S={clientX:2,clientY:3},this.zS={clientX:1,clientY:2},this.qS=[De.POINTER_DOWN,De.POINTER_MOVE,De.POINTER_UP],this.WS=[De.TOUCH_START,De.TOUCH_MOVE,De.TOUCH_END]}transformEvents(t,e){if(!rs.isConnected(t))return e.events=csArray.prototype.filter.call(e.events,c=>c.type!==De.VISIBILITY_CHANGE),e.events.length===0||(j.warn(`IframeRecordingEventsTransformer received event ${ht.RecordingEvent}
        from disconnected iframe, content:${csJSON.stringify(e.events)}`),e.events=[]),e;let r=Yo(t),o=null;csArray.prototype.some.call(e.events,c=>this.Sf(c)||this.vf(c))&&(o=t.getBoundingClientRect());for(let c of e.events)this.Sf(c)?this.YS(o,c):this.vf(c)&&this.XS(o,c),c.context=c.context&&c.context.length>0?`${r}/${c.context}`:`${r}`;return e}XS(t,e){this._f(this.zS,t,e)}YS(t,e){this._f(this.$S,t,e)}_f(t,e,r){r.args&&(r.args[t.clientX]=Math.round(e.left+r.args[t.clientX]),r.args[t.clientY]=Math.round(e.top+r.args[t.clientY]))}Sf(t){return csArray.prototype.indexOf.call(this.qS,t.type)!==-1}vf(t){return csArray.prototype.indexOf.call(this.WS,t.type)!==-1}}return s})(),uu=(()=>{class s{constructor(t,e){this.S=t,this.Tt=e}init(){this.Tt.addListener(this.S)}onOptout(){this.S.stop()}onBeforeSessionRenewal(){this.S.stop()}}return s})(),ut=(()=>{class s extends Error{constructor(t,e){let r=e?`Command misuse: ${t} - ${e}`:`Command misuse: ${t}`;super(r),this.name="MisusedCommandError"}}return s})();var kt=(()=>{class s{constructor(){this._isStarted=!1}get isStarted(){return this._isStarted}start(...t){this._isStarted||(this._isStarted=!0,this.onStart(...t))}stop(){this._isStarted&&(this._isStarted=!1,this.onStop())}restart(){this.stop(),this.start()}}return s})(),du=(()=>{let s;return function(i){i.UXA="_uxa",i.WVT="cs_wvt"}(s||(s={})),s})(),fu=(()=>{class s extends kt{constructor(t){super(),this.ol=t,this.as={}}register(t,e,r){for(let o of t){let a=(...c)=>{try{let h=e(...c);return V.counters.commandApplied.count(o),h}catch(h){h instanceof ut?(V.counters.commandMisuse.count(o),j.warn(`Misused Command: ${o}; Args: ${csJSON.stringify(c)}; Error: ${te(h)?h.stack:h}`)):(V.counters.commandError.count(o),j.error(`Command Error - ${o}: ${te(h)?h.stack:h}`))}};this.as[o]={callback:a,configuration:r},this.as}}onStart(){this.KS(),this.JS()}onStop(){for(let t of this.ol)window[t]=[]}applyFromIntegration(t,e,r){this.wf(t,e,`Commands.apply.from.integration: ${r}`),V.counters.commandsFromIntegrations.count(t)}applyFromImplementation(t,e,r){this.wf(t,e,`Commands.apply.from.implementation: ${r}`),V.counters.commandsFromCSTC.count(t)}onIframeCommands(t){for(let e of t.commands)this.QS(e.name,e.params,t.iframePath),V.counters.commandsFromIframe.count(e.name)}wf(t,e,r){if(!this.isStarted){window._uxa.push([t,...e]);return}j.tryToExecute(r,()=>{if(this.as[t])return this.as[t].callback(...e)})()}QS(t,e,r){j.tryToExecute(`Commands.apply.from.iframe: ${r}`,()=>{if(this.as[t])return this.as[t].callback(...e)})()}KS(){for(let t of this.ol)window[t].forEach(([e,...r])=>this.Af(e,r,!1))}JS(){for(let t of this.ol)window[t]={push:([e,...r])=>this.Af(e,r,!0)}}Af(t,e,r){var o,a;if(this.as[t]){if(((o=this.as[t].configuration)===null||o===void 0?void 0:o.disableApplyPending)&&!r||((a=this.as[t].configuration)===null||a===void 0?void 0:a.disableApplyImmediate)&&r)return;try{return this.as[t].callback(...e)}catch(h){j.error(`Command ${t} failed - params: ${csJSON.stringify(e)}`,h)}}}}return s})(),pu=(()=>{class s extends Hr{emitPageEvent(t){for(let e of this.listeners)e.onPageEvent&&e.onPageEvent(t)}emitEventTriggerRecording(t,e){for(let r of this.listeners)r.onEventTriggerRecording&&r.onEventTriggerRecording(t,e)}emitCustomJavaScriptErrorEvent(t){for(let e of this.listeners)e.onCustomJavaScriptErrorEvent&&e.onCustomJavaScriptErrorEvent(t)}emitCustomErrorEvent(t){for(let e of this.listeners)e.onCustomErrorEvent&&e.onCustomErrorEvent(t)}emitUserIdentifierEvent(t){for(let e of this.listeners)e.onUserIdentifierEvent&&e.onUserIdentifierEvent(t)}emitExternalEvent(t){for(let e of this.listeners)e.onExternalEvent&&e.onExternalEvent({type:U.EXTERNAL_EVENT,name:t,ts:0})}emitTargetingRulesArtificialPageview(t){for(let e of this.listeners)e.onTargetingRulesArtificialPageview&&e.onTargetingRulesArtificialPageview(t)}}return s})();function gu(s){return csNodenodeType.apply(s)===1}function Ae(s){let i=csEventtarget.apply(s);return i&&gu(i)&&csElementshadowRoot.apply(i)&&s.composedPath?s.__csOriginalTarget||s.composedPath()[0]:i}function mu(s){return s.composedPath&&Object.defineProperty(s,"__csOriginalTarget",{value:s.composedPath()[0],writable:!1,enumerable:!1}),s}var yu=["class","data-com.agilebits.onepassword.initial-value","data-com.onepassword.iv","data-ember-action","data-initial-value","data-previous-value","data-react-checksum","data-reactid","id","maxlength","onclick","onsubmit","style"],Eu=1024,Su=1024,Ui;function ei(s){if(Ui||(Ui=document.createElement("div")),!(!!s&&H(s)))return rt.warn(`isValidSelector: invalid selector provided '${s}'`),!1;try{return Bt.call(Ui,s),!0}catch{return rt.warn(`isValidSelector: invalid selector provided '${s}'`),!1}}function fr(s,i){if(Tn)return Tn.call(s,i);let t=s;do{if(Bt.call(t,i))return t;t=t==null?void 0:t.parentElement}while(t!==null&&csNodenodeType.apply(t)===1);return null}function vu(s){let i=null;return t=>t?i=t:i||(i=s())}var es=vu(()=>new WeakMap),ji=(()=>{let s;return function(i){function t(c){return es().get(c)}i.getAll=t;function e(c,h){var f;return(f=es().get(c))===null||f===void 0?void 0:f[h]}i.get=e;function r(c,h,f){let g=es().get(c);g||es().set(c,g={}),g[h]=f}i.set=r;function o(c,h){let f=es().get(c);f&&delete f[h]}i.remove=o;function a(){es(new WeakMap)}i.reset=a}(s||(s={})),s})(),it=(()=>{let s;return function(i){function t(h,f,g){var m;if(typeof Node!="undefined"&&h instanceof Node)ji.set(h,f,g);else{let y=h;(m=y.props)!==null&&m!==void 0||(y.props={}),y.props[f]=g}}i.setProperty=t;function e(h,f){var g;return typeof Node!="undefined"&&h instanceof Node?ji.get(h,f):(g=h.props)===null||g===void 0?void 0:g[f]}i.getProperty=e;function r(h){return typeof Node!="undefined"&&h instanceof Node?ji.getAll(h):h.props}i.getProperties=r;function o(h,f){let g=null;return a(h,(m,y,v)=>f(m)&&(g=m)&&!!v()),g}i.findDescendant=o;function a(h,f){c(h,void 0,f)}i.traverse=a;function c(h,f,g){let m=!1;if(g(h,f,()=>m=!0),m)return;let v=h.shadowRoot;v&&c(v,h,g);let I=h.children;if(I!=null&&I.length){for(let D of I)if(D&&(c(D,h,g),m))break}}}(s||(s={})),s})(),B=(()=>{let s;return function(i){let t;(function(_){_[_.NotMasked=0]="NotMasked",_[_.Parent=1]="Parent",_[_.Child=2]="Child"})(t=i.MaskedElementState||(i.MaskedElementState={})),i.maskedProp="masked",i.maskedAttributeProp="maskedAttribute";function e(_){return Es(_)&&"Attributes"in _&&"PIISelectors"in _?_.Attributes instanceof Array&&_.PIISelectors instanceof Array:!1}i.isSelectorUserInput=e;function r(_){if(!Es(_)||_===null)throw new ut("setPIISelectors");return"Attributes"in _||(_.Attributes=[]),"PIISelectors"in _||(_.PIISelectors=[]),_}i.sanitizeSelectorUserInput=r;function o(_){var w,O,C;return"nodeType"in _?(w=it.getProperty(_,i.maskedProp))!==null&&w!==void 0?w:{state:t.NotMasked}:(C=(O=_.metadata)===null||O===void 0?void 0:O[i.maskedProp])!==null&&C!==void 0?C:{state:t.NotMasked}}i.getMaskedElementDetails=o;function a(_){var w,O,C;return"nodeType"in _?(w=it.getProperty(_,i.maskedAttributeProp))!==null&&w!==void 0?w:{attributes:[]}:(C=(O=_.metadata)===null||O===void 0?void 0:O[i.maskedAttributeProp])!==null&&C!==void 0?C:{attributes:[]}}i.getMaskedAttributeDetails=a;function c(_){let w=it.getProperty(_,i.maskedProp);return(w==null?void 0:w.state)===t.Parent}i.isMaskedElement=c;function h(_){let w=it.getProperty(_,i.maskedProp);return(w==null?void 0:w.state)===t.Child}i.isMaskedElementChild=h;function f(_,w){let O=it.getProperty(_,i.maskedAttributeProp);return((O==null?void 0:O.attributes)==null?void 0:csArray.prototype.indexOf.call(O==null?void 0:O.attributes,w))>-1}i.isMaskedAttribute=f;function g(_,w){it.setProperty(_,i.maskedProp,w)}i.setMaskedElementProperty=g;function m(_){it.setProperty(_,i.maskedProp,void 0)}i.unsetMaskedElementProperty=m;function y(_,w){it.setProperty(_,i.maskedAttributeProp,w)}i.setMaskedAttributeProperty=y;function v(_,w){let O=csArray.prototype.filter.call(_.PIISelectors,k=>ei(k));w.elementSelector.length>0&&csArray.prototype.push.call(O,...csString.prototype.split.call(w.elementSelector,","));let C=x([...O]),T={elementSelector:csArray.prototype.join.call(C,","),attrSelector:w.attrSelector,attrSelectors:w.attrSelectors};return csArray.prototype.forEach.call(_.Attributes,k=>{k!=null&&k.attrName&&(k!=null&&k.selector)&&ei(k.selector)&&!I(T.attrSelectors,k)&&csArray.prototype.push.call(T.attrSelectors,k)}),T.attrSelector=D(T.attrSelectors),T}i.getComputedSelectorSettings=v;function I(_,w){return csArray.prototype.some.call(_,O=>O.selector===w.selector&&O.attrName===w.attrName)}function D(_){let w="";return csArray.prototype.forEach.call(_,O=>{let C=csString.prototype.split.call(O.selector,",");csArray.prototype.forEach.call(C,T=>{ei(T)&&(w&&(w+=","),w+=T)})}),w}function x(_){if(_.length<=1)return _;let w=[];for(let O of _){let C=csString.prototype.split.call(O,",");for(let T of C)csArray.prototype.indexOf.call(w,T)===-1&&csArray.prototype.push.call(w,T)}return w}}(s||(s={})),s})(),_u=(()=>{class s{constructor(t,e){this.pt=t,this.E=e}getEventTargetPathAndHierarchy(t,e){let r=Ae(t),o={isNodeSensitive(a){return B.isMaskedElement(a)||B.isMaskedElementChild(a)},isAttributeSensitive(a,c){return B.isMaskedAttribute(a,c)},allWhitelistedAttributes:jo(this.E.whitelistedAttributes),attributeIgnoreTokens:yu,useAnonymization:e,attrMaxLength:Su,hierarchyMaxLength:Eu};return this.pt.getElementPathAndHierarchy(r,o,{dynamicIdRegex:this.E.dynamicIdRegex,...this.E.pathComputationRules})}getEventTargetPath(t){let e=Ae(t);return this.pt.getElementPath(e,{dynamicIdRegex:this.E.dynamicIdRegex,...this.E.pathComputationRules})}getEventTargetPathAndTargetLink(t){let e=Ae(t),{path:r,firstAnchorParent:o}=this.pt.getElementPathAndFirstAnchorParent(e,{dynamicIdRegex:this.E.dynamicIdRegex,...this.E.pathComputationRules}),a=this.ZS(o)?o.href:"";return{path:r,targetLink:a}}hasValidEventTarget(t){let e=Ae(t);return this.pt.isValidElement(e)}getElementPath(t){return this.pt.getElementPath(t,{dynamicIdRegex:this.E.dynamicIdRegex,...this.E.pathComputationRules})}ZS(t){var e;return t!==null&&t.hasAttribute("href")&&!ur((e=t.getAttribute("href"))!==null&&e!==void 0?e:"","#")}}return s})();function Br(s,i){typeof i=="number"&&(i={wait:i});let t=i.wait,e=i.mode||"leading",r,o=[],a=null,c=0,h,f=()=>{c=F.now(),a=null,h=s.apply(r,o),o=[],r=null},g=function(...m){if(r=this!==null&&this!==void 0?this:tt,o=[...m],e==="trailing")return a||(a=tt.csSetTimeout(f,t)),h;let y=F.now(),v=t-(y-c);return v<=0||v>t?(c=y,h=s.apply(r,o),a?(tt.csClearTimeout(a),a=null):o=[]):a||(a=tt.csSetTimeout(f,v)),h};return g.cancel=()=>{a&&(tt.csClearTimeout(a),c=0,a=null,o=[])},g.flushPending=()=>{a&&(tt.csClearTimeout(a),f())},g}var Xo=s=>(i,t,e)=>{e.value=Br(e.value,s)};var hi=".",Fr="__DOT__",wu=/^(([a-z0-9\-])+(\.[0-9]+){6})(\.[0-1])?(\.\b(x|[0-9a-fA-F]{12})\b)?$/,Ko="x";function Au(s){let[i,t,e,r,o,a,c,h,f]=Iu(s);return{id:i,creationTimestamp:Number(t),visitsCount:Number(e),hitTimestamp:Number(r),lastVisitTimestamp:Number(o),appliedTrackingDraw:Number(a),expires:Number(c),allowSubdomains:h===void 0?void 0:!!Number(h),identityPrint:f===void 0||f===Ko?null:f}}function Tu(s){var i;return csArray.prototype.join.call(csArray.prototype.map.call(csArray.prototype.map.call([s.id,s.creationTimestamp,s.visitsCount,s.hitTimestamp,s.lastVisitTimestamp,s.appliedTrackingDraw,s.expires,s.allowSubdomains?1:0,(i=s.identityPrint)!==null&&i!==void 0?i:Ko],csString),Ru),hi)}function bu(s){return wu.test(s)}function Ru(s){return csString.prototype.replace.call(s,/\./g,Fr)}function Cu(s){return csString.prototype.replace.call(s,new csRegExp(Fr,"g"),hi)}function Iu(s){return csString.prototype.indexOf.call(s,Fr)!==-1?csArray.prototype.map.call(csString.prototype.split.call(s,hi),Cu):csString.prototype.split.call(s,hi)}var R=(()=>{let s;return function(i){i.QUOTA_REACHED="X",i.RECORDING_RULES_TARGETING="8",i.ANALYTICS_ONLY_RULES_TARGETING="9",i.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING="P",i.ANALYTICS_ONLY="0",i.RECORDING_GLOBAL_SAMPLING="5",i.RECORDING_TEMPORARILY="T",i.RECORDING_URL_SAMPLING="6",i.RECORDING_ETR_SAMPLING="7",i.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED="B",i.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN="W"}(s||(s={})),s})();function Pu(s){return s===R.RECORDING_GLOBAL_SAMPLING||s===R.RECORDING_RULES_TARGETING||s===R.RECORDING_URL_SAMPLING||s===R.RECORDING_ETR_SAMPLING}var Ou={[R.RECORDING_RULES_TARGETING]:R.RECORDING_GLOBAL_SAMPLING},jt=(()=>{let s;return function(i){i.ETR_OFF="0",i.ETR_ON="1"}(s||(s={})),s})(),Hi=(()=>{let s;return function(i){i.ETR_LEGACY="0",i.ETR_SESSION="1",i.ETR_PAGE="2"}(s||(s={})),s})(),Jo=(()=>{let s;return function(i){i.ETR_DISABLED="0",i.ETR_PENDING="1",i.ETR_SAVED_PAGE="2",i.ETR_SAVED_SESSION="3",i.ETR_NOT_SAVED_SESSION="9"}(s||(s={})),s})(),pr=(()=>{let s;return function(i){i.UNNECESSARY="U",i.NOT_EXPRESSED="N",i.WITHDRAWN="W",i.GRANTED="G"}(s||(s={})),s})();var Nu=(()=>{let s;return function(i){i.ETR_DISABLED="0",i.ETR_PENDING="1",i.ETR_SAVED_PAGE="2",i.ETR_SAVED_SESSION="3",i.ETR_NOT_SAVED_SESSION="9"}(s||(s={})),s})(),Qo=/^(\d+\.[01356789TBWXP](\.[01UNWG])?(\.[39])?)(\.\d+)?$/,Zo=".";function Mu(s){return csArray.prototype.join.call([s.pageNumber,s.collectState,s.replayConsent,s.etrStatus],Zo)}function Du(s){if(!Gr(s))return null;let i=gr(s);return i!==null?ta(i):null}function ta(s){var i,t;let[e,r,o,a]=csString.prototype.split.call(s,Zo);return{collectState:r,replayConsent:(i=o)!==null&&i!==void 0?i:pr.UNNECESSARY,etrStatus:(t=a)!==null&&t!==void 0?t:Nu.ETR_NOT_SAVED_SESSION,pageNumber:parseInt(e,10)}}function Gr(s){return Qo.test(s)}function gr(s){if(!s)return null;let i=(()=>{var t;return(t=csString.prototype.match.call(s,Qo))===null||t===void 0?void 0:t[1]})();return i!=null?i:null}var Xt="_cs_ex",Un=2592e6,ku=/^[0-9]+$/,Lu=(()=>{class s{constructor(t,e,r){this.E=t,this.N=e,this.K=r}onCookieToSet(t){this.Oi=t}onCookieToRemove(t){this.Ni=t}get(){return this.E.cookielessTrackingEnabled?Number(this.K.getItem(Xt)):Number(this.N.get(Xt))}set(t){var e;this.E.cookielessTrackingEnabled?this.K.setItem(Xt,t):(this.N.set(Xt,t,Un),(e=this.Oi)===null||e===void 0||e.call(this,Xt,t,Un))}remove(){var t;this.E.cookielessTrackingEnabled?this.K.removeItem(Xt):(this.N.delete(Xt),(t=this.Ni)===null||t===void 0||t.call(this,Xt))}static isValidExclusionString(t){return ku.test(t)}}return s})(),me="_cs_cvars",xu=(()=>{class s{constructor(t,e,r){this.E=t,this.N=e,this.K=r}onCookieToSet(t){this.Oi=t}onCookieToRemove(t){this.Ni=t}get(){return this.E.cookielessTrackingEnabled?this.K.getItem(me):this.N.get(me)}set(t){var e;this.E.cookielessTrackingEnabled?this.K.setItem(me,t):(this.N.set(me,t),(e=this.Oi)===null||e===void 0||e.call(this,me,t))}remove(){var t;this.E.cookielessTrackingEnabled?this.K.removeItem(me):(this.N.delete(me),(t=this.Ni)===null||t===void 0||t.call(this,me))}static isValidCustomVarString(t){return typeof t=="string"}}return s})();var Vu=(()=>{class s{constructor(t,e,r,o,a,c,h){this.w=t,this.S=e,this.pl=r,this.gl=o,this.cs=a,this.av=c,this._n=h}start(){this.w.addListener(this.av),this.w.addListener(this._n),this.w.addListener(this.pl),this._n.init(),this.gl.init(),this.cs.init(),!this.cs.isActive()&&this.S.start()}}return s})(),Uu=(()=>{class s{constructor(t){this.Rs=t}onOptout(){this.Rs.removeExclusion()}}return s})(),ju=(()=>{class s{constructor(t,e){this.Lt=t,this.ft=e}exclude(t){this.ft.set(csString(t.lastTrackingDraw))}removeExclusion(){this.ft.remove()}isExcluded(){return this.cv()||this.lv()}cv(){return this.getAppliedTrackingDraw()!==0}getAppliedTrackingDraw(){return this.ft.get()}lv(){return csString.prototype.indexOf.call(this.Lt.href,Xt)>0}}return s})(),Hu=["excludeURLforReplay"],Bu=(()=>{class s{constructor(t,e){this.Rs=t,this.S=e}init(){this.S.register(Hu,t=>{if(H(t))this.Rs.setExcludeUrlForSessionReplay(t);else throw new ut("excludeURLforReplay")})}}return s})(),Bi=(()=>{let s;return function(i){i.SessionReplay="SR",i.None=""}(s||(s={})),s})(),Fu=".^",Gu=".*",$u=(()=>{class s{constructor(t){this.C=t,this.ml=new csRegExp(`${Fu}`)}setExcludeUrlForSessionReplay(t){try{this.ml=new csRegExp(t)}catch{j.warn(`excludeURLforReplay - invalid regex '${t}'`),this.ml=new csRegExp(`${Gu}`)}}Df(){return this.ml.test(this.C.getAnonymizedUrl())?Bi.SessionReplay:Bi.None}isUrlExcludedForSessionReplay(){return this.Df()===Bi.SessionReplay}getRequestParameters(){return{ex:this.Df()}}}return s})();var{toString:jg}=Object.prototype;function ea(s,i){if(typeof s!="function"||i!=null&&typeof i!="function")throw new TypeError("Expected a function");let t=function(...e){let r=i?i.apply(this,e):e[0],{cache:o}=t;if(o.has(r))return o.get(r);let a=s.apply(this,e);return t.cache=o.set(r,a)||o,a};return t.cache=new(ea.Cache||Map),t}ea.Cache=Map;var{hasOwnProperty:Hg}=Object.prototype;var ui=(()=>{class s{constructor(...t){this.Vf=t}addProvider(t){csArray.prototype.push.call(this.Vf,t)}getRequestParameters(){return csArray.prototype.reduce.call(this.Vf,(t,e)=>({...e.getRequestParameters(),...t}),{})}}return s})(),zu=window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage||window.navigator.systemLanguage||"unknown";function qu(){return{la:zu}}var Ve=(()=>{let s;return function(i){i.Artificial="a",i.Renewal="r",i.Natural="n"}(s||(s={})),s})(),je=(()=>{let s;return function(i){i.Natural="Natural",i.Artificial="Artificial",i.Renewal="Renewal"}(s||(s={})),s})(),Wu=(()=>{class s extends kt{constructor(t,e,r,o,a,c){super(),this.E=t,this.w=e,this.Z=r,this.bl=o,this.C=a,this.ls=c,this.ga=null}init(){this.vv()}onStart(t=je.Natural){switch(t){case je.Natural:this._v();break;case je.Artificial:this.wv();break;case je.Renewal:this.Av();break}}onStop(){}triggerArtificialPageView(t,e){this.isStarted?(this.w.emitArtificialPageViewEnd(),this.Rl(t,e)):(St(t)&&this.C.overridePath(t,e),this.Z.emitTargetingRulesArtificialPageview(this.C.getUrl()),this.E.hasTargetingRules()&&this.C.cleanupOverrideLifespan())}_v(){this.ls.setPageViewType(Ve.Natural);let t=this.C.getAnonymizedUrl();this.w.emitBeforeNaturalPageView(t),this.bl.send(),this.C.cleanupOverrideLifespan(),this.w.emitAfterNaturalPageView(Ve.Natural),this.ga=t}Av(){this.ls.setPageViewType(Ve.Renewal);let t=this.C.getAnonymizedUrl();this.w.emitBeforeNaturalPageView(t),this.bl.send(),this.w.emitAfterNaturalPageView(Ve.Renewal),this.ga=t}Rl(t,e,r=!1){St(t)&&this.C.overridePath(t,e);let o=this.C.getAnonymizedUrl();this.w.emitBeforeArtificialPageView(this.ga,o),this.ls.setPageViewType(Ve.Artificial),this.bl.send(),this.C.cleanupOverrideLifespan(),this.w.emitAfterArtificialPageView(r),this.ga=o}wv(){this.Rl(null,void 0,!0)}vv(){window.addEventListener("pageshow",t=>{this.isStarted&&t.persisted&&(this.w.emitArtificialPageViewEnd(),this.Rl())})}}return s})(),Yu=(()=>{class s{constructor(){this.Cl=Ve.Natural}setPageViewType(t){this.Cl=t}getPageViewType(){return this.Cl}getRequestParameters(){return{pvt:this.Cl}}}return s})();var Xu=99999,Ku=(()=>{class s{constructor(t){this.R=t,this.Tv=this.bv()&&window.CSCurrentScript}Rv(){let t=window.CSCurrentScript;if(!t)return null;let e=window.performance.getEntriesByName(t.src,"resource")[0];return!e||this.Cv(e)?null:Math.round(e.responseEnd-e.fetchStart)}Cv(t){let e=t.transferSize;return e!==void 0?e===0||e===300||e<t.encodedBodySize:t.connectStart===t.domainLookupEnd}getRequestParameters(){if(!this.Tv||this.Iv()!==1)return{};let t=this.Rv();return t===null?{}:{dt:`${Math.min(t,Xu)}`}}Iv(){var t;return((t=this.R.getSession())===null||t===void 0?void 0:t.pageNumber)||null}bv(){return typeof window.performance=="object"&&typeof window.performance.getEntriesByName=="function"}}return s})(),Ju=["trackPageview"],jn=["setPath"],Hn=["setQuery"],Bn=["referrer:maskUrl"],Qu=["referrer:removeQueryString"],Zu=["referrer:keepQueryString"],Fi=s=>Es(s)&&s!==null,td=(s,i,t,e)=>{s.register(Ju,(r,o)=>{if(!H(r)){i.triggerArtificialPageView();return}Fi(o)?i.triggerArtificialPageView(r,o):i.triggerArtificialPageView(r)}),s.register(jn,(r,o)=>{if(!H(r))throw new ut(jn[0]);Fi(o)?t.overridePath(r,o):t.overridePath(r)}),s.register(Hn,(r,o)=>{if(!H(r))throw new ut(Hn[0]);Fi(o)?t.overrideQuery(r,o):t.overrideQuery(r)}),e&&(s.register(Bn,r=>{if(!H(r))throw new ut(Bn[0]);e.addUrlMaskingPattern(r)}),s.register(Qu,()=>e.enableRemoveQueryString()),s.register(Zu,()=>e.disableRemoveQueryString()))};var ed=(()=>{class s{constructor(t,e,r,o,a,c,h,f,g,m,y,v,I,D,x){this.E=t,this.S=e,this.w=r,this.Le=o,this.O=a,this.R=c,this.Ps=h,this.bt=f,this.Et=g,this.C=m,this.ee=y,this.ls=v,this.Z=I,this.Fe=D,this.fr=x}init(){let t=new ns(this.E.getTrackerUri(),"pageview");this.Is=new Wu(this.E,this.w,this.Z,t,this.C,this.ls),this.Is.init();let e=new ui(this.Le,this.O,gt,this.Ps,this.C,this.bt,br,this.Et,this.ls,new Ku(this.R),this.ee);this.Fe&&e.addProvider(this.Fe),this.fr&&e.addProvider(this.fr);let r=this.E.isCsCrosswritingHeap();if(r||this.E.isCsSideloadingHeap()||this.E.isHeapSideloadsCs()){let o=this.E.getHeapEnvId()||void 0;e.addProvider({getRequestParameters(){let a={cw:r?"1":"2"};return o&&(a.happid=o),a}})}t.setRequestParametersProviders(e),td(this.S,this.Is,this.C,this.Ps)}start(t){this.Is.start(t)}stop(){this.Is.stop()}onBeforeSessionRenewal(){this.Is.stop()}}return s})();var sa=["setCustomVariable"],sd=(()=>{class s{constructor(t,e){this.S=t,this.Et=e}init(){this.S.register(sa,(t,e,r,o)=>{this.Et.set(t,e,r,o)})}onAfterArtificialPageView(){this.Et.deleteNextPageOnlyCustomVariables()}onAfterNaturalPageView(){this.Et.deleteNextPageOnlyCustomVariables()}onOptout(){this.Et.removeCustomVariablesSession()}onBeforeVisitorRenewal(){this.Et.removeCustomVariablesSession(),this.Et.removeCustomVariablesPage()}}return s})();var id=["setEncryptionSelectors"],ia=["setPIISelectors"],rd=["setCapturedElementsSelector"],nd=(()=>{class s{constructor(t,e,r,o,a,c,h){this.w=t,this.S=e,this.lt=r,this.se=o,this.qt=a,this.ht=c,this.pr=h}init(){var t,e;this.pr&&this.ht&&((t=this.pr)===null||t===void 0||t.addSelector((e=this.ht)===null||e===void 0?void 0:e.getEncryptionSelectors())),this.ut()}onStartTracking(t){this.se.start(),this.w.emitSensitiveStatusChange()}onBeforeArtificialPageView(){this.se.stop(),this.w.emitSensitiveStatusChange()}onAfterArtificialPageView(){this.se.start(),this.w.emitSensitiveStatusChange()}onBeforeSessionRenewal(){this.se.stop(),this.w.emitSensitiveStatusChange()}onOptout(){this.se.stop(),this.w.emitSensitiveStatusChange()}onReplayUnanonymizationConsentGranted(){this.w.emitSensitiveStatusChange()}onReplayUnanonymizationConsentWithdrawn(){this.w.emitSensitiveStatusChange()}ut(){this.S.register(ia,t=>{this.lt.setMaskedElementSettingsFromCommand(t),this.w.emitSensitiveStatusChange()}),this.S.register(rd,t=>{this.qt.setWhitelistedElementsSelector(t),this.w.emitSensitiveStatusChange()}),this.S.register(id,t=>{var e,r;(e=this.ht)===null||e===void 0||e.setEncryptionSelectors(t),(r=this.pr)===null||r===void 0||r.addSelector(t)})}}return s})();var od=512,ad=255,Gi=(()=>{class s{constructor(t,e){this.key=csString.prototype.slice.call(t,0,od),this.value=H(e)?csString.prototype.slice.call(e,0,ad):e}static isKeyValid(t){return H(t)}static isValueValid(t){return H(t)||Be(t)}}return s})(),cd=(()=>{class s extends kt{constructor(t,e){super(),this.Wt=t,this.M=e,this.Il=[]}onStart(){csArray.prototype.forEach.call(this.Il,t=>this.Uf(t.key,t.value)),this.Il=[]}onStop(){}Uf(t,e){let r=this.M.anonymizePII(t),o=Be(e)?e:this.M.anonymizePII(e);this.Wt.add(new Gi(r,o))}trackDynamicVariable(t,e){if(Gi.isKeyValid(t)&&Gi.isValueValid(e)){if(!this.isStarted){csArray.prototype.push.call(this.Il,{key:t,value:e});return}this.Uf(t,e)}else throw new ut(ra[0])}}return s})(),ld=(()=>{class s{constructor(t){this.de=t,this.Wt=[]}add(t){csArray.prototype.push.call(this.Wt,t),this.setBatchReadyCall()}clear(){this.Wt=[]}onBatchReady(t){this.Pv=t}getRequestParameters(){let t={};for(let e of this.Wt)t[e.key]=e.value;return{dv:this.de.compressSync(csJSON.stringify(t),"base64"),ct:this.de.algorithm}}setBatchReadyCall(){this.Pv()}}return W([Xo({wait:0,mode:"trailing"}),z("dynamicVariablesBatchReady")],s.prototype,"setBatchReadyCall",null),s})(),hd="dvar",ra=["trackDynamicVariable"],ud=(()=>{class s{constructor(t,e,r,o,a,c){this.S=t,this.R=e,this.E=r,this.Le=o,this.de=a,this.M=c,this.Ts=new ns(this.E.getTrackerUri(),hd),this.Wt=new ld(this.de),this.Rs=new cd(this.Wt,this.M)}init(){this.Ts.setRequestParametersProviders(this.Le,this.Wt),this.R.setDynamicVariablesService(this.Rs),this.Wt.onBatchReady(()=>this.Ts.send()),this.Ts.after(()=>this.Wt.clear()),this.S.register(ra,({key:t,value:e}={})=>{this.Rs.trackDynamicVariable(t,e)})}onStartTracking(){this.Rs.start()}onArtificialPageViewEnd(t){t&&this.Rs.stop()}onAfterArtificialPageView(t){t&&this.Rs.start()}}return s})();var na=100,dd=100,fd=(()=>{class s extends kt{constructor(t,e){super(),this.Nv=t,this.G=e,this.Te=null,this.Pl=[]}onStart(){csArray.prototype.forEach.call(this.Pl,t=>{this.Te=t,this.jf()}),this.Pl=[]}onStop(){}addToCart(t){let e={};H(t.sku)&&(e.sku=csString.prototype.slice.call(t.sku,0,dd)),H(t.merchant)&&(e.merchant=csString.prototype.slice.call(t.merchant,0,na)),(e.sku||e.merchant)&&(this.Te=e,this.jf())}getCartItem(){return this.Te}jf(){if(!this.isStarted&&this.Te!==null){csArray.prototype.push.call(this.Pl,this.Te),this.clear();return}this.G.refreshSession(),this.G.isSessionValid()&&this.Nv.send()}clear(){this.Te=null}getRequestParameters(){if(!this.Te)return{};let t={};return H(this.Te.sku)&&this.Te.sku.length>0&&(t.sku=this.Te.sku),H(this.Te.merchant)&&this.Te.merchant.length>0&&(t.me=this.Te.merchant),t}}return s})(),Fn=(()=>{class s{constructor(t,e){this.id=t,this.revenue=e}static from(t){let e=new s(t.id,parseFloat(t.revenue));return isNaN(parseFloat(t.tax))||(e.tax=parseFloat(t.tax)),isNaN(parseFloat(t.shipping))||(e.shipping=parseFloat(t.shipping)),H(t.currency)&&t.currency.length<=10&&(e.currency=t.currency),e}hasValidRevenue(){return!isNaN(this.revenue)&&this.revenue>=0}static isValid(t){return St(t)&&Ct(t.revenue)&&H(t.currency)&&t.currency.length<=10&&(!St(t.id)||H(t.id))}}return s})(),pd=(()=>{class s{constructor(t,e,r,o){this.id=t,this.name=e,this.price=r,this.quantity=o}static from(t){if(!s.Ol(t))return null;let e=new s(t.id,t.name,parseFloat(t.price),parseInt(t.quantity,10));return X(t.sku)&&(e.sku=t.sku),X(t.category)&&(e.category=t.category),X(t.merchant)&&t.merchant.length>0&&(e.merchant=t.merchant.slice(0,na)),e}static Ol(t){return St(t)&&H(t.id)&&H(t.name)&&Ct(parseFloat(t.price))&&Be(parseInt(t.quantity,10))&&(!X(t.sku)||H(t.sku))&&(!X(t.category)||H(t.category))&&(!X(t.merchant)||H(t.merchant))}}return s})(),gd=(()=>{class s extends kt{constructor(t,e,r){super(),this.M=t,this.Hf=e,this.G=r,this.Nl=[],this.clear()}onStart(){csArray.prototype.forEach.call(this.Nl,t=>{this.fe=t.transaction,this.An=t.transactionItems,this.sendTransaction()}),this.Nl=[]}onStop(){}addTransaction(t){let e=this.M.anonymizeFields(t,["id"]);this.fe=Fn.from(e)}getTransaction(){return this.fe}sendTransaction(){if(!this.isStarted){csArray.prototype.push.call(this.Nl,{transaction:this.fe,transactionItems:[...this.An]}),this.clear();return}if(!(this.Hf===null||this.G===null)&&(this.G.refreshSession(),!!this.G.isSessionValid())){if(!this.fe.hasValidRevenue()){j.warn("Transaction Service: unable to send transaction with invalid parameters");return}this.Hf.send()}}addItem(t){if(Fe(t))throw new ut(oa[1]);let e=this.M.anonymizeFields(t,["id","name","sku","category"]),r=pd.from(e);r!==null&&csArray.prototype.push.call(this.An,r)}getItems(){return this.An}clear(){this.fe=Fn.from({revenue:NaN}),this.An=[]}getRequestParameters(){let t={id:this.fe.id?`${this.fe.id}`:"",revenue:`${this.fe.revenue}`};return X(this.fe.tax)&&(t.tax=`${this.fe.tax}`),X(this.fe.shipping)&&(t.shipping=`${this.fe.shipping}`),X(this.fe.currency)&&(t.cu=`${this.fe.currency}`),t.items=window.csJSON.stringify(this.An),t}}return s})(),md=["ecommerce:addToCart","ec:cart:add"],yd=["ecommerce:addTransaction","ec:transaction:create"],oa=["ecommerce:addItem","ec:transaction:items:add"],Ed=["ecommerce:send","ec:transaction:send"],Sd=(()=>{class s{constructor(t,e,r,o,a,c,h){this.E=t,this.St=e,this.O=r,this.S=o,this.M=a,this.G=c,this.C=h}init(){let t=new ns(this.E.getTrackerUri(),"transaction"),e=new ns(this.E.getTrackerUri(),"addtocart");this.xe=new gd(this.M,t,this.G),this.gr=new fd(e,this.G);let r=new ui(this.St,this.O,this.C,this.xe);t.setRequestParametersProviders(r),t.after(()=>{this.xe.clear()});let o=new ui(this.St,this.O,this.C,this.gr);e.setRequestParametersProviders(o),e.after(()=>{this.gr.clear()}),this.S.register(yd,a=>{this.xe.addTransaction(a)}),this.S.register(oa,a=>this.xe.addItem(a)),this.S.register(Ed,()=>this.xe.sendTransaction()),this.S.register(md,a=>{this.gr.addToCart(a)})}onStartTracking(){this.xe.start(),this.gr.start()}onArtificialPageViewEnd(t){t&&(this.xe.stop(),this.gr.stop())}onAfterArtificialPageView(t){t&&(this.xe.start(),this.gr.start())}}return s})();var ze;(function(s){s.ContentSquare="CONTENTSQUARE",s.LoadedByClicktale="LOADED_BY_CLICKTALE",s.LoadClicktalePtc="LOAD_CLICKTALE_PTC",s.DualCollectionReview="DUAL_COLLECTION_REVIEW",s.DualCollection="DUAL_COLLECTION",s.ContentSquareTagClickTaleEndpoints="CONTENTSQUARE_TAG_CLICKTALE_ENDPOINTS"})(ze||(ze={}));var Gn=(()=>{let s;return function(i){function t(){return window.ClickTaleIsRecording&&window.ClickTaleIsRecording()}i.isRecording=t;function e(){window.ClickTaleStop&&window.ClickTaleStop()}i.stopRecording=e;function r(c){window.ClickTaleLogicalWithUploadPage&&window.ClickTaleLogicalWithUploadPage(c)}i.triggerLogicalPageView=r;function o(c){window.ClickTaleEvent&&window.ClickTaleEvent(c)}i.sendPageEvent=o;function a(c){window.ClickTaleEventTrigger&&window.ClickTaleEventTrigger(c)}i.sendEventTriggerRecording=a}(s||(s={})),s})();function mr(s){return s.tagDeploymentMode===ze.DualCollectionReview||s.tagDeploymentMode===ze.DualCollection}function vd(s){return mr(s)||s.tagDeploymentMode===ze.LoadClicktalePtc}var _d="@ETP@",$n="@user-identifier@",wd=(()=>{class s extends kt{constructor(t,e,r,o){super(),this.E=t,this.kv=e,this.de=r,this.Z=o,this.Ml=[],this.Mi=[]}onStart(){csArray.prototype.forEach.call(this.Ml,t=>this.Bf(t)),this.Ml=[],csArray.prototype.forEach.call(this.Mi,t=>this.Ff(t)),this.Mi=[]}onStop(){}Bf(t){this.Lv(t)?gs.isSupported()&&this.xv(t):this.Uv(t)}trackPageEvent(t){if(!s.Gf(t))throw new ut(aa[0]);this.isStarted?this.Bf(t):csArray.prototype.push.call(this.Ml,t)}Lv(t){return ur(t,$n)}async xv(t){if(!this.E.customHashIdEnabled)return;let e=csString.prototype.slice.call(t,$n.length);if(e.length>gs.MAX_DIGEST_INPUT_SIZE){j.warn("UserIdentifier event: invalid user identifier");return}let r=await gs.digest(e);r?(this.mr={eventName:r,isETR:!1,isCustomHashId:!0},this.ya()):j.warn("Page event: unable to compute customHashId"),this.E.encryptionEnabled&&this.Z.emitUserIdentifierEvent(e)}Uv(t){this.Z.emitPageEvent(t),this.mr={eventName:t,isETR:!1,isCustomHashId:!1},this.ya(),this.E.tagDeploymentMode===ze.LoadClicktalePtc&&Gn.sendPageEvent(t)}Ff(t){this.E.malkaEtrEnabled?this.jv(t):this.Hv(t)}trackEventTriggerRecording(t){if(!s.Gf(t))throw new ut(ca[0]);this.isStarted?this.Ff(t):csArray.prototype.push.call(this.Mi,t)}jv(t){ur(t,_d)?this.Z.emitEventTriggerRecording(t,Hi.ETR_PAGE):this.Z.emitEventTriggerRecording(t,Hi.ETR_SESSION),this.mr={eventName:t,isETR:!0,isCustomHashId:!1},this.ya()}Hv(t){vd(this.E)&&(this.Z.emitEventTriggerRecording(t,Hi.ETR_LEGACY),this.mr={eventName:t,isETR:!0,isCustomHashId:!1},this.ya(),this.E.tagDeploymentMode===ze.LoadClicktalePtc&&Gn.sendEventTriggerRecording(t))}getRequestParameters(){return{value:this.de.compressSync(this.mr.eventName,"base64"),ct:this.de.algorithm,isETR:`${this.mr.isETR}`,isCustomHashId:`${this.mr.isCustomHashId}`}}ya(){this.kv.send()}static Gf(t){return H(t)&&!!csString.prototype.trim.call(t)}}return s})(),aa=["trackPageEvent"],ca=["trackEventTriggerRecording"],Ad=(()=>{class s{constructor(t,e,r,o,a){this.E=t,this.S=e,this.de=r,this.Le=o,this.Z=a}init(){let t=new ns(this.E.getTrackerUri(),"pageEvent");this.yr=new wd(this.E,t,this.de,this.Z),t.setRequestParametersProviders(this.yr,this.Le),this.S.register(aa,e=>{this.yr.trackPageEvent(e)}),this.S.register(ca,e=>{this.yr.trackEventTriggerRecording(e)})}onStartTracking(){this.yr.start()}onArtificialPageViewEnd(t){t&&this.yr.stop()}onAfterArtificialPageView(t){t&&this.yr.start()}}return s})();function Td(s,i,t,e){var r=arguments.length,o=r<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,t):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,i,t,e);else for(var c=s.length-1;c>=0;c--)(a=s[c])&&(o=(r<3?a(o):r>3?a(i,t,o):a(i,t))||o);return r>3&&o&&Object.defineProperty(i,t,o),o}function bd(){let s=new Error,i=s.stack?csArray.prototype.filter.call(csString.prototype.split.call(s.stack,`
`),e=>e!=="Error"&&csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(e),"promise ")===-1&&csString.prototype.indexOf.call(e,"[native code]")===-1&&csString.prototype.indexOf.call(e,"(<anonymous>)")===-1):[];if(i.length===0)return"";let t=Cd(i);return t===""||(i=Id(i,t),i.length===0)?"":la(i[0])}function Rd(s){return csString.prototype.indexOf.call(s,"@")!==-1}function Cd(s){return s.length>0?la(s[0]):""}function Id(s,i){return csArray.prototype.filter.call(s,t=>csString.prototype.indexOf.call(t,i)===-1)}function la(s){let i="",t;Rd(s)?t=new csRegExp("@(.+):(\\d+):(\\d+)$"):t=new csRegExp("\\((.+):(\\d+):(\\d+)\\)");let e=t.exec(s);return e&&(i=e[1]),i}var Pd=s=>s;function Od(s,i){let t=csSymbol.for(i);if(s[t])return s[t];let e=Object.getOwnPropertyDescriptor(s,i);if(!(e!=null&&e.writable)&&!(e!=null&&e.set))return rt.warn(`Cannot intercept read only function '${csString(i)}' of object '${s}'`),null;let r=new Set;s[t]=r;let o=s[i];if(typeof o=="function"){let a=function(){let c=arguments,h=[];try{h=csArray.prototype.map.call(Or(r),g=>g(c))}catch(g){rt.critical(g)}let f=o.apply(this,c);return os(()=>{let g={result:f,context:this,args:c};csArray.prototype.forEach.call(h,m=>m(g))},[ee.MonkeyPatch,`${csString(i)}`]),f};Md(a,o),s[i]=a}return r}function Nd({target:s,methodName:i,hook:t,hookPrepareArgs:e=Pd,options:r}){let o=Od(s,i);if(!o)return null;let a=c=>{let h=e(c),f=r!=null&&r.withCallerName?{callerName:bd()}:{};return g=>t({...g,...f,args:h})};return{activate:()=>{o.add(a)},deactivate:()=>{o.delete(a)}}}function Md(s,i){s.prototype=i.prototype,Object.defineProperty(s,"toString",{value:()=>i.toString()})}var ha=(()=>{class s{constructor(){this.set=new Set}add(t){this.set.add(t),this.set.size===1&&csSetTimeout(()=>{this.set.clear()})}has(t){return this.set.has(t)}del(t){this.set.delete(t)}clear(){this.set.clear()}values(){return Or(this.set)}get count(){return this.set.size}}return s})();function Dd(s,i=!1){let t=new ha;return{push(e){t.count===0&&(i?wo:csSetTimeout)(()=>{s(t.values()),t.clear()}),t.add(e)}}}var ua=(()=>{var s;class i{static $v(e){this.ei.forEach(r=>{e(r,"initial")})}static Tn(e){if(this.L||(this.L=new csMutationObserver(r=>{for(let o of r)o.target.isConnected&&Nt(o.addedNodes,this.zv),Nt(o.removedNodes,this.qv)})),csArray.prototype.push.call(this.be,e),!this.Y){this.Y=!0,this.L.observe(document,this.bn);for(let r of He.getAllShadowHosts(document)){let o=csElementshadowRoot.apply(r);this.ei.add(o),this.L.observe(o,this.bn)}this.Bl||(this.Bl=Nd({target:Element.prototype,methodName:"attachShadow",hook:r=>this.Er(r.result)&&this.$f(r.result)})),this.Bl.activate()}this.$v(e)}static Er(e){return e.isConnected&&e.ownerDocument===document}static Rn(e){var r,o;this.be=csArray.prototype.filter.call(this.be,a=>a!==e),this.be.length===0&&(this.be=[],this.Y=!1,(r=this.L)===null||r===void 0||r.disconnect(),(o=this.Bl)===null||o===void 0||o.deactivate(),this.ei.clear())}constructor(e){this.A=e,this.A=Rr("DocumentShadowRootObserver:callback",(r,o)=>e(r,o))}get shadowRoots(){return Or(s.ei)}takeRecords(){var e,r;return(r=(e=s.L)===null||e===void 0?void 0:e.takeRecords())!==null&&r!==void 0?r:[]}observe(){He.isSupported()&&s.Tn(this.A)}disconnect(){He.isSupported()&&s.Rn(this.A)}}return s=i,i.be=[],i.ei=new Set,i.Y=!1,i.bn={childList:!0,subtree:!0},i.$f=t=>{s.ei.has(t)||(s.L.observe(t,s.bn),s.ei.add(t),Nt(s.be,e=>e(t,"added")))},i.zv=t=>{Qt(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(s.$f)},i.qv=t=>{t.isConnected||Qt(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(e=>{s.ei.has(e)&&(s.ei.delete(e),Nt(s.be,r=>r(e,"removed")))})},be([z()],i.prototype,"observe",null),be([z()],i.prototype,"disconnect",null),i})();var zn={childList:!0,subtree:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0},yi=(()=>{var s;class i{static setShadowRootFilter(e){csArray.prototype.push.call(s.shadowRootFilters,e)}static zl(e){if(s.shadowRootFilters.length>0&&Ss(e))for(let r=0;r<s.shadowRootFilters.length;r++){let o=s.shadowRootFilters[r];if(o(e))return}this.observedTargets.add(e),this.mutationObserver.observe(e,zn)}static disconnectShadowRoot(e){this.observedTargets.has(e)&&(this.observedTargets.delete(e),this.isRefreshing||(this.isRefreshing=!0,wo(()=>{this.isRefreshing=!1;let r=this.mutationObserver.takeRecords();r.length&&s.mutationCallback(r),this.mutationObserver.disconnect(),this.observedTargets.forEach(o=>{this.mutationObserver.observe(o,zn)})})))}static observe(e,r){csArray.prototype.push.call(this.callbacks,e),r&&csArray.prototype.push.call(this.shadowRootCallbacks,r),this.started?r&&csArray.prototype.forEach.call(He.getAllShadowHosts(document),o=>r(csElementshadowRoot.apply(o),"initial")):(this.mutationObserver=new csMutationObserver(this.mutationCallback),this.zl(document),this.shadowRootObserver=new ua(this.onShadowRoot),this.shadowRootObserver.observe(),this.started=!0,Nt(this.shadowRootObserver.shadowRoots,o=>{this.zl(o)}))}static disconnect(e,r){var o,a;this.callbacks=csArray.prototype.filter.call(this.callbacks,c=>c!==e),r&&(this.shadowRootCallbacks=csArray.prototype.filter.call(this.shadowRootCallbacks,c=>c!==r)),this.callbacks.length===0&&(this.callbacks=[],this.shadowRootCallbacks=[],s.shadowRootFilters=[],(o=this.shadowRootObserver)===null||o===void 0||o.disconnect(),(a=this.mutationObserver)===null||a===void 0||a.disconnect(),this.observedTargets.clear(),this.started=!1)}constructor(e,r){this.A=e,this.qf=r;let o=Dd(a=>e(a,this),!0);this.A=Rr("DocumentMutationObserver:callback",a=>{Nt(a,c=>o.push(c))})}get shadowRoots(){var e,r;return(r=(e=s.shadowRootObserver)===null||e===void 0?void 0:e.shadowRoots)!==null&&r!==void 0?r:[]}takeRecords(){var e;let r=(e=s.mutationObserver)===null||e===void 0?void 0:e.takeRecords(),o=s.shadowRootObserver.takeRecords();return r!=null&&r.length&&o.length?pl(r,o):r!=null?r:o}observe(){s.observe(this.A,this.qf)}disconnect(){s.disconnect(this.A,this.qf)}}return s=i,i.callbacks=[],i.shadowRootCallbacks=[],i.started=!1,i.observedTargets=new Set,i.shadowRootFilters=[],i.mutationCallback=t=>{Mt.mutations.count.increase(t.length),csArray.prototype.forEach.call(s.callbacks,e=>e(t,s.mutationObserver))},i.onShadowRoot=(t,e)=>{Nt(s.shadowRootCallbacks,r=>r(t,e)),e!=="removed"?s.zl(t):s.disconnectShadowRoot(t)},i.isRefreshing=!1,be([z()],i.prototype,"observe",null),be([z()],i.prototype,"disconnect",null),i})();var kd=(()=>{class s{constructor(){this.Rt=[],this.isStarted=!1}async produceEvent(t){var e;this.isStarted&&(t.timestamp=(e=t.timestamp)!==null&&e!==void 0?e:F.now(),t.timestamp==null&&(t.timestamp=F.now()),csArray.prototype.forEach.call(this.Rt,r=>r(t)))}onStop(){}start(){this.isStarted||(this.isStarted=!0,this.onStart())}stop(){this.isStarted&&(this.isStarted=!1,this.onStop(),this.Rt=[])}stopForInactivity(){this.isStarted&&(this.isStarted=!1,this.onStop())}subscribe(t){return csArray.prototype.push.call(this.Rt,t),()=>{let e=csArray.prototype.indexOf.call(this.Rt,t);csArray.prototype.splice.call(this.Rt,e,1)}}}return s})();var Se=(()=>{let s;return function(i){i.ANONYMIZED_TEXT_STATUS_PROP="anonymizationStatus",i.WHITELISTED_STATUS="whitelisted";function t(o){return it.getProperty(o,i.ANONYMIZED_TEXT_STATUS_PROP)===i.WHITELISTED_STATUS}i.isWhitelistedElement=t;function e(o){it.setProperty(o,i.ANONYMIZED_TEXT_STATUS_PROP,i.WHITELISTED_STATUS)}i.whitelistElement=e;function r(o){it.setProperty(o,i.ANONYMIZED_TEXT_STATUS_PROP,void 0)}i.removeWhitelistElement=r}(s||(s={})),s})();var Ld=()=>(s,i,t)=>{t.value=xd(t.value)};function xd(s){let i=csSymbol("oncePerTickSymbol"),t=null,e={},r=function(){var o;let a=(o=this)!==null&&o!==void 0?o:e;if(t=arguments,a[i])return;a[i]=!0,_o(()=>{a[i]=!1,s.apply(a,t)})};return r.oncePerTickSymbol=i,r}Ld.isScheduled=(s,i)=>{let t=i.oncePerTickSymbol;return s[t]};var Vd=(()=>{let s;return function(i){i.ENCRYPTED_NODE_PROP="encrypted";function t(o){return it.getProperty(o,i.ENCRYPTED_NODE_PROP)===!0}i.shouldEncrypt=t;function e(o){it.setProperty(o,i.ENCRYPTED_NODE_PROP,!0)}i.markEncryptedNode=e;function r(o){it.setProperty(o,i.ENCRYPTED_NODE_PROP,void 0)}i.unmarkEncryptedNode=r}(s||(s={})),s})(),xe=(()=>{let s;return function(i){i.EDITABLE_NODE_PROP="editableNode";function t(o){var a;return"nodeType"in o?it.getProperty(o,i.EDITABLE_NODE_PROP)===!0:((a=o.metadata)===null||a===void 0?void 0:a[i.EDITABLE_NODE_PROP])===!0}i.isEditableNode=t;function e(o){it.setProperty(o,i.EDITABLE_NODE_PROP,!0)}i.markEditableNode=e;function r(o){it.setProperty(o,i.EDITABLE_NODE_PROP,void 0)}i.unmarkEditableNode=r}(s||(s={})),s})();var da=!0,si=csSymbol("safe"),qn=csSymbol("task");function _s(s,i=da){var t;(t=s[si])!==null&&t!==void 0||(s[si]=function(e){let r=arguments;os(()=>(e[qn]=Et,s.listener.apply(s.boundElement,r)),[ee.EventListener,s.type],e[qn])}),s.boundElement.addEventListener(s.type,s[si],i)}function ws(s,i=da){s.boundElement.removeEventListener(s.type,s[si],i)}var di=(()=>{class s{get selectors(){return this.qe===""?null:this.qe}constructor(t,e={closest:!1}){this.A=t,this.Pt=e,this.qe="",this.xn=new ha,this.Ar=xr(r=>{if(this.qe==="")return;let o=[];for(let a of bo(r,c=>c.addedNodes)){if(!(kl(a)||this.Pt.closest&&ar(a)))continue;let c=this.Pt.closest?this.tw(a,this.qe):this.findMatchingElements(a,this.qe);vn(c,o)}o.length&&this.A(o,"added")},"SelectorObserver.processMutations"),this.ew=(r,o)=>{if(this.qe===""||o!=="added")return;let a=this.findMatchingElements(r,this.qe);a.length&&this.A(a,"added")},this.z=new yi(this.Ar,this.ew)}observe(t){this.qe===""?this.z.observe():this.qe+=",",this.qe+=t;let e=this.findMatchingElements(document,t);for(let r of this.z.shadowRoots){let o=this.findMatchingElements(r,t);vn(o,e)}e.length&&(Nt(e,r=>{this.xn.add(r)}),this.A(e,"initial"))}processPendingMutations(){this.Ar(this.z.takeRecords())}disconnect(){this.z.disconnect(),this.xn.clear(),this.qe=""}tw(t,e){let r=[];if(ar(t)){if(t.parentElement){let o=fr(t.parentElement,e);o&&csArray.prototype.push.call(r,o)}return csArray.prototype.filter.call(r,o=>this.xn.has(o)===!1)}else{if(As(t)){let o=fr(t,e);if(o)return csArray.prototype.push.call(r,o),csArray.prototype.filter.call(r,a=>this.xn.has(a)===!1)}return this.findMatchingElements(t,e)}}findMatchingElements(t,e){let r=nr(window.csquerySelectorAll[t.nodeType].call(t,e));return dt(t)&&Bt.call(t,e)&&csArray.prototype.push.call(r,t),csArray.prototype.filter.call(r,o=>this.xn.has(o)===!1)}}return be([z()],s.prototype,"observe",null),be([z()],s.prototype,"disconnect",null),be([vs("SelectorObserver.findMatchingElements")],s.prototype,"findMatchingElements",null),s})();var Rt=(()=>{let s;return function(i){i[i.TAP=0]="TAP",i[i.LONG_PRESS=1]="LONG_PRESS",i[i.DRAG=2]="DRAG",i[i.FLICK=3]="FLICK",i[i.PINCH_IN=4]="PINCH_IN",i[i.PINCH_OUT=5]="PINCH_OUT"}(s||(s={})),s})(),Ys=(()=>{let s;return function(i){i[i.UP=1]="UP",i[i.DOWN=2]="DOWN",i[i.LEFT=3]="LEFT",i[i.RIGHT=4]="RIGHT"}(s||(s={})),s})(),Ud=(()=>{class s{compute(t,e){let r=this.ci(e.x)-this.ci(t.x),o=this.ci(e.y)-this.ci(t.y),a=e.time-t.time;return{duration:a,distance:this.Np(r,o),direction:this.Sw(r,o),velocity:this.vw(r,o,a)}}computePinchMetrics(t,e){let r=this.ci(e.x)-this.ci(t.x),o=this.ci(e.y)-this.ci(t.y);return{duration:e.time-t.time,distance:this.Np(r,o)}}getScale(t,e){return Math.abs(e/t-1)}ci(t){return t/window.devicePixelRatio}Np(t,e){return Math.round(Math.sqrt(t*t+e*e))}vw(t,e,r){let o=r/1e3,a=t/o,c=e/o;return Math.round(Math.abs(a)+Math.abs(c))}Sw(t,e){return Math.abs(t)>Math.abs(e)?t>0?Ys.RIGHT:Ys.LEFT:e>0?Ys.DOWN:Ys.UP}}return s})(),fa=typeof performance!="undefined"&&!!performance.now,Wn=fa?()=>performance.now():()=>csDate.now(),jd=(()=>{var s;return fa?(s=performance.timing)===null||s===void 0?void 0:s.navigationStart:0})(),Xs={now(){return Math.round(Wn()+jd)},elapsed(){return Wn()}};function Yn(s,i=0){let t=Math.pow(10,i);return Math.round(s*t)/t}var Hd=1e3,Bd=100,Fd=.1,Gd=(()=>{class s{constructor(){this.Kt={},this._h=()=>{},this.Oa=new Ud,this.Re()}static isGestureDetectionSupported(){return typeof devicePixelRatio!="undefined"}onGesture(t){this._h=t}isValidTouchEvent(t){return"touches"in t&&"changedTouches"in t}processActionDown(t){if(!this._w(t))return;this.Aw(t)&&this.Re();let e={x:t.touches[0].clientX,y:t.touches[0].clientY,time:Xs.now()};if(t.touches.length===1)this.Kt.startPinchTime=e.time,this.Kt.firstTouch=e;else if(t.touches.length===2&&(this.Kt.secondTouch={x:t.touches[1].clientX,y:t.touches[1].clientY,time:Xs.now()},this.Kt.firstTouch&&this.Kt.secondTouch)){let r=this.Oa.computePinchMetrics(this.Kt.firstTouch,this.Kt.secondTouch);this.Ir=r.distance}csArray.prototype.push.call(this.Fn,e),this.Na=Ae(t)}processActionMove(){this.Ah=!0}processActionUp(t){if(this.Tw(t)){if(csArray.prototype.push.call(this.Fn,{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:Xs.now()}),this.bw(t)&&this.Kt.startPinchTime){let e={x:t.touches[0].clientX,y:t.touches[0].clientY,time:this.Kt.startPinchTime},r={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:Xs.now()};this.Kt.firstTouch&&(this.Kt.firstTouch=e,this.Kt.secondTouch=r),this.Rw(t)}this.Ir||this.Cw()&&this.Iw(t)}}Re(){this.Fn=[],this.Na=null,this.Ah=!1,this.Ir=null,this.Gn=!0}Iw(t){let e=this.Oa.compute(this.Fn[0],this.Fn[1]);this.Gn=t.isTrusted;let r=this.Ah?this.Pw(e):this.Ow(e);if(this.Nw(r.type,t.changedTouches)){let o=t.changedTouches[0];r.pageX=Yn(o.pageX,1),r.pageY=Yn(o.pageY,1)}this._h(r,t)}Rw(t){if(!(this.Kt.firstTouch&&this.Kt.secondTouch))return;let e=this.Oa.computePinchMetrics(this.Kt.firstTouch,this.Kt.secondTouch);this.Gn=t.isTrusted;let r=this.Mw(e);r&&this._h(r,t)}Mw(t){return!this.Ir||this.Oa.getScale(this.Ir,t.distance)<Fd?void 0:{type:this.Ir>t.distance?Rt.PINCH_IN:Rt.PINCH_OUT,target:this.Na,distance:t.distance,isTrusted:this.Gn}}Pw(t){return{type:t.velocity<Bd?Rt.DRAG:Rt.FLICK,target:this.Na,velocity:t.velocity,distance:t.distance,direction:t.direction,isTrusted:this.Gn}}Ow(t){return{type:t.duration<Hd?Rt.TAP:Rt.LONG_PRESS,target:this.Na,isTrusted:this.Gn}}Nw(t,e){return t===Rt.TAP&&e&&e.length===1}Aw(t){return t.touches.length===1}Cw(){return this.Fn.length===2}_w(t){return t.touches.length>0}Tw(t){return t.changedTouches.length>0}bw(t){return this.Ah&&!!this.Ir&&t.changedTouches.length===1&&t.touches.length===1}}return s})();var Ei=(()=>{let s;return function(i){i.UNCOMPRESSED="0",i.GZIP="2"}(s||(s={})),s})(),pa=(()=>{class s{}return s})(),$d=(()=>{class s{constructor(t){this.Bp=[],this.Fp=[],this.We={},this.Va=t}setQueryParams(t){csArray.prototype.forEach.call(Object.keys(t),e=>{this.We[e]=t[e]})}removeQueryParams(t){t?csArray.prototype.forEach.call(t,e=>{delete this.We[e]}):this.We={}}onBeaconSuccess(t){csArray.prototype.push.call(this.Bp,t)}onBeaconFailure(t){csArray.prototype.push.call(this.Fp,t)}send(t){let e=Vr.toQuery({...this.We,ct:Ei.UNCOMPRESSED}),r=this.Kw(e,t);return r?csArray.prototype.forEach.call(this.Bp,o=>o()):csArray.prototype.forEach.call(this.Fp,o=>o(this.We)),r}Kw(t,e){try{if(typeof csNavigatorsendBeacon!="function")return!1;let r=csNavigatorsendBeacon(`${this.Va}?${t}`,e||"");if(r)return r}catch{}return typeof navigator.sendBeacon!="function"?!1:navigator.sendBeacon(`${this.Va}?${t}`,e||"")}}return s})();var zd=(()=>{class s{emit(t,e,r,o=document){let c=`${r!==void 0?`${r}`:`${s.sA}`}${t}`,h=s.createEvent(c,{detail:e});h!==null&&o.dispatchEvent(h)}static createEvent(t,e={}){if(typeof CustomEvent=="function")return new CustomEvent(t,e);let r=this.iA();if(r===null)return null;let{bubbles:o=!1,cancelable:a=!1,detail:c}=e;return r.initCustomEvent(t,o,a,c),r}static iA(){try{return document.createEvent("CustomEvent")}catch{return null}}}return s.sA="cs.tracking.",s})(),Jt=(()=>{let s;return function(i){i.Visible="visible",i.Hidden="hidden",i.Blur="blur",i.PagehideVisible="pagehideVisible",i.PagehideHidden="pagehideHidden",i.ExitPageByNavigate="exitPageByNavigate"}(s||(s={})),s})(),qd=(()=>{class s{constructor(){this.U=!1,this.fi=t=>{try{switch(t.type){case"visibilitychange":return document.visibilityState==="hidden"?this.re(Jt.Hidden):this.re(Jt.Visible);case"pagehide":return document.visibilityState==="hidden"?this.re(Jt.PagehideHidden):this.re(Jt.PagehideVisible);case"blur":return this.re(Jt.Blur);case"navigate":return this.rA(t)?this.re(Jt.ExitPageByNavigate):void 0;default:return}}catch{}}}start(){this.U||(this.U=!0,this.xh(),this.nA(),this.oA(),mn()&&this.aA())}stop(){this.U&&(this.U=!1,this.Vh(),this.cA(),this.lA(),mn()&&this.hA())}onEvent(t){this.re=t}aA(){window.navigation.addEventListener("navigate",this.fi)}hA(){window.navigation.removeEventListener("navigate",this.fi)}xh(){document.addEventListener("visibilitychange",this.fi)}Vh(){document.removeEventListener("visibilitychange",this.fi)}nA(){window.addEventListener("pagehide",this.fi)}cA(){window.removeEventListener("pagehide",this.fi)}oA(){window.addEventListener("blur",this.fi)}lA(){window.removeEventListener("blur",this.fi)}rA(t){return t instanceof NavigateEvent?!t.hashChange&&!t.downloadRequest&&!t.formData:!1}}return s})();var $i=(()=>{let s;return function(i){i[i.COPY=0]="COPY",i[i.CUT=1]="CUT",i[i.PASTE=2]="PASTE"}(s||(s={})),s})(),lt=(()=>{let s;return function(i){i[i.SPACE=0]="SPACE",i[i.ENTER=1]="ENTER",i[i.BACKSPACE=2]="BACKSPACE",i[i.DELETE=3]="DELETE",i[i.ARROWUP=4]="ARROWUP",i[i.ARROWDOWN=5]="ARROWDOWN",i[i.ARROWLEFT=6]="ARROWLEFT",i[i.ARROWRIGHT=7]="ARROWRIGHT",i[i.CAPSLOCK=8]="CAPSLOCK",i[i.SHIFT=9]="SHIFT",i[i.TAB=10]="TAB",i[i.ALPHANUMERICAL=11]="ALPHANUMERICAL",i[i.ESCAPE=12]="ESCAPE",i[i.END=13]="END",i[i.ALT=14]="ALT",i[i.CTRL=15]="CTRL",i[i.META=16]="META"}(s||(s={})),s})();var Xn="data-cs-scroll-container";function Wd(s){try{if(St(csEventtarget.apply(s)))return!0}catch{}return!1}var ys=(()=>{let s;return function(i){function t(r){return!!(St(r)&&Wd(r)&&As(csEventtarget.apply(r))&&csEventtarget.apply(r).getAttribute(Xn)!==null)}i.isEventOnScrollContainer=t;function e(){return window.csquerySelector[document.nodeType].call(document,`[${Xn}]`)}i.getScrollContainer=e}(s||(s={})),s})();var Yd=30,Xd=0,Kd=(()=>{class s{constructor(t,e=Yd,r=Xd){this.sT=t,this.iT=e,this.rT=r,this.Je=new Pr,this.Be=!1,this.Qh=0,this.Sg=()=>{for(this.Qh=0;this.Je.length;){if(this.Qh>=this.iT){csSetTimeout(this.Sg,this.rT);return}let o=F.elapsed(),a=this.Je.pop();if(!a)break;this.runTask(a);let c=F.elapsed()-o;this.Qh+=c}this.Be=!1}}schedule(t,e=!1){if(!this.sT||e){t();return}Mt.general.pendingTasks.increase(),this.Je.push(t),this.nT()}nT(){this.Be||(this.Be=!0,csSetTimeout(()=>{this.Sg()}))}runTask(t){Mt.general.pendingTasks.decrease(),t()}runPendingTasks(){this.Je.forEach(t=>{this.runTask(t)}),this.Je.clear()}clearQueue(){Mt.general.pendingTasks.clear(),Mt.mutations.pendingMutations.clear(),this.Je.clear()}isEmpty(){return this.Je.length===0}}return W([z("TaskScheduler"),vs("runTask")],s.prototype,"runTask",null),W([vs("runPendingTasks")],s.prototype,"runPendingTasks",null),s})();var Jd=1024,Qd=512,zi=1024,qi="||",Zd=(()=>{let s;return function(i){function t(c,h){return H(c)&&csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(c),we.CHAMELEON)!==-1?we.CHAMELEON:h}i.handleCustomEventCommandMisuse=t;function e(c,h,f){let g=r(f);return{type:U.CUSTOM_EVENT,ts:0,customEventName:Kt.truncate(c,Jd,Kt.ELLIPSIS),sourceLibrary:iu(h)?h:we.WEB,...sr(g)?{}:{properties:g}}}i.buildCustomEvent=e;function r(c){let h={};for(let f in c){if(f.length>Qd)continue;let g=c[f];if(Ct(g)||ii(g))h[f]=csString(g);else if(a(g))h[f]=Kt.truncate(g,zi,Kt.ELLIPSIS);else if(gl(g)){let m=o(g);m!==""&&(h[f]=m)}}return h}i.sanitizeCustomEventProperties=r;function o(c){let h="";for(let f=0;f<c.length;f++){let g=c[f];if(!Ct(g)&&!ii(g)&&!a(g))continue;let m=csString(g);if(h==="")h=Kt.truncate(m,zi,Kt.ELLIPSIS);else if(h.length+qi.length+m.length<=zi)h+=qi+m;else break}return h}function a(c){return H(c)&&!Eo(c)&&!csString.prototype.includes.call(c,qi)}}(s||(s={})),s})(),pt=(()=>{class s{static buildFromCustomEvent(t,e){return this.Ag(null,t,e)}static buildFromAnalysisEvent(t,e,r){return this.Ag(t,e,r)}static Ag(t,e,r){return csArray.prototype.reduce.call(r,(o,a)=>a.enhanceAnalysisEvent(t,o),e)}}return s})();var tf=(()=>{class s extends kt{constructor(t,e,r,o,a,c,h,f,g,m,y,v,I,D,x,_,w,O,C,T,k,Y){super(),this.E=t,this.Ei=e,this.Bt=r,this.Mr=o,this.tu=a,this.Qe=c,this.Ne=h,this.eu=f,this.G=g,this.ne=m,this.J=y,this.su=v,this.Xe=I,this.X=D,this.Ft=x,this.Za=_,this.Ls=w,this.xs=O,this.iu=C,this.qi=T,this.Wi=k,this.Yi=Y,this.gi=new zd,this.tc=!1,this.Xi=[]}init(){var t,e,r,o,a,c,h;this.Ei.onEvent(f=>this.Ut(f)),this.Bt.onEvent(f=>this.Ut(f)),this.Mr.onEvent(()=>{let f=this.Mr.getRequestParameters();this.X.setQueryParams(f),this.Ne.setQueryParams(f)}),this.su.onEvent(f=>this.ae(f)),this.ru(),(t=this.Za)===null||t===void 0||t.onEvent(f=>this.Ut(f)),(e=this.qi)===null||e===void 0||e.onEvent(f=>this.Ut(f)),(r=this.Ls)===null||r===void 0||r.onEvent(f=>this.Ut(f)),(o=this.xs)===null||o===void 0||o.onEvent(f=>this.Ut(f)),this.gT(),(a=this.iu)===null||a===void 0||a.onEvent(f=>this.ae(f)),(c=this.Wi)===null||c===void 0||c.onEvent(f=>this.ae(f)),(h=this.Yi)===null||h===void 0||h.onEvent(f=>this.ae(f))}gT(){this.Ne.onBeaconSuccess(()=>{this.Qe.clearEvents()}),this.Ne.onBeaconFailure(t=>{this.mT(t)})}initStates(){let t=this.eu.getRequestParameters(),e=this.tu.getRequestParameters(),r=this.Mr.getRequestParameters();this.X.setQueryParams(t),this.X.setQueryParams(e),this.X.setQueryParams(r),this.Ne.setQueryParams(t),this.Ne.setQueryParams(e),this.Ne.setQueryParams(r),this.nu()}clearStates(t){var e,r;this.Ei.flushPendingDebouncedListeners(),(e=this.Ls)===null||e===void 0||e.flushPendingKeyboardNavigationEvent(),(r=this.xs)===null||r===void 0||r.flushPendingTextHighlightEvent(),t?(this.ou(),this.sendLastMessageBeacon()):this.sendEvents(),this.Mr.reset(),this.X.removeQueryParams()}onStart(t){var e,r,o,a,c,h,f;t||(e=this.iu)===null||e===void 0||e.start(),this.Xe.start(),this.Ei.start(),this.Mr.start(),this.Bt.start(),(r=this.Za)===null||r===void 0||r.start(),(o=this.xs)===null||o===void 0||o.start(),t||this.su.start(),(a=this.Ls)===null||a===void 0||a.start(),(c=this.qi)===null||c===void 0||c.start(),(h=this.Wi)===null||h===void 0||h.start(),(f=this.Yi)===null||f===void 0||f.start(),csArray.prototype.forEach.call(this.Xi,g=>{this.ae(g)}),this.Xi=[]}collectInitialEvents(){var t;(t=this.Za)===null||t===void 0||t.collectInitialEvents()}onIframeAnalysisBrowserEvent(t){this.ae(t)}onIframeAnalysisUserEvent(t){this.Ut(t)}onExternalEvent(t){this.Q(t)}ae(t){this.isStarted&&this.G.isCurrentPageviewValid()&&this.Q(t)}Ut(t){this.isStarted&&(this.G.refreshSession(),this.G.isSessionValid()&&this.Q(t))}Q(t){this.Qe.addEvent(this.yT(t)),this.Qe.isFull()&&this.sendEvents(),this.E.emitDebugEvents&&this.gi.emit("analysisEvent",{...t,typeName:U[t.type]})}yT(t){return t.ts=this.Ki(),t}ou(){this.Ne.setQueryParams({hlm:"true"}),this.tc=!0}sendLastMessageBeacon(){this.Ne.removeQueryParams(["i"]),this.Ne.setQueryParams(this.eu.getRequestParameters()),this.Ne.setQueryParams(this.tu.getRequestParameters()),this.Ne.send(this.Qe.stringifyEvents()),this.Ne.removeQueryParams(["hlm"]),this.tc=!1}sendEvents(){this.Qe.isEmpty()||(this.Ne.removeQueryParams(["i"]),this.X.setQueryParams(this.eu.getRequestParameters()),this.X.setQueryParams(this.tu.getRequestParameters()),this.X.send(this.Qe.getEvents()),this.Qe.clearEvents())}onStop(){var t,e,r,o,a,c,h;this.Xe.stop(),this.Ei.stop(),this.Mr.stop(),this.Bt.stop(),this.su.stop(),(t=this.Za)===null||t===void 0||t.stop(),(e=this.Ls)===null||e===void 0||e.stop(),(r=this.xs)===null||r===void 0||r.stop(),(o=this.qi)===null||o===void 0||o.stop(),this.Qe.empty(),(a=this.iu)===null||a===void 0||a.stop(),(c=this.Wi)===null||c===void 0||c.stop(),(h=this.Yi)===null||h===void 0||h.stop()}nu(){this.gs=F.now()}Ki(){return F.now()-this.gs}ru(){this.Xe.onEvent(t=>{var e,r;t!==Jt.Visible&&((e=this.Ls)===null||e===void 0||e.flushPendingKeyboardNavigationEvent(),(r=this.xs)===null||r===void 0||r.flushPendingTextHighlightEvent(),t===Jt.PagehideVisible?this.ou():t===Jt.PagehideHidden?(this.ou(),this.sendLastMessageBeacon()):(!this.Qe.isEmpty()||this.tc)&&this.sendLastMessageBeacon())})}mT(t){try{(!this.Qe.isEmpty()||this.tc)&&this.ne.save({requestParameters:t,events:this.Qe.getEvents()})}catch{}}pushSubmitCommandEvent(t,e){if(!su(t)||!As(e))throw new ut(Aa[0]);let r={status:t,type:U.SUBMIT_COMMAND,ts:0,tgt:this.J.getElementPath(e)};r.tgt!==Zt.INVALID_ELEMENT&&this.ae(r)}pushCustomEvent(t,e,r){if(!(H(t)&&!Eo(t))||r!==void 0&&!yo(r))throw new ut(wr[0]);let o=Zd.buildCustomEvent(t,e,r),a=pt.buildFromCustomEvent(o,this.Ft);this.isStarted?this.ae(a):csArray.prototype.push.call(this.Xi,a)}}return s})(),Cs=(()=>{class s{isEventTypeSupported(t){return csArray.prototype.indexOf.call(this.supportedEventTypes,t)!==-1}enhanceAnalysisEvent(t,e){return this.isEventTypeSupported(e.type)?this.baseEnhanceAnalysisEvent(t,e):e}}return s})(),ef=(()=>{class s extends Cs{constructor(){super(...arguments),this.supportedEventTypes=[U.CHANGE],this.ET=["text","email","number","search","tel","url","password"]}baseEnhanceAnalysisEvent(t,e){let r=Ae(t);return Mr(r)&&csArray.prototype.indexOf.call(this.ET,r.type)>=0&&(e.isBlank=r.value===""),e}}return s})(),_t=(()=>{let s;return function(i){i[i.ANONYMIZED=0]="ANONYMIZED",i[i.CAPTURED=1]="CAPTURED",i[i.MASKED=2]="MASKED",i[i.ENCRYPTED=3]="ENCRYPTED"}(s||(s={})),s})();var ga=(()=>{class s extends Cs{constructor(t){super(),this.pt=t,this.supportedEventTypes=[U.MOUSEDOWN,U.MOUSEUP,U.CLICK,U.MOUSEOVER,U.TAP,U.DRAG,U.FLICK,U.SUBMIT,U.CHANGE]}baseEnhanceAnalysisEvent(t,e){return e.tgt||(e.tgt=this.pt.getEventTargetPath(t)),e}}return s})(),Kn=65535,sf=(()=>{let s;return function(i){function t(e){let r=Ae(e);if(!r||!dt(r)||!Fe(r.getBoundingClientRect)||!St(e.pageX)||!St(e.pageY))return{xRel:-1,yRel:-1,valid:!1};let o=r.getBoundingClientRect(),a=e.pageX-o.left-gt.windowOffsetX(),c=e.pageY-o.top-gt.windowOffsetY();r!==document.documentElement&&(a+=r.scrollLeft,c+=r.scrollTop);let h=Math.max(r.scrollWidth,o.width),f=Math.max(r.scrollHeight,o.height),g=Math.round(a/h*Kn),m=Math.round(c/f*Kn);return{xRel:g,yRel:m,valid:!0}}i.getRelativePosition=t}(s||(s={})),s})(),rf=(()=>{class s extends Cs{constructor(t,e){super(),this.As=t,this.pt=e,this.supportedEventTypes=[U.MOUSEMOVE,U.CLICK],this.hu=""}baseEnhanceAnalysisEvent(t,e){let{valid:r,xRel:o,yRel:a}=sf.getRelativePosition(t);if(r){let c=this.pt.getEventTargetPath(t);c!==Zt.INVALID_ELEMENT&&(e.xRel=o,e.yRel=a,e.type===U.MOUSEMOVE&&(c!==this.hu||this.As.iframesTracking?(this.hu=c,e.tgtHM=c,this.As.isChild||(e.tgtHMH=Wo(e.tgtHM))):e.tgtHM=""))}else e.type===U.MOUSEMOVE&&(this.hu="");return e}}return s})(),ma=(()=>{class s extends Cs{constructor(t,e){super(),this.pt=t,this.Gt=e,this.supportedEventTypes=[U.CLICK,U.SUBMIT,U.CHANGE,U.TAP]}baseEnhanceAnalysisEvent(t,e){let r=this.Gt.getSensitiveStatus().useAnonymization,{path:o,hierarchy:a}=this.pt.getEventTargetPathAndHierarchy(t,r);return e.tgt=o,e.hrchy=a,e}}return s})(),Jn=100,ya=(()=>{class s extends Cs{constructor(t,e,r){super(),this.E=t,this.Gt=e,this.M=r,this.supportedEventTypes=[U.TAP,U.CLICK,U.SUBMIT]}MT(t){let e="",r=document.createTreeWalker(t,NodeFilter.SHOW_TEXT),o=r.nextNode();for(;o;){if(e+=o.textContent,No(o.parentElement)||Po(o.parentElement)||this.Gt.getElementSensitiveStatus(o.parentElement)!==_t.CAPTURED)return!0;if(csString.prototype.trim.call(e).length>=Jn)break;o=r.nextNode()}return!1}DT(t){let e=fr(t,"button,a");return e||(this.E.collectTargetText===hr.ButtonAndLinkOnly?null:t)}baseEnhanceAnalysisEvent(t,e){if(As(csEventtarget.apply(t))){let r=this.DT(csEventtarget.apply(t));if(r&&H(r.textContent)&&!this.MT(r)&&!this.M.hasPII(r.textContent,this.E.anonymizeDigits)){let o=Kt.truncate(csString.prototype.trim.call(r.textContent),Jn);o.length>0&&(e.text=o)}}return e}}return s})();function nf(s,i,t,e,r){let o=[];return csArray.prototype.push.call(o,new rf(s,i)),s.isCollectTargetTextEnabled()&&csArray.prototype.push.call(o,new ya(s,t,new Rs)),s.collectHierarchy&&csArray.prototype.push.call(o,new ma(i,t)),csArray.prototype.push.call(o,new ef,new ga(i)),o}function of(s,i,t,e,r){let o=[];return s.isCollectTargetTextEnabled()&&csArray.prototype.push.call(o,new ya(s,t,new Rs)),s.collectHierarchy&&csArray.prototype.push.call(o,new ma(i,t)),csArray.prototype.push.call(o,new ga(i)),o}var af=(()=>{class s extends kt{constructor(t,e){super(),this.ne=t,this.X=e,this.Ig=()=>{document.visibilityState==="visible"&&this.Pg()}}onStart(){this.Pg(),this.xh()}onStop(){this.Vh()}getRecoveryStorage(){return this.ne}Pg(){let t=this.ne.recover();if(t!==null){let{requestParameters:e,events:r}=t;this.X.send(r,e)}}xh(){document.addEventListener("visibilitychange",this.Ig)}Vh(){document.removeEventListener("visibilitychange",this.Ig)}}return s})(),cf=(()=>{class s{constructor(t){this.Pr=t}save(t){localStorage.setItem(this.Pr,csJSON.stringify(t))}clear(){localStorage.removeItem(this.Pr)}recover(){let t=localStorage.getItem(this.Pr);if(t===null)return null;let e=null;try{e=csJSON.parse(t)}catch{j.error(`Invalid item in localStorage.
         (key:${this.Pr}; value:${t})`)}finally{this.clear()}return e}}return s})(),lf=50,hf=(()=>{class s{constructor(t=[]){this.Ht=t}stringifyEvents(){return csJSON.stringify(this.Ht)}addEvent(t){csArray.prototype.push.call(this.Ht,t)}eventsCount(){return this.Ht.length}clearEvents(){this.Ht=[]}empty(){this.clearEvents()}isFull(){return this.eventsCount()>=lf}isEmpty(){return this.Ht.length===0}getEvents(){return this.Ht}}return s})(),uf=(()=>{class s{constructor(t,e,r,o=["submit"]){this.Ft=t,this.pt=e,this.$t=r,this.kT=o,this.Og="select, select *, input, textarea",this.LT="select, select *, input, textarea",this.Ng="a, a *, button, button *, select, select *, input, textarea",this.oo="input, select, textarea",this.xT="form",this.rc=150,this.VT=400,this.Mg=!1,this.ao=ri((a,c)=>this.scrollListener(a,c),this.rc),this.Dg=ri(a=>this.resizeListener(a),this.rc),this.UT=Br(a=>this.mouseMoveListener(a),this.VT),this.jT=[{boundElement:window,type:"resize",listener:()=>this.Dg()},{boundElement:document,type:"scroll",listener:a=>this.ao(a)},{boundElement:window,type:"mousemove",listener:a=>{this.UT(mu(a))}},{boundElement:document,type:"mousedown",listener:a=>this.mouseDownListener(a)},{boundElement:document,type:"mouseup",listener:a=>this.mouseUpListener(a)},{boundElement:document,type:"click",listener:a=>this.clickListener(a)}],this.kg=[{type:"change",listener:this.$t.on(this.LT,a=>this.changeListener(a))},{type:"submit",listener:this.$t.on(this.xT,a=>this.submitListener(a))}],this.HT=[{boundElement:document,type:"mouseover",listener:this.$t.on(this.Ng,a=>this.mouseOverListener(a))},{boundElement:document,type:"mouseout",listener:this.$t.on(this.Ng,a=>this.mouseOutListener(a))},{boundElement:document,type:"focusin",listener:this.$t.on(this.Og,a=>this.focusInListener(a))},{boundElement:document,type:"focusout",listener:this.$t.on(this.Og,a=>this.focusOutListener(a))},{boundElement:document,type:"keyup",listener:this.$t.on(this.oo,a=>this.keyUpListener(a))},{boundElement:document,type:"keydown",listener:this.$t.on(this.oo,a=>this.keyDownListener(a))},{boundElement:document,type:"copy",listener:this.$t.on(this.oo,a=>this.copyListener(a))},{boundElement:document,type:"cut",listener:this.$t.on(this.oo,a=>this.cutListener(a))},{boundElement:document,type:"paste",listener:this.$t.on(this.oo,a=>this.pasteListener(a))},...csArray.prototype.map.call(this.kg,a=>({...a,boundElement:document}))],this.B={},this.$l=(a,c)=>{switch(c){case"initial":case"added":this.Fi(a);break;case"removed":this.Gi(a);break}},this.pe=new ua(this.$l),this.Xh()}Fi(t){if(An(t)){let e=this.Lg();csArray.prototype.forEach.call(e,r=>_s(r))}else{let e=this.xg();csArray.prototype.forEach.call(e,r=>{_s({...r,boundElement:t})})}}Gi(t){if(An(t)){let e=this.Lg();csArray.prototype.forEach.call(e,r=>ws(r))}else{let e=this.xg();csArray.prototype.forEach.call(e,r=>{ws({...r,boundElement:t})})}}onEvent(t){this.V=t}start(){this.pe.observe(),this.Fi(document),this.resizeListener()}stop(){this.Gi(document),this.pe.disconnect()}flushPendingDebouncedListeners(){this.ao.flushPending(),this.Dg.flushPending()}Vg(t){return csArray.prototype.some.call(this.kT,e=>e===t)}xg(){return this.$t.isMatchesSelectorSupported()?csArray.prototype.filter.call(this.kg,t=>!this.Vg(t.type)):(j.warn("Element.matches is not implemented yet"),[])}Lg(){let t=[];return csArray.prototype.push.call(t,...this.jT),this.$t.isMatchesSelectorSupported()?csArray.prototype.push.call(t,...this.HT):j.warn("Element.matches is not implemented yet"),csArray.prototype.filter.call(t,e=>!this.Vg(e.type))}resizeListener(t){let e=ys.getScrollContainer(),r=As(e);r&&(this.Mg=!0);let o={type:U.RESIZE,ts:0,x:r?e.clientWidth:gt.windowWidth(),y:r?e.clientHeight:gt.windowHeight()};t!==void 0&&(o.d=t),this.V(o)}scrollListener(t,e){let r=ys.isEventOnScrollContainer(e);!this.Mg&&r&&this.resizeListener();let o={type:U.SCROLL,ts:0,x:r?csEventtarget.apply(e).scrollLeft:gt.windowOffsetX(),y:r?csEventtarget.apply(e).scrollTop:gt.windowOffsetY(),d:t},a=pt.buildFromAnalysisEvent(e,o,this.Ft);this.V(a)}mouseMoveListener(t){let e={type:U.MOUSEMOVE,ts:0,x:t.pageX,y:t.pageY},r=pt.buildFromAnalysisEvent(t,e,this.Ft);this.V(r)}mouseDownListener(t){let e={type:U.MOUSEDOWN,ts:0,x:t.pageX,y:t.pageY,tgt:""},r=pt.buildFromAnalysisEvent(t,e,this.Ft);this.Ee(r)}mouseUpListener(t){let e={type:U.MOUSEUP,ts:0,x:t.pageX,y:t.pageY,tgt:""},r=pt.buildFromAnalysisEvent(t,e,this.Ft);this.Ee(r)}clickListener(t){let e={type:U.CLICK,ts:0,x:t.pageX,y:t.pageY,tgt:""},r=pt.buildFromAnalysisEvent(t,e,this.Ft);this.Ee(r)}mouseOverListener(t){let e={type:U.MOUSEOVER,ts:0,x:t.pageX,y:t.pageY,tgt:""},r=pt.buildFromAnalysisEvent(t,e,this.Ft);this.Ee(r)}mouseOutListener(t){let e={type:U.MOUSEOUT,ts:0,x:t.pageX,y:t.pageY,tgt:this.pt.getEventTargetPath(t)},r=pt.buildFromAnalysisEvent(t,e,this.Ft);this.Ee(r)}focusInListener(t){let e={type:U.FOCUSIN,ts:0,tgt:this.pt.getEventTargetPath(t)},r=pt.buildFromAnalysisEvent(t,e,this.Ft);this.Ee(r)}focusOutListener(t){let e={type:U.FOCUSOUT,ts:0,tgt:this.pt.getEventTargetPath(t)},r=pt.buildFromAnalysisEvent(t,e,this.Ft);this.Ee(r)}changeListener(t){let e={type:U.CHANGE,ts:0,tgt:""},r=pt.buildFromAnalysisEvent(t,e,this.Ft);this.Ee(r)}submitListener(t){let e={type:U.SUBMIT,ts:0,tgt:""},r=pt.buildFromAnalysisEvent(t,e,this.Ft);this.Ee(r)}copyListener(t){let e={type:U.COMMAND,ts:0,tgt:this.pt.getEventTargetPath(t),key:$i.COPY};this.Ee(e)}cutListener(t){let e={type:U.COMMAND,ts:0,tgt:this.pt.getEventTargetPath(t),key:$i.CUT};this.Ee(e)}pasteListener(t){let e={type:U.COMMAND,ts:0,tgt:this.pt.getEventTargetPath(t),key:$i.PASTE};this.Ee(e)}keyUpListener(t){let e={type:U.KEYUP,ts:0,tgt:this.pt.getEventTargetPath(t),key:this.Ug(t)};this.Ee(e)}keyDownListener(t){let e={type:U.KEYDOWN,ts:0,tgt:this.pt.getEventTargetPath(t),key:this.Ug(t)};this.Ee(e)}Ug(t){let e=this.B[t.key];return e===void 0?lt.ALPHANUMERICAL:e}Ee(t){qo(t)&&t.tgt!==Zt.INVALID_ELEMENT&&this.V(t)}Xh(){this.B[" "]=lt.SPACE,this.B.Spacebar=lt.SPACE,this.B.Enter=lt.ENTER,this.B.Backspace=lt.BACKSPACE,this.B.Delete=lt.DELETE,this.B.ArrowUp=lt.ARROWUP,this.B.ArrowDown=lt.ARROWDOWN,this.B.ArrowLeft=lt.ARROWLEFT,this.B.ArrowRight=lt.ARROWRIGHT,this.B.Up=lt.ARROWUP,this.B.Down=lt.ARROWDOWN,this.B.Left=lt.ARROWLEFT,this.B.Right=lt.ARROWRIGHT,this.B.CapsLock=lt.CAPSLOCK,this.B.Shift=lt.SHIFT,this.B.Tab=lt.TAB}}return W([z("Event handler type: resize")],s.prototype,"resizeListener",null),W([z("Event handler type: scroll")],s.prototype,"scrollListener",null),W([z("Event handler type: mouseMove"),Ee()],s.prototype,"mouseMoveListener",null),W([z("Event handler type: mouseDown"),Ee()],s.prototype,"mouseDownListener",null),W([z("Event handler type: mouseUp"),Ee()],s.prototype,"mouseUpListener",null),W([z("Event handler type: click"),Ee()],s.prototype,"clickListener",null),W([z("Event handler type: mouseOver"),Ee()],s.prototype,"mouseOverListener",null),W([z("Event handler type: mouseOut"),Ee()],s.prototype,"mouseOutListener",null),W([z("Event handler type: focusIn")],s.prototype,"focusInListener",null),W([z("Event handler type: focusOut")],s.prototype,"focusOutListener",null),W([z("Event handler type: change")],s.prototype,"changeListener",null),W([z("Event handler type: submit"),Ee()],s.prototype,"submitListener",null),W([z("Event handler type: copy")],s.prototype,"copyListener",null),W([z("Event handler type: cut")],s.prototype,"cutListener",null),W([z("Event handler type: paste")],s.prototype,"pasteListener",null),W([z("Event handler type: keyup")],s.prototype,"keyUpListener",null),W([z("Event handler type: keydown")],s.prototype,"keyDownListener",null),s})(),df=(()=>{class s{constructor(t,e,r){this.Ft=t,this.Bt=e,this.Pt=r}processGesture(t,e){switch(t.type){case Rt.TAP:this.BT(e);break;case Rt.FLICK:this.FT(t,e);break;case Rt.DRAG:this.GT(t,e);break;default:break}}BT(t){let e={type:U.TAP,ts:0,x:0,y:0,tgt:""},r=pt.buildFromAnalysisEvent(t,e,this.Ft);r.tgt!==Zt.INVALID_ELEMENT&&this.V(r)}GT(t,e){var r,o;let a={type:U.DRAG,ts:0,fd:t.direction,tgt:""};!((r=this.Pt)===null||r===void 0)&&r.collectGestureDistance&&(a.distance=t.distance),!((o=this.Pt)===null||o===void 0)&&o.collectGestureVelocity&&(a.velocity=t.velocity);let c=pt.buildFromAnalysisEvent(e,a,this.Ft);c.tgt!==Zt.INVALID_ELEMENT&&this.V(c)}FT(t,e){var r,o;let a={type:U.FLICK,ts:0,fd:t.direction,tgt:""};!((r=this.Pt)===null||r===void 0)&&r.collectGestureDistance&&(a.distance=t.distance),!((o=this.Pt)===null||o===void 0)&&o.collectGestureVelocity&&(a.velocity=t.velocity);let c=pt.buildFromAnalysisEvent(e,a,this.Ft);c.tgt!==Zt.INVALID_ELEMENT&&this.V(c)}onEvent(t){this.V=t}start(){this.Bt.subscribe(s.jg,(t,e)=>this.processGesture(t,e))}stop(){this.Bt.unsubscribe(s.jg)}}return s.jg="AnalysisGestureTracker",W([Ee()],s.prototype,"processGesture",null),s})();var ff=(()=>{class s{constructor(){this.Xg=100,this.ho=0,this.uo=gt.documentHeight(),this.Kg={boundElement:document,type:"scroll",listener:t=>this.maxScrollRateListener(t)},this.ho=this.Eu(ys.getScrollContainer()).maxScrollRate}onEvent(t){this.V=t}start(){_s(this.Kg)}stop(){ws(this.Kg)}reset(){let t=ys.getScrollContainer(),{maxScrollRate:e,maxDocumentHeight:r}=this.Eu(t);this.uo=r,this.ho=e,this.V()}Eu(t){let e=0,r=0;if(t===null)r=gt.documentHeight(),e=this.eb(r);else{let o=this.sb(t);r=this.Jg(t,o),e=this.ib(t,o)}return{maxScrollRate:e,maxDocumentHeight:r}}maxScrollRateListener(t){let e=null;ys.isEventOnScrollContainer(t)&&(e=csEventtarget.apply(t));let{maxScrollRate:r,maxDocumentHeight:o}=this.Eu(e);(r>this.ho||o>this.uo)&&(this.ho=r,o>this.uo&&(this.uo=o),this.V())}eb(t){let e=Math.round(this.rb()/t*100);return Math.min(e,this.Xg)}rb(){let t=gt.windowHeight();return gt.windowOffsetY()+t}ib(t,e){let r=t.scrollTop+t.clientHeight+t.getBoundingClientRect().top+e,o=this.Jg(t,e),a=Math.round(r/o*100);return Math.min(a,this.Xg)}sb(t){let e=window.getComputedStyle(t).paddingTop||"0px";return parseInt(e,10)}Jg(t,e){return t.scrollHeight+t.getBoundingClientRect().top+e}getRequestParameters(){return{sr:`${this.ho}`,mdh:`${this.uo}`}}}return W([z("MaxScrollRate handler")],s.prototype,"maxScrollRateListener",null),s})(),pf=(()=>{class s{constructor(t){this.fo=t,this.po=e=>this.processMetric(e),this.U=!1}onEvent(t){this.V=t}start(){this.U||(this.U=!0,this.fo.onFCP(this.po),this.fo.onCLS(this.po),this.fo.onLCP(this.po),this.fo.onTTFB(this.po),this.fo.onINP(this.po))}stop(){this.U=!1}processMetric(t){if(!this.U)return;let e={type:U.PERFORMANCE,name:t.name,val:t.value,ts:0};this.V(e)}}return W([z("Performance metric handler")],s.prototype,"processMetric",null),s})(),gf=(()=>{class s{constructor(t){this.cc=t.performance}getRequestParameters(){if(this.nb())return{};let t=this.ob();return{str:t.startRender,di:t.domInteractive,dc:t.domComplete,fl:t.fullyLoaded}}ob(){let t=this.cc.timing;return{startRender:`${t.domLoading-t.requestStart}`,domInteractive:`${t.domInteractive-t.requestStart}`,domComplete:`${t.domComplete-t.requestStart}`,fullyLoaded:`${t.loadEventEnd-t.requestStart}`}}nb(){return!(this.cc&&this.cc.timing&&this.cc.timing.loadEventEnd>0)}}return s})();var Ea=-1,as=s=>{addEventListener("pageshow",i=>{i.persisted&&(Ea=i.timeStamp,s(i))},!0)},Ft=(s,i,t,e)=>{let r,o;return a=>{i.value>=0&&(a||e)&&(o=i.value-(r!=null?r:0),(o||r===void 0)&&(r=i.value,i.delta=o,i.rating=((c,h)=>c>h[1]?"poor":c>h[0]?"needs-improvement":"good")(i.value,t),s(i)))}},$r=s=>{requestAnimationFrame(()=>requestAnimationFrame(()=>s()))},zr=()=>{let s=performance.getEntriesByType("navigation")[0];if(s&&s.responseStart>0&&s.responseStart<performance.now())return s},Is=()=>{var i;let s=zr();return(i=s==null?void 0:s.activationStart)!=null?i:0},Gt=(s,i=-1)=>{let t=zr(),e="navigate";return Ea>=0?e="back-forward-cache":t&&(document.prerendering||Is()>0?e="prerender":document.wasDiscarded?e="restore":t.type&&(e=t.type.replace(/_/g,"-"))),{name:s,value:i,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:e}},Wi=new WeakMap;function qr(s,i){return Wi.get(s)||Wi.set(s,new i),Wi.get(s)}var yr=class{constructor(){zt(this,"t");zt(this,"i",0);zt(this,"o",[])}h(i){var r;if(i.hadRecentInput)return;let t=this.o[0],e=this.o.at(-1);this.i&&t&&e&&i.startTime-e.startTime<1e3&&i.startTime-t.startTime<5e3?(this.i+=i.value,this.o.push(i)):(this.i=i.value,this.o=[i]),(r=this.t)==null||r.call(this,i)}},Ps=(s,i,t={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(s)){let e=new PerformanceObserver(r=>{Promise.resolve().then(()=>{i(r.getEntries())})});return e.observe({type:s,buffered:!0,...t}),e}}catch{}},Wr=s=>{let i=!1;return()=>{i||(s(),i=!0)}},is=-1,Qn=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,fi=s=>{document.visibilityState==="hidden"&&is>-1&&(is=s.type==="visibilitychange"?s.timeStamp:0,mf())},Zn=()=>{addEventListener("visibilitychange",fi,!0),addEventListener("prerenderingchange",fi,!0)},mf=()=>{removeEventListener("visibilitychange",fi,!0),removeEventListener("prerenderingchange",fi,!0)},Sa=()=>{var s;if(is<0){let i=Is(),t=document.prerendering||(s=globalThis.performance.getEntriesByType("visibility-state").filter(e=>e.name==="hidden"&&e.startTime>i)[0])==null?void 0:s.startTime;is=t!=null?t:Qn(),Zn(),as(()=>{setTimeout(()=>{is=Qn(),Zn()})})}return{get firstHiddenTime(){return is}}},Si=s=>{document.prerendering?addEventListener("prerenderingchange",()=>s(),!0):s()},to=[1800,3e3],va=(s,i={})=>{Si(()=>{let t=Sa(),e,r=Gt("FCP"),o=Ps("paint",a=>{for(let c of a)c.name==="first-contentful-paint"&&(o.disconnect(),c.startTime<t.firstHiddenTime&&(r.value=Math.max(c.startTime-Is(),0),r.entries.push(c),e(!0)))});o&&(e=Ft(s,r,to,i.reportAllChanges),as(a=>{r=Gt("FCP"),e=Ft(s,r,to,i.reportAllChanges),$r(()=>{r.value=performance.now()-a.timeStamp,e(!0)})}))})},eo=[.1,.25],yf=(s,i={})=>{va(Wr(()=>{let t,e=Gt("CLS",0),r=qr(i,yr),o=c=>{for(let h of c)r.h(h);r.i>e.value&&(e.value=r.i,e.entries=r.o,t())},a=Ps("layout-shift",o);a&&(t=Ft(s,e,eo,i.reportAllChanges),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(o(a.takeRecords()),t(!0))}),as(()=>{r.i=0,e=Gt("CLS",0),t=Ft(s,e,eo,i.reportAllChanges),$r(()=>t())}),setTimeout(t))}))},_a=0,Yi=1/0,Ks=0,Ef=s=>{for(let i of s)i.interactionId&&(Yi=Math.min(Yi,i.interactionId),Ks=Math.max(Ks,i.interactionId),_a=Ks?(Ks-Yi)/7+1:0)},Er,so=()=>{var s;return Er?_a:(s=performance.interactionCount)!=null?s:0},Sf=()=>{"interactionCount"in performance||Er||(Er=Ps("event",Ef,{type:"event",buffered:!0,durationThreshold:0}))},io=0,Sr=class{constructor(){zt(this,"u",[]);zt(this,"l",new Map);zt(this,"m");zt(this,"p")}v(){io=so(),this.u.length=0,this.l.clear()}P(){let i=Math.min(this.u.length-1,Math.floor((so()-io)/50));return this.u[i]}h(i){var r,o;if((r=this.m)==null||r.call(this,i),!i.interactionId&&i.entryType!=="first-input")return;let t=this.u.at(-1),e=this.l.get(i.interactionId);if(e||this.u.length<10||i.duration>t.T){if(e?i.duration>e.T?(e.entries=[i],e.T=i.duration):i.duration===e.T&&i.startTime===e.entries[0].startTime&&e.entries.push(i):(e={id:i.interactionId,entries:[i],T:i.duration},this.l.set(e.id,e),this.u.push(e)),this.u.sort((a,c)=>c.T-a.T),this.u.length>10){let a=this.u.splice(10);for(let c of a)this.l.delete(c.id)}(o=this.p)==null||o.call(this,e)}}},wa=s=>{let i=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?s():(i(s=Wr(s)),document.addEventListener("visibilitychange",s,{once:!0}))},ro=[200,500],vf=(s,i={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&Si(()=>{var c;Sf();let t,e=Gt("INP"),r=qr(i,Sr),o=h=>{wa(()=>{for(let g of h)r.h(g);let f=r.P();f&&f.T!==e.value&&(e.value=f.T,e.entries=f.entries,t())})},a=Ps("event",o,{durationThreshold:(c=i.durationThreshold)!=null?c:40});t=Ft(s,e,ro,i.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(o(a.takeRecords()),t(!0))}),as(()=>{r.v(),e=Gt("INP"),t=Ft(s,e,ro,i.reportAllChanges)}))})},vr=class{constructor(){zt(this,"m")}h(i){var t;(t=this.m)==null||t.call(this,i)}},no=[2500,4e3],_f=(s,i={})=>{Si(()=>{let t=Sa(),e,r=Gt("LCP"),o=qr(i,vr),a=h=>{i.reportAllChanges||(h=h.slice(-1));for(let f of h)o.h(f),f.startTime<t.firstHiddenTime&&(r.value=Math.max(f.startTime-Is(),0),r.entries=[f],e())},c=Ps("largest-contentful-paint",a);if(c){e=Ft(s,r,no,i.reportAllChanges);let h=Wr(()=>{a(c.takeRecords()),c.disconnect(),e(!0)});for(let f of["keydown","click","visibilitychange"])addEventListener(f,()=>wa(h),{capture:!0,once:!0});as(f=>{r=Gt("LCP"),e=Ft(s,r,no,i.reportAllChanges),$r(()=>{r.value=performance.now()-f.timeStamp,e(!0)})})}})},oo=[800,1800],_r=s=>{document.prerendering?Si(()=>_r(s)):document.readyState!=="complete"?addEventListener("load",()=>_r(s),!0):setTimeout(s)},wf=(s,i={})=>{let t=Gt("TTFB"),e=Ft(s,t,oo,i.reportAllChanges);_r(()=>{let r=zr();r&&(t.value=Math.max(r.responseStart-Is(),0),t.entries=[r],e(!0),as(()=>{t=Gt("TTFB",0),e=Ft(s,t,oo,i.reportAllChanges),e(!0)}))})},Af=(()=>{class s{onFCP(t){try{va(t,{reportAllChanges:!0})}catch{V.counters.webVitalsErrors.count("FCP")}}onCLS(t){try{yf(t,{reportAllChanges:!0})}catch{V.counters.webVitalsErrors.count("CLS")}}onLCP(t){try{_f(t,{reportAllChanges:!0})}catch{V.counters.webVitalsErrors.count("LCP")}}onTTFB(t){try{wf(t,{reportAllChanges:!0})}catch{V.counters.webVitalsErrors.count("TTFB")}}onINP(t){try{vf(t,{reportAllChanges:!0})}catch{V.counters.webVitalsErrors.count("INP")}}}return s})();var Tf="csAnalysisEventsPersisted",ao="v2/events",Aa=["submit"],wr=["trackEvent"];var bf=(()=>{class s{constructor(t,e,r,o,a,c,h,f,g,m,y,v,I,D,x){this.E=t,this.St=e,this.O=r,this.J=o,this.$t=a,this.S=c,this.G=h,this.Bt=f,this.Tt=g,this.Oe=m,this.Z=y,this.Gt=v,this.mt=I,this.Ze=D,this.es=x}init(){let t=new hf,e=this.Oe.create(`${this.E.getTrackerUri()}/${ao}`,"base64");this.xr=this.vb(e),this.le=this._b(t,this.xr.getRecoveryStorage(),e),this.le.init(),this.Z.addListener(this.le),this.Tt.addListener(this.le),this.S.register(Aa,(r,o)=>{this.le.pushSubmitCommandEvent(r,o)}),this.S.register(wr,r=>{if(!yo(r))throw new ut(wr[0]);this.le.pushCustomEvent(r.name,r.source,r.properties)})}onStartTracking(t){this.xr.start(),this.le.start(t)}onAfterNaturalPageView(){this.le.initStates()}onArtificialPageViewEnd(t){this.le.clearStates(!0),t&&(this.le.stop(),this.xr.stop())}onAfterArtificialPageView(t){this.le.initStates(),t&&(this.le.start(),this.xr.start()),this.le.collectInitialEvents()}onBeforeSessionRenewal(){this.le.clearStates(),this.le.stop(),this.xr.stop()}onOptout(){this.le.stop(),this.xr.stop()}_b(t,e,r){var o,a;let c=new gf(window),h=new ff,f=nf(this.E,this.J,this.Gt,this.Ze,this.es),g=[];this.E.collectSubmit||csArray.prototype.push.call(g,"submit");let m=new uf(f,this.J,this.$t,g),y=of(this.E,this.J,this.Gt,this.Ze,this.es),v=new df(y,this.Bt),I=new pf(new Af),D=new qd,x,_,w,O=new $d(`${this.E.getTrackerUri()}/${ao}`),C=new ui(this.St,this.O),T,k,Y,J;return new tf(this.E,m,v,h,c,t,O,C,this.G,e,this.J,I,D,r,f,x,_,w,T,k,Y,J)}vb(t){return new af(new cf(Tf),t)}}return s})();var Js=(()=>{let s;return function(i){i[i.NOT_NEEDED=1]="NOT_NEEDED",i[i.NOT_EXPRESSED=2]="NOT_EXPRESSED",i[i.WITHDRAWN=3]="WITHDRAWN",i[i.GRANTED=4]="GRANTED"}(s||(s={})),s})(),Te=(()=>{let s;return function(i){function t(o){return o.replayConsentRequiredForSession}i.isReplayConsentNeeded=t;function e(o){return o.collectState===R.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED||o.collectState===R.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}i.isRecordingBlockedByConsent=e;function r(o){return o.collectState===R.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}i.isRecordingWithDrawn=r}(s||(s={})),s})(),Rf=(()=>{class s{constructor(t,e,r,o){this.O=t,this.R=e,this.E=r,this.ls=o,this.pm=!1}isNaturalPageViewSent(){return this.pm}setNaturalPageViewSent(t){this.pm=t}getTrackingContext(){let t=this.R.getSession();if(!t)return null;let e=this.getSessionKey();if(!e)return null;let r=this.E.projectId,o=this.E.uxaDomain,a=t.pageNumber,c=this.ls.getPageViewType(),h=this.R.isReplayRecorded(),f=this.Rb(t);return{projectId:r,sessionKey:e,pageNumber:a,pageViewType:c,isRecording:h,uxaDomain:o,recordingConsentState:f,...this.E.smbConfig}}getSessionKey(){let t=this.O.getVisitor();return t?`${t.id}.${t.visitsCount}`:null}Rb(t){return Te.isReplayConsentNeeded(this.E)?t.collectState===R.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED?Js.NOT_EXPRESSED:t.collectState===R.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?Js.WITHDRAWN:Js.GRANTED:Js.NOT_NEEDED}}return s})(),Cf=(()=>{class s{constructor(t){this.kt=t,this.he=[]}handleCommand(t){if(Fe(t)&&(this.mo(t),this.kt.isNaturalPageViewSent())){let e=this.kt.getTrackingContext();e!==null&&this.zt(t,e)}}mo(t){csArray.prototype.push.call(this.he,t)}executeRegisteredCallbacks(){let t=this.kt.getTrackingContext();t!==null&&csArray.prototype.map.call(this.he,e=>this.zt(e,t))}zt(t,e){csSetTimeout(()=>{t(e)})}}return s})(),If=(()=>{class s{constructor(t){this.kt=t,this.Qi=[]}handleCommand(t){if(this.kt.isNaturalPageViewSent())return this.Cb(t);this.yo(t)}Cb(t){let e=this.kt.getSessionKey();return this.gm(t)&&e!==null&&this.zt(t.callback,e),e}yo(t){this.gm(t)&&csArray.prototype.push.call(this.Qi,t.callback)}flushPendingCallbacks(){let t=this.kt.getSessionKey();t!==null&&csArray.prototype.forEach.call(this.Qi,e=>{this.zt(e,t)}),this.Qi=[]}gm(t){return t&&typeof t.callback=="function"}zt(t,e){csSetTimeout(()=>{t(e)})}}return s})();function Pf(s,i){let{isRecording:t,pageNumber:e,projectId:r,siteId:o,uxaDomain:a,csLiteDomain:c}=s,h=/^(.+)\.(\d+)$/.exec(s.sessionKey),f;if(t&&h){let[,g,m]=h;o?f=`${c}/sites/${o}/player?uu=${g}&sn=${m}&pn=${e}`:f=`${a}/quick-playback/index.html?pid=${r}&uu=${g}&sn=${m}&pvid=${e}&recordingType=cs`,i.withTimestamp&&(f+=`&t=${F.now()-i.recordingStartTimestamp}`)}return{replayLink:f,isRecording:t}}var Of=(()=>{class s{constructor(t){this.kt=t}handleCommand(t,e){Es(t)&&Fe(e)&&this.zt(t,e)}zt(t,e){csSetTimeout(()=>{let r=this.kt.getTrackingContext();if(r){let o=Pf(r,t);e(o)}})}}return s})(),Nf=(()=>{class s{constructor(){this.he=new Set}handleCommand(t,e){return!Fe(t)||this.he.has(t)?null:(this.he.add(t),e&&(this.Ie=e,this.mm(t,e)),()=>this.he.delete(t))}executeCallbacks(t){this.Ib(t)&&(this.Ie=t,this.he.forEach(e=>this.mm(e,t)))}mm(t,e){csSetTimeout(()=>{try{t(e)}catch{}})}Ib(t){let{isRecording:e,recordingStartTimestamp:r,etrState:o,etrStatus:a,collectState:c}=t;return this.Ie&&(this.Ie.isRecording!==e||this.Ie.recordingStartTimestamp!==r||this.Ie.etrState!==o||this.Ie.etrStatus!==a||this.Ie.collectState!==c)}}return s})(),Mf=["afterPageView"],Df=["getSessionKey"],kf=["onRecordingContextChange","onRecordingStateChange"],Lf=["replay:link:generate"],xf=(()=>{class s{constructor(t,e,r,o,a,c,h,f){this.O=t,this.R=e,this.S=r,this.Tt=o,this.tt=a,this.E=c,this.ls=h,this.mi=f,this.ym=null}init(){this.kt=new Rf(this.O,this.R,this.E,this.ls),this.wu=new Cf(this.kt),this.Em=new If(this.kt),this.Eo=new Nf,this.Pb=new Of(this.kt),this.S.register(Df,t=>this.Em.handleCommand(t)),this.S.register(Mf,t=>this.wu.handleCommand(t)),this.S.register(kf,t=>this.Eo.handleCommand(t,this.mi.getRecordingContext())),this.S.register(Lf,(t,e)=>{this.Vr&&this.Pb.handleCommand({...t,recordingStartTimestamp:this.mi.getRecordingContext().recordingStartTimestamp},e)})}onAfterNaturalPageView(){var t;this.kt.setNaturalPageViewSent(!0),this.Em.flushPendingCallbacks(),this.wu.executeRegisteredCallbacks(),(t=this.ym)===null||t===void 0||t.sendAfterPageViewCallbackToChildren()}onAfterArtificialPageView(){var t;this.wu.executeRegisteredCallbacks(),(t=this.ym)===null||t===void 0||t.sendAfterPageViewCallbackToChildren()}onCollectStateChange(){this.executeRecordingContextChangeCallbacks()}onRecordingContextChange(){this.executeRecordingContextChangeCallbacks()}executeRecordingContextChangeCallbacks(){this.Eo.executeCallbacks(this.mi.getRecordingContext())}setRecordingService(t){this.Vr=t}}return W([Xo({wait:0,mode:"trailing"})],s.prototype,"executeRecordingContextChangeCallbacks",null),s})();var Vf=["optout"];var Uf=(()=>{class s{constructor(t,e){this.S=t,this.cs=e}init(){this.S.register(Vf,()=>{this.cs.activate()})}}return s})(),ps="_cs_optout",jf=(()=>{class s{constructor(t,e,r){this.E=t,this.N=e,this.Nt=r}get(){return this.E.cookielessTrackingEnabled?this.Nt.getItem(ps):this.N.get(ps)}set(t){this.E.cookielessTrackingEnabled?this.Nt.setItem(ps,t):this.N.set(ps,t,Cr)}}return s})(),co="1",Hf=(()=>{class s{constructor(t,e,r){this.w=t,this.Lt=e,this.ft=r}init(){!this.isActive()&&this.Gb()&&this.activate()}isActive(){return this.ft.get()===co}activate(){this.w.emitOptout(),this.ft.set(co)}Gb(){return csString.prototype.indexOf.call(this.Lt.href,ps)>0}}return s})(),Bf=(()=>{class s{constructor(){this.gc=null,this.$b=1}startInterval(){this.gc=window.csSetInterval(()=>{let t=this.$b++;if(this.flush(`interval.${t}`),t>=5){this.stopInterval();return}},5e3)}flush(t){V.counters.tasks.flush(t),V.counters.longTasks.flush(t)}clear(){V.counters.tasks.reset(),V.counters.longTasks.reset(),this.stopInterval()}stopInterval(){this.gc&&(csClearInterval(this.gc),this.gc=null)}}return s})(),Ff=(()=>{class s{constructor(){this.zb=["clicktale.net","contentsquare.net","hotjar.com","heap-api.com"],this.wo=!1,this.Ao=null,this.Fs=new Bf}onStartTracking(){this.qb()}qb(){let t=csArray.prototype.filter.call(performance.getEntriesByType("resource"),e=>{if(e.initiatorType!=="script")return!1;let r=csString.prototype.split.call(e.name,"/")[2]||"";return csArray.prototype.some.call(this.zb,o=>csString.prototype.endsWith.call(r,o))});csArray.prototype.forEach.call(t,e=>{if(e.transferSize===0)return;let r=e.responseEnd-e.responseStart,o=e.transferSize,c=e.duration-r,h=csString.prototype.split.call(e.name,"/")[2];r>=0&&V.counters.downloadTime.add(h,r),o>=0&&V.counters.transferSize.add(h,o),c>=0&&V.counters.evalTime.add(h,c)}),t.length>0&&(V.counters.downloadTime.flush(),V.counters.transferSize.flush(),V.counters.evalTime.flush())}Cm(){V.counters.blockingTime.flush(),V.counters.inpContribution.flush()}onBeforeArtificialPageView(){this.Cm(),this.Ao&&csClearTimeout(this.Ao),this.Fs.stopInterval(),this.wo=!0}onBeforeNaturalPageView(){this.Cm()}onAfterNaturalPageView(t){t===Ve.Natural?(this.Fs.flush("boot"),this.Fs.startInterval()):(this.Ao&&csClearTimeout(this.Ao),this.Fs.stopInterval(),this.wo=!0)}onInitialDomStart(){this.wo||this.Fs.stopInterval()}onInitialDomDone(){this.wo||(this.wo=!0,this.Fs.flush("initial-dom"),this.Ao=window.csSetTimeout(()=>{this.Fs.flush("post-initial-dom"),this.Fs.startInterval()},5e3))}onOptout(){this.Fs.clear()}}return s})(),Gf=(()=>{let s;return function(i){i.COMPRESSION_DISABLED="compressionDisabled"}(s||(s={})),s})(),$f=(()=>{class s{constructor(){}static init(t){(!this.Mu||t!==void 0)&&this.initFlags(t)}static initFlags(t=document.cookie){var e;let r=(e=/_cs_debug=((\w|\.|\:|=)+)/g.exec(t))===null||e===void 0?void 0:e[1];if(this.Mu=new Map,r){let o=csString.prototype.split.call(r,".");for(let a=0;a<o.length;a++){let[c,h]=csString.prototype.split.call(o[a],"=");this.Mu.set(c,h||"true")}}}static getBoolean(t){let e=this.getString(t);return e!=null&&e!=="false"&&parseInt(e)!==0}static getString(t){var e;return this.init(),(e=this.Mu)===null||e===void 0?void 0:e.get(t)}static isCompressionEnabled(){return!this.getBoolean(Gf.COMPRESSION_DISABLED)}static Log(t){return(e,r,o)=>{var a;let c=r.toString(),h=`${(a=e.constructor)===null||a===void 0?void 0:a.name}.${c}`,f=o.value;zf(s.getString("debugLog"),t)&&(o.value=function(...g){return console.log(h,...g),f.bind(this)(...g)})}}}return s})();function zf(s,i){var t;return s==null?!1:s===i||!!(!((t=csString.prototype.match.call(s,new csRegExp("(^|,)("+i+")(,|$)")))===null||t===void 0)&&t.length)}var qf=(()=>{class s{constructor(t){this.Wb=t,this.Im=[],this.Du={},this.Yb=0}static async create(t,e={}){let r=new s(t),o;return csArray.prototype.forEach.call(Object.entries(e),([a,c])=>{e[a]=c,r.register(c)}),await r.jr().catch(a=>{rt.warn("Failed to start worker: "+a.toString()),o=new t}),new Proxy(r,{get(a,c){return c==="__worker"?r.Se:t.prototype[c]instanceof Function?(...h)=>o?Promise.resolve(o[c](...h)):r.Pm(c,h):o?Promise.resolve(o[c]):r.Pm(c,[])}})}Pm(t,e){let r=++this.Yb;return new Promise((o,a)=>{this.Du[r]=(c,h)=>{delete this.Du[r],c?a(c):o(h)},this.Se.postMessage({id:r,command:t,params:e})})}register(t){csArray.prototype.push.call(this.Im,t.toString())}jr(){try{let t=lo.toString()+`
`+csArray.prototype.join.call(this.Im,`
`)+`

const klass = (${this.Wb.toString()});

${lo.name}()`,e=new Blob([t],{type:"application/javascript"}),r=csURL.createObjectURL(e);this.Se=new Worker(r),this.Se.addEventListener("message",o=>{var a,c,h,f,g;if(o.data!=="ping"){if(!((a=o.data)===null||a===void 0)&&a.critical||!o.data.id){rt.error("Worker error:",(h=(c=o.data)===null||c===void 0?void 0:c.critical)!==null&&h!==void 0?h:"No ID");return}(g=(f=this.Du)[o.data.id])===null||g===void 0||g.call(f,o.data.error,o.data.result)}})}catch(t){return Promise.reject(t)}return new Promise((t,e)=>{this.Se.onerror=r=>e(new Error(r.message)),this.Se.onmessage=()=>{this.Se.onmessage=this.Se.onerror=null,t()}})}}return s})();function lo(){let s=new klass;self.postMessage("ping"),self.onmessage=i=>{var t,e,r;if(!(!((t=i.data)===null||t===void 0)&&t.command))return self.postMessage({critical:"Invalid command",id:(e=i.data)===null||e===void 0?void 0:e.id,command:(r=i.data)===null||r===void 0?void 0:r.command});Promise.resolve().then(()=>{let o=s[i.data.command];return typeof o=="function"?o.apply(s,i.data.params):o}).then(o=>{var a;self.postMessage({result:o,id:i.data.id,command:(a=i.data)===null||a===void 0?void 0:a.command})},o=>{var a,c;self.postMessage({error:o,id:(a=i.data)===null||a===void 0?void 0:a.id,command:(c=i.data)===null||c===void 0?void 0:c.command})})}}function Ar(){function r(n){let u=n.length;for(;--u>=0;)n[u]=0}let o=0,a=1,c=2,h=3,f=258,g=29,m=256,y=m+1+g,v=30,I=19,D=2*y+1,x=15,_=16,w=7,O=256,C=16,T=17,k=18,Y=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),J=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),wt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),mt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),At=512,E=new Array((y+2)*2);r(E);let P=new Array(v*2);r(P);let N=new Array(At);r(N);let L=new Array(f-h+1);r(L);let Z=new Array(g);r(Z);let nt=new Array(v);r(nt);function $t(n,u,d,p,l){this.static_tree=n,this.extra_bits=u,this.extra_base=d,this.elems=p,this.max_length=l,this.has_stree=n&&n.length}let Re,We,Ye;function se(n,u){this.dyn_tree=n,this.max_code=0,this.stat_desc=u}let ie=n=>n<256?N[n]:N[256+(n>>>7)],It=(n,u)=>{n.pending_buf[n.pending++]=u&255,n.pending_buf[n.pending++]=u>>>8&255},ot=(n,u,d)=>{n.bi_valid>_-d?(n.bi_buf|=u<<n.bi_valid&65535,It(n,n.bi_buf),n.bi_buf=u>>_-n.bi_valid,n.bi_valid+=d-_):(n.bi_buf|=u<<n.bi_valid&65535,n.bi_valid+=d)},Tt=(n,u,d)=>{ot(n,d[u*2],d[u*2+1])},Os=(n,u)=>{let d=0;do d|=n&1,n>>>=1,d<<=1;while(--u>0);return d>>>1},vi=n=>{n.bi_valid===16?(It(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},_i=(n,u)=>{let d=u.dyn_tree,p=u.max_code,l=u.stat_desc.static_tree,A=u.stat_desc.has_stree,S=u.stat_desc.extra_bits,b=u.stat_desc.extra_base,$=u.stat_desc.max_length,M,vt,de,K,Ne,Je,qs=0;for(K=0;K<=x;K++)n.bl_count[K]=0;for(d[n.heap[n.heap_max]*2+1]=0,M=n.heap_max+1;M<D;M++)vt=n.heap[M],K=d[d[vt*2+1]*2+1]+1,K>$&&(K=$,qs++),d[vt*2+1]=K,!(vt>p)&&(n.bl_count[K]++,Ne=0,vt>=b&&(Ne=S[vt-b]),Je=d[vt*2],n.opt_len+=Je*(K+Ne),A&&(n.static_len+=Je*(l[vt*2+1]+Ne)));if(qs!==0){do{for(K=$-1;n.bl_count[K]===0;)K--;n.bl_count[K]--,n.bl_count[K+1]+=2,n.bl_count[$]--,qs-=2}while(qs>0);for(K=$;K!==0;K--)for(vt=n.bl_count[K];vt!==0;)de=n.heap[--M],!(de>p)&&(d[de*2+1]!==K&&(n.opt_len+=(K-d[de*2+1])*d[de*2],d[de*2+1]=K),vt--)}},Ns=(n,u,d)=>{let p=new Array(x+1),l=0,A,S;for(A=1;A<=x;A++)p[A]=l=l+d[A-1]<<1;for(S=0;S<=u;S++){let b=n[S*2+1];b!==0&&(n[S*2]=Os(p[b]++,b))}},wi=()=>{let n,u,d,p,l,A=new Array(x+1);for(d=0,p=0;p<g-1;p++)for(Z[p]=d,n=0;n<1<<Y[p];n++)L[d++]=p;for(L[d-1]=p,l=0,p=0;p<16;p++)for(nt[p]=l,n=0;n<1<<J[p];n++)N[l++]=p;for(l>>=7;p<v;p++)for(nt[p]=l<<7,n=0;n<1<<J[p]-7;n++)N[256+l++]=p;for(u=0;u<=x;u++)A[u]=0;for(n=0;n<=143;)E[n*2+1]=8,n++,A[8]++;for(;n<=255;)E[n*2+1]=9,n++,A[9]++;for(;n<=279;)E[n*2+1]=7,n++,A[7]++;for(;n<=287;)E[n*2+1]=8,n++,A[8]++;for(Ns(E,y+1,A),n=0;n<v;n++)P[n*2+1]=5,P[n*2]=Os(n,5);Re=new $t(E,Y,m+1,y,x),We=new $t(P,J,0,v,x),Ye=new $t(new Array(0),wt,0,I,w)},Ms=n=>{let u;for(u=0;u<y;u++)n.dyn_ltree[u*2]=0;for(u=0;u<v;u++)n.dyn_dtree[u*2]=0;for(u=0;u<I;u++)n.bl_tree[u*2]=0;n.dyn_ltree[O*2]=1,n.opt_len=n.static_len=0,n.last_lit=n.matches=0},Ds=n=>{n.bi_valid>8?It(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},ks=(n,u,d,p)=>{Ds(n),p&&(It(n,d),It(n,~d)),n.pending_buf.set(n.window.subarray(u,u+d),n.pending),n.pending+=d},Ai=(n,u,d,p)=>{let l=u*2,A=d*2;return n[l]<n[A]||n[l]===n[A]&&p[u]<=p[d]},Ls=(n,u,d)=>{let p=n.heap[d],l=d<<1;for(;l<=n.heap_len&&(l<n.heap_len&&Ai(u,n.heap[l+1],n.heap[l],n.depth)&&l++,!Ai(u,p,n.heap[l],n.depth));)n.heap[d]=n.heap[l],d=l,l<<=1;n.heap[d]=p},Ti=(n,u,d)=>{let p,l,A=0,S,b;if(n.last_lit!==0)do p=n.pending_buf[n.d_buf+A*2]<<8|n.pending_buf[n.d_buf+A*2+1],l=n.pending_buf[n.l_buf+A],A++,p===0?Tt(n,l,u):(S=L[l],Tt(n,S+m+1,u),b=Y[S],b!==0&&(l-=Z[S],ot(n,l,b)),p--,S=ie(p),Tt(n,S,d),b=J[S],b!==0&&(p-=nt[S],ot(n,p,b)));while(A<n.last_lit);Tt(n,O,u)},xs=(n,u)=>{let d=u.dyn_tree,p=u.stat_desc.static_tree,l=u.stat_desc.has_stree,A=u.stat_desc.elems,S,b,$=-1,M;for(n.heap_len=0,n.heap_max=D,S=0;S<A;S++)d[S*2]!==0?(n.heap[++n.heap_len]=$=S,n.depth[S]=0):d[S*2+1]=0;for(;n.heap_len<2;)M=n.heap[++n.heap_len]=$<2?++$:0,d[M*2]=1,n.depth[M]=0,n.opt_len--,l&&(n.static_len-=p[M*2+1]);for(u.max_code=$,S=n.heap_len>>1;S>=1;S--)Ls(n,d,S);M=A;do S=n.heap[1],n.heap[1]=n.heap[n.heap_len--],Ls(n,d,1),b=n.heap[1],n.heap[--n.heap_max]=S,n.heap[--n.heap_max]=b,d[M*2]=d[S*2]+d[b*2],n.depth[M]=(n.depth[S]>=n.depth[b]?n.depth[S]:n.depth[b])+1,d[S*2+1]=d[b*2+1]=M,n.heap[1]=M++,Ls(n,d,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],_i(n,u),Ns(d,$,n.bl_count)},bi=(n,u,d)=>{let p,l=-1,A,S=u[0*2+1],b=0,$=7,M=4;for(S===0&&($=138,M=3),u[(d+1)*2+1]=65535,p=0;p<=d;p++)A=S,S=u[(p+1)*2+1],!(++b<$&&A===S)&&(b<M?n.bl_tree[A*2]+=b:A!==0?(A!==l&&n.bl_tree[A*2]++,n.bl_tree[C*2]++):b<=10?n.bl_tree[T*2]++:n.bl_tree[k*2]++,b=0,l=A,S===0?($=138,M=3):A===S?($=6,M=3):($=7,M=4))},Xr=(n,u,d)=>{let p,l=-1,A,S=u[0*2+1],b=0,$=7,M=4;for(S===0&&($=138,M=3),p=0;p<=d;p++)if(A=S,S=u[(p+1)*2+1],!(++b<$&&A===S)){if(b<M)do Tt(n,A,n.bl_tree);while(--b!==0);else A!==0?(A!==l&&(Tt(n,A,n.bl_tree),b--),Tt(n,C,n.bl_tree),ot(n,b-3,2)):b<=10?(Tt(n,T,n.bl_tree),ot(n,b-3,3)):(Tt(n,k,n.bl_tree),ot(n,b-11,7));b=0,l=A,S===0?($=138,M=3):A===S?($=6,M=3):($=7,M=4)}},Pa=n=>{let u;for(bi(n,n.dyn_ltree,n.l_desc.max_code),bi(n,n.dyn_dtree,n.d_desc.max_code),xs(n,n.bl_desc),u=I-1;u>=3&&n.bl_tree[mt[u]*2+1]===0;u--);return n.opt_len+=3*(u+1)+5+5+4,u},Oa=(n,u,d,p)=>{let l;for(ot(n,u-257,5),ot(n,d-1,5),ot(n,p-4,4),l=0;l<p;l++)ot(n,n.bl_tree[mt[l]*2+1],3);Xr(n,n.dyn_ltree,u-1),Xr(n,n.dyn_dtree,d-1)},Na=n=>{let u=4093624447,d;for(d=0;d<=31;d++,u>>>=1)if(u&1&&n.dyn_ltree[d*2]!==0)return 0;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return 1;for(d=32;d<m;d++)if(n.dyn_ltree[d*2]!==0)return 1;return 0},Kr=!1,Ma=n=>{Kr||(wi(),Kr=!0),n.l_desc=new se(n.dyn_ltree,Re),n.d_desc=new se(n.dyn_dtree,We),n.bl_desc=new se(n.bl_tree,Ye),n.bi_buf=0,n.bi_valid=0,Ms(n)},Jr=(n,u,d,p)=>{ot(n,(o<<1)+(p?1:0),3),ks(n,u,d,!0)},Da=n=>{ot(n,a<<1,3),Tt(n,O,E),vi(n)},ka=(n,u,d,p)=>{let l,A,S=0;n.level>0?(n.strm.data_type===2&&(n.strm.data_type=Na(n)),xs(n,n.l_desc),xs(n,n.d_desc),S=Pa(n),l=n.opt_len+3+7>>>3,A=n.static_len+3+7>>>3,A<=l&&(l=A)):l=A=d+5,d+4<=l&&u!==-1?Jr(n,u,d,p):n.strategy===4||A===l?(ot(n,(a<<1)+(p?1:0),3),Ti(n,E,P)):(ot(n,(c<<1)+(p?1:0),3),Oa(n,n.l_desc.max_code+1,n.d_desc.max_code+1,S+1),Ti(n,n.dyn_ltree,n.dyn_dtree)),Ms(n),p&&Ds(n)},La=(n,u,d)=>(n.pending_buf[n.d_buf+n.last_lit*2]=u>>>8&255,n.pending_buf[n.d_buf+n.last_lit*2+1]=u&255,n.pending_buf[n.l_buf+n.last_lit]=d&255,n.last_lit++,u===0?n.dyn_ltree[d*2]++:(n.matches++,u--,n.dyn_ltree[(L[d]+m+1)*2]++,n.dyn_dtree[ie(u)*2]++),n.last_lit===n.lit_bufsize-1);var xa=Ma,Va=Jr,Ua=ka,ja=La,Ha=Da,Ba={_tr_init:xa,_tr_stored_block:Va,_tr_flush_block:Ua,_tr_tally:ja,_tr_align:Ha},Qr=(n,u,d,p)=>{let l=n&65535|0,A=n>>>16&65535|0,S=0;for(;d!==0;){S=d>2e3?2e3:d,d-=S;do l=l+u[p++]|0,A=A+l|0;while(--S);l%=65521,A%=65521}return l|A<<16|0};let Fa=()=>{let n,u=[];for(var d=0;d<256;d++){n=d;for(var p=0;p<8;p++)n=n&1?3988292384^n>>>1:n>>>1;u[d]=n}return u},Ga=new Uint32Array(Fa());var re=(n,u,d,p)=>{let l=Ga,A=p+d;n^=-1;for(let S=p;S<A;S++)n=n>>>8^l[(n^u[S])&255];return n^-1},Vs={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Zr={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:$a,_tr_stored_block:za,_tr_flush_block:qa,_tr_tally:ne,_tr_align:Wa}=Ba,{Z_NO_FLUSH:Ce,Z_PARTIAL_FLUSH:Ya,Z_FULL_FLUSH:Xa,Z_FINISH:oe,Z_BLOCK:tn,Z_OK:Lt,Z_STREAM_END:en,Z_STREAM_ERROR:bt,Z_DATA_ERROR:Ka,Z_BUF_ERROR:Ri,Z_DEFAULT_COMPRESSION:Ja,Z_FILTERED:Qa,Z_HUFFMAN_ONLY:Us,Z_RLE:Za,Z_FIXED:tc,Z_DEFAULT_STRATEGY:ec,Z_UNKNOWN:sc,Z_DEFLATED:js}=Zr,ic=9,rc=15,nc=8,Ci=256+1+29,oc=30,ac=19,cc=2*Ci+1,lc=15,G=3,ae=258,Pt=ae+G+1,hc=32,Hs=42,Ii=69,Bs=73,Fs=91,Gs=103,Ie=113,cs=666,st=1,ls=2,Pe=3,Xe=4,uc=3,ce=(n,u)=>(n.msg=Vs[u],u),sn=n=>(n<<1)-(n>4?9:0),le=n=>{let u=n.length;for(;--u>=0;)n[u]=0},he=(n,u,d)=>(u<<n.hash_shift^d)&n.hash_mask,ue=n=>{let u=n.state,d=u.pending;d>n.avail_out&&(d=n.avail_out),d!==0&&(n.output.set(u.pending_buf.subarray(u.pending_out,u.pending_out+d),n.next_out),n.next_out+=d,u.pending_out+=d,n.total_out+=d,n.avail_out-=d,u.pending-=d,u.pending===0&&(u.pending_out=0))},at=(n,u)=>{qa(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,u),n.block_start=n.strstart,ue(n.strm)},q=(n,u)=>{n.pending_buf[n.pending++]=u},hs=(n,u)=>{n.pending_buf[n.pending++]=u>>>8&255,n.pending_buf[n.pending++]=u&255},dc=(n,u,d,p)=>{let l=n.avail_in;return l>p&&(l=p),l===0?0:(n.avail_in-=l,u.set(n.input.subarray(n.next_in,n.next_in+l),d),n.state.wrap===1?n.adler=Qr(n.adler,u,l,d):n.state.wrap===2&&(n.adler=re(n.adler,u,l,d)),n.next_in+=l,n.total_in+=l,l)},rn=(n,u)=>{let d=n.max_chain_length,p=n.strstart,l,A,S=n.prev_length,b=n.nice_match,$=n.strstart>n.w_size-Pt?n.strstart-(n.w_size-Pt):0,M=n.window,vt=n.w_mask,de=n.prev,K=n.strstart+ae,Ne=M[p+S-1],Je=M[p+S];n.prev_length>=n.good_match&&(d>>=2),b>n.lookahead&&(b=n.lookahead);do if(l=u,!(M[l+S]!==Je||M[l+S-1]!==Ne||M[l]!==M[p]||M[++l]!==M[p+1])){p+=2,l++;do;while(M[++p]===M[++l]&&M[++p]===M[++l]&&M[++p]===M[++l]&&M[++p]===M[++l]&&M[++p]===M[++l]&&M[++p]===M[++l]&&M[++p]===M[++l]&&M[++p]===M[++l]&&p<K);if(A=ae-(K-p),p=K-ae,A>S){if(n.match_start=u,S=A,A>=b)break;Ne=M[p+S-1],Je=M[p+S]}}while((u=de[u&vt])>$&&--d!==0);return S<=n.lookahead?S:n.lookahead},Oe=n=>{let u=n.w_size,d,p,l,A,S;do{if(A=n.window_size-n.lookahead-n.strstart,n.strstart>=u+(u-Pt)){n.window.set(n.window.subarray(u,u+u),0),n.match_start-=u,n.strstart-=u,n.block_start-=u,p=n.hash_size,d=p;do l=n.head[--d],n.head[d]=l>=u?l-u:0;while(--p);p=u,d=p;do l=n.prev[--d],n.prev[d]=l>=u?l-u:0;while(--p);A+=u}if(n.strm.avail_in===0)break;if(p=dc(n.strm,n.window,n.strstart+n.lookahead,A),n.lookahead+=p,n.lookahead+n.insert>=G)for(S=n.strstart-n.insert,n.ins_h=n.window[S],n.ins_h=he(n,n.ins_h,n.window[S+1]);n.insert&&(n.ins_h=he(n,n.ins_h,n.window[S+G-1]),n.prev[S&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=S,S++,n.insert--,!(n.lookahead+n.insert<G)););}while(n.lookahead<Pt&&n.strm.avail_in!==0)},fc=(n,u)=>{let d=65535;for(d>n.pending_buf_size-5&&(d=n.pending_buf_size-5);;){if(n.lookahead<=1){if(Oe(n),n.lookahead===0&&u===Ce)return st;if(n.lookahead===0)break}n.strstart+=n.lookahead,n.lookahead=0;let p=n.block_start+d;if((n.strstart===0||n.strstart>=p)&&(n.lookahead=n.strstart-p,n.strstart=p,at(n,!1),n.strm.avail_out===0)||n.strstart-n.block_start>=n.w_size-Pt&&(at(n,!1),n.strm.avail_out===0))return st}return n.insert=0,u===oe?(at(n,!0),n.strm.avail_out===0?Pe:Xe):(n.strstart>n.block_start&&(at(n,!1),n.strm.avail_out===0),st)},Pi=(n,u)=>{let d,p;for(;;){if(n.lookahead<Pt){if(Oe(n),n.lookahead<Pt&&u===Ce)return st;if(n.lookahead===0)break}if(d=0,n.lookahead>=G&&(n.ins_h=he(n,n.ins_h,n.window[n.strstart+G-1]),d=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),d!==0&&n.strstart-d<=n.w_size-Pt&&(n.match_length=rn(n,d)),n.match_length>=G)if(p=ne(n,n.strstart-n.match_start,n.match_length-G),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=G){n.match_length--;do n.strstart++,n.ins_h=he(n,n.ins_h,n.window[n.strstart+G-1]),d=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=he(n,n.ins_h,n.window[n.strstart+1]);else p=ne(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(p&&(at(n,!1),n.strm.avail_out===0))return st}return n.insert=n.strstart<G-1?n.strstart:G-1,u===oe?(at(n,!0),n.strm.avail_out===0?Pe:Xe):n.last_lit&&(at(n,!1),n.strm.avail_out===0)?st:ls},Ke=(n,u)=>{let d,p,l;for(;;){if(n.lookahead<Pt){if(Oe(n),n.lookahead<Pt&&u===Ce)return st;if(n.lookahead===0)break}if(d=0,n.lookahead>=G&&(n.ins_h=he(n,n.ins_h,n.window[n.strstart+G-1]),d=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=G-1,d!==0&&n.prev_length<n.max_lazy_match&&n.strstart-d<=n.w_size-Pt&&(n.match_length=rn(n,d),n.match_length<=5&&(n.strategy===Qa||n.match_length===G&&n.strstart-n.match_start>4096)&&(n.match_length=G-1)),n.prev_length>=G&&n.match_length<=n.prev_length){l=n.strstart+n.lookahead-G,p=ne(n,n.strstart-1-n.prev_match,n.prev_length-G),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=l&&(n.ins_h=he(n,n.ins_h,n.window[n.strstart+G-1]),d=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=G-1,n.strstart++,p&&(at(n,!1),n.strm.avail_out===0))return st}else if(n.match_available){if(p=ne(n,0,n.window[n.strstart-1]),p&&at(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return st}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(p=ne(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<G-1?n.strstart:G-1,u===oe?(at(n,!0),n.strm.avail_out===0?Pe:Xe):n.last_lit&&(at(n,!1),n.strm.avail_out===0)?st:ls},pc=(n,u)=>{let d,p,l,A,S=n.window;for(;;){if(n.lookahead<=ae){if(Oe(n),n.lookahead<=ae&&u===Ce)return st;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=G&&n.strstart>0&&(l=n.strstart-1,p=S[l],p===S[++l]&&p===S[++l]&&p===S[++l])){A=n.strstart+ae;do;while(p===S[++l]&&p===S[++l]&&p===S[++l]&&p===S[++l]&&p===S[++l]&&p===S[++l]&&p===S[++l]&&p===S[++l]&&l<A);n.match_length=ae-(A-l),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=G?(d=ne(n,1,n.match_length-G),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(d=ne(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),d&&(at(n,!1),n.strm.avail_out===0))return st}return n.insert=0,u===oe?(at(n,!0),n.strm.avail_out===0?Pe:Xe):n.last_lit&&(at(n,!1),n.strm.avail_out===0)?st:ls},gc=(n,u)=>{let d;for(;;){if(n.lookahead===0&&(Oe(n),n.lookahead===0)){if(u===Ce)return st;break}if(n.match_length=0,d=ne(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,d&&(at(n,!1),n.strm.avail_out===0))return st}return n.insert=0,u===oe?(at(n,!0),n.strm.avail_out===0?Pe:Xe):n.last_lit&&(at(n,!1),n.strm.avail_out===0)?st:ls};function xt(n,u,d,p,l){this.good_length=n,this.max_lazy=u,this.nice_length=d,this.max_chain=p,this.func=l}let us=[new xt(0,0,0,0,fc),new xt(4,4,8,4,Pi),new xt(4,5,16,8,Pi),new xt(4,6,32,32,Pi),new xt(4,4,16,16,Ke),new xt(8,16,32,32,Ke),new xt(8,16,128,128,Ke),new xt(8,32,128,256,Ke),new xt(32,128,258,1024,Ke),new xt(32,258,258,4096,Ke)],mc=n=>{n.window_size=2*n.w_size,le(n.head),n.max_lazy_match=us[n.level].max_lazy,n.good_match=us[n.level].good_length,n.nice_match=us[n.level].nice_length,n.max_chain_length=us[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=G-1,n.match_available=0,n.ins_h=0};function yc(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=js,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(cc*2),this.dyn_dtree=new Uint16Array((2*oc+1)*2),this.bl_tree=new Uint16Array((2*ac+1)*2),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(lc+1),this.heap=new Uint16Array(2*Ci+1),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Ci+1),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let nn=n=>{if(!n||!n.state)return ce(n,bt);n.total_in=n.total_out=0,n.data_type=sc;let u=n.state;return u.pending=0,u.pending_out=0,u.wrap<0&&(u.wrap=-u.wrap),u.status=u.wrap?Hs:Ie,n.adler=u.wrap===2?0:1,u.last_flush=Ce,$a(u),Lt},on=n=>{let u=nn(n);return u===Lt&&mc(n.state),u},Ec=(n,u)=>!n||!n.state||n.state.wrap!==2?bt:(n.state.gzhead=u,Lt),an=(n,u,d,p,l,A)=>{if(!n)return bt;let S=1;if(u===Ja&&(u=6),p<0?(S=0,p=-p):p>15&&(S=2,p-=16),l<1||l>ic||d!==js||p<8||p>15||u<0||u>9||A<0||A>tc)return ce(n,bt);p===8&&(p=9);let b=new yc;return n.state=b,b.strm=n,b.wrap=S,b.gzhead=null,b.w_bits=p,b.w_size=1<<b.w_bits,b.w_mask=b.w_size-1,b.hash_bits=l+7,b.hash_size=1<<b.hash_bits,b.hash_mask=b.hash_size-1,b.hash_shift=~~((b.hash_bits+G-1)/G),b.window=new Uint8Array(b.w_size*2),b.head=new Uint16Array(b.hash_size),b.prev=new Uint16Array(b.w_size),b.lit_bufsize=1<<l+6,b.pending_buf_size=b.lit_bufsize*4,b.pending_buf=new Uint8Array(b.pending_buf_size),b.d_buf=1*b.lit_bufsize,b.l_buf=3*b.lit_bufsize,b.level=u,b.strategy=A,b.method=d,on(n)},Sc=(n,u)=>an(n,u,js,rc,nc,ec),vc=(n,u)=>{let d,p;if(!n||!n.state||u>tn||u<0)return n?ce(n,bt):bt;let l=n.state;if(!n.output||!n.input&&n.avail_in!==0||l.status===cs&&u!==oe)return ce(n,n.avail_out===0?Ri:bt);l.strm=n;let A=l.last_flush;if(l.last_flush=u,l.status===Hs)if(l.wrap===2)n.adler=0,q(l,31),q(l,139),q(l,8),l.gzhead?(q(l,(l.gzhead.text?1:0)+(l.gzhead.hcrc?2:0)+(l.gzhead.extra?4:0)+(l.gzhead.name?8:0)+(l.gzhead.comment?16:0)),q(l,l.gzhead.time&255),q(l,l.gzhead.time>>8&255),q(l,l.gzhead.time>>16&255),q(l,l.gzhead.time>>24&255),q(l,l.level===9?2:l.strategy>=Us||l.level<2?4:0),q(l,l.gzhead.os&255),l.gzhead.extra&&l.gzhead.extra.length&&(q(l,l.gzhead.extra.length&255),q(l,l.gzhead.extra.length>>8&255)),l.gzhead.hcrc&&(n.adler=re(n.adler,l.pending_buf,l.pending,0)),l.gzindex=0,l.status=Ii):(q(l,0),q(l,0),q(l,0),q(l,0),q(l,0),q(l,l.level===9?2:l.strategy>=Us||l.level<2?4:0),q(l,uc),l.status=Ie);else{let S=js+(l.w_bits-8<<4)<<8,b=-1;l.strategy>=Us||l.level<2?b=0:l.level<6?b=1:l.level===6?b=2:b=3,S|=b<<6,l.strstart!==0&&(S|=hc),S+=31-S%31,l.status=Ie,hs(l,S),l.strstart!==0&&(hs(l,n.adler>>>16),hs(l,n.adler&65535)),n.adler=1}if(l.status===Ii)if(l.gzhead.extra){for(d=l.pending;l.gzindex<(l.gzhead.extra.length&65535)&&!(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>d&&(n.adler=re(n.adler,l.pending_buf,l.pending-d,d)),ue(n),d=l.pending,l.pending===l.pending_buf_size));)q(l,l.gzhead.extra[l.gzindex]&255),l.gzindex++;l.gzhead.hcrc&&l.pending>d&&(n.adler=re(n.adler,l.pending_buf,l.pending-d,d)),l.gzindex===l.gzhead.extra.length&&(l.gzindex=0,l.status=Bs)}else l.status=Bs;if(l.status===Bs)if(l.gzhead.name){d=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>d&&(n.adler=re(n.adler,l.pending_buf,l.pending-d,d)),ue(n),d=l.pending,l.pending===l.pending_buf_size)){p=1;break}l.gzindex<l.gzhead.name.length?p=l.gzhead.name.charCodeAt(l.gzindex++)&255:p=0,q(l,p)}while(p!==0);l.gzhead.hcrc&&l.pending>d&&(n.adler=re(n.adler,l.pending_buf,l.pending-d,d)),p===0&&(l.gzindex=0,l.status=Fs)}else l.status=Fs;if(l.status===Fs)if(l.gzhead.comment){d=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>d&&(n.adler=re(n.adler,l.pending_buf,l.pending-d,d)),ue(n),d=l.pending,l.pending===l.pending_buf_size)){p=1;break}l.gzindex<l.gzhead.comment.length?p=l.gzhead.comment.charCodeAt(l.gzindex++)&255:p=0,q(l,p)}while(p!==0);l.gzhead.hcrc&&l.pending>d&&(n.adler=re(n.adler,l.pending_buf,l.pending-d,d)),p===0&&(l.status=Gs)}else l.status=Gs;if(l.status===Gs&&(l.gzhead.hcrc?(l.pending+2>l.pending_buf_size&&ue(n),l.pending+2<=l.pending_buf_size&&(q(l,n.adler&255),q(l,n.adler>>8&255),n.adler=0,l.status=Ie)):l.status=Ie),l.pending!==0){if(ue(n),n.avail_out===0)return l.last_flush=-1,Lt}else if(n.avail_in===0&&sn(u)<=sn(A)&&u!==oe)return ce(n,Ri);if(l.status===cs&&n.avail_in!==0)return ce(n,Ri);if(n.avail_in!==0||l.lookahead!==0||u!==Ce&&l.status!==cs){let S=l.strategy===Us?gc(l,u):l.strategy===Za?pc(l,u):us[l.level].func(l,u);if((S===Pe||S===Xe)&&(l.status=cs),S===st||S===Pe)return n.avail_out===0&&(l.last_flush=-1),Lt;if(S===ls&&(u===Ya?Wa(l):u!==tn&&(za(l,0,0,!1),u===Xa&&(le(l.head),l.lookahead===0&&(l.strstart=0,l.block_start=0,l.insert=0))),ue(n),n.avail_out===0))return l.last_flush=-1,Lt}return u!==oe?Lt:l.wrap<=0?en:(l.wrap===2?(q(l,n.adler&255),q(l,n.adler>>8&255),q(l,n.adler>>16&255),q(l,n.adler>>24&255),q(l,n.total_in&255),q(l,n.total_in>>8&255),q(l,n.total_in>>16&255),q(l,n.total_in>>24&255)):(hs(l,n.adler>>>16),hs(l,n.adler&65535)),ue(n),l.wrap>0&&(l.wrap=-l.wrap),l.pending!==0?Lt:en)},_c=n=>{if(!n||!n.state)return bt;let u=n.state.status;return u!==Hs&&u!==Ii&&u!==Bs&&u!==Fs&&u!==Gs&&u!==Ie&&u!==cs?ce(n,bt):(n.state=null,u===Ie?ce(n,Ka):Lt)},wc=(n,u)=>{let d=u.length;if(!n||!n.state)return bt;let p=n.state,l=p.wrap;if(l===2||l===1&&p.status!==Hs||p.lookahead)return bt;if(l===1&&(n.adler=Qr(n.adler,u,d,0)),p.wrap=0,d>=p.w_size){l===0&&(le(p.head),p.strstart=0,p.block_start=0,p.insert=0);let $=new Uint8Array(p.w_size);$.set(u.subarray(d-p.w_size,d),0),u=$,d=p.w_size}let A=n.avail_in,S=n.next_in,b=n.input;for(n.avail_in=d,n.next_in=0,n.input=u,Oe(p);p.lookahead>=G;){let $=p.strstart,M=p.lookahead-(G-1);do p.ins_h=he(p,p.ins_h,p.window[$+G-1]),p.prev[$&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=$,$++;while(--M);p.strstart=$,p.lookahead=G-1,Oe(p)}return p.strstart+=p.lookahead,p.block_start=p.strstart,p.insert=p.lookahead,p.lookahead=0,p.match_length=p.prev_length=G-1,p.match_available=0,n.next_in=S,n.input=b,n.avail_in=A,p.wrap=l,Lt};var Ac=Sc,Tc=an,bc=on,Rc=nn,Cc=Ec,Ic=vc,Pc=_c,Oc=wc,Nc="pako deflate (from Nodeca project)",ds={deflateInit:Ac,deflateInit2:Tc,deflateReset:bc,deflateResetKeep:Rc,deflateSetHeader:Cc,deflate:Ic,deflateEnd:Pc,deflateSetDictionary:Oc,deflateInfo:Nc};let Mc=(n,u)=>Object.prototype.hasOwnProperty.call(n,u);var Dc=function(n){let u=Array.prototype.slice.call(arguments,1);for(;u.length;){let d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(let p in d)Mc(d,p)&&(n[p]=d[p])}}return n},kc=n=>{let u=0;for(let p=0,l=n.length;p<l;p++)u+=n[p].length;let d=new Uint8Array(u);for(let p=0,l=0,A=n.length;p<A;p++){let S=n[p];d.set(S,l),l+=S.length}return d},cn={assign:Dc,flattenChunks:kc};let ln=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ln=!1}let fs=new Uint8Array(256);for(let n=0;n<256;n++)fs[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;fs[254]=fs[254]=1;var Lc=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let u,d,p,l,A,S=n.length,b=0;for(l=0;l<S;l++)d=n.charCodeAt(l),(d&64512)===55296&&l+1<S&&(p=n.charCodeAt(l+1),(p&64512)===56320&&(d=65536+(d-55296<<10)+(p-56320),l++)),b+=d<128?1:d<2048?2:d<65536?3:4;for(u=new Uint8Array(b),A=0,l=0;A<b;l++)d=n.charCodeAt(l),(d&64512)===55296&&l+1<S&&(p=n.charCodeAt(l+1),(p&64512)===56320&&(d=65536+(d-55296<<10)+(p-56320),l++)),d<128?u[A++]=d:d<2048?(u[A++]=192|d>>>6,u[A++]=128|d&63):d<65536?(u[A++]=224|d>>>12,u[A++]=128|d>>>6&63,u[A++]=128|d&63):(u[A++]=240|d>>>18,u[A++]=128|d>>>12&63,u[A++]=128|d>>>6&63,u[A++]=128|d&63);return u};let hn=(n,u=n.length)=>{if(u<65534&&n.subarray&&ln)return String.fromCharCode.apply(null,n.length===u?n:n.subarray(0,u));let d="";for(let p=0;p<u;p++)d+=String.fromCharCode(n[p]);return d};var xc=(n,u)=>{let d=u||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,u));let p,l,A=new Array(d*2);for(l=0,p=0;p<d;){let S=n[p++];if(S<128){A[l++]=S;continue}let b=fs[S];if(b>4){A[l++]=65533,p+=b-1;continue}for(S&=b===2?31:b===3?15:7;b>1&&p<d;)S=S<<6|n[p++]&63,b--;if(b>1){A[l++]=65533;continue}S<65536?A[l++]=S:(S-=65536,A[l++]=55296|S>>10&1023,A[l++]=56320|S&1023)}return hn(A,l)},Vc=(n,u)=>{u=u||n.length,u>n.length&&(u=n.length);let d=u-1;for(;d>=0&&(n[d]&192)===128;)d--;return d<0||d===0?u:d+fs[n[d]]>u?d:u},un={string2buf:Lc,buf2string:xc,utf8border:Vc};function Uc(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var jc=Uc;let dn=Object.prototype.toString,{Z_NO_FLUSH:Hc,Z_SYNC_FLUSH:Bc,Z_FULL_FLUSH:Fc,Z_FINISH:Gc,Z_OK:$s,Z_STREAM_END:$c,Z_DEFAULT_COMPRESSION:zc,Z_DEFAULT_STRATEGY:qc,Z_DEFLATED:Wc}=Zr;function zs(n){this.options=cn.assign({level:zc,method:Wc,chunkSize:16384,windowBits:15,memLevel:8,strategy:qc},n||{});let u=this.options;u.raw&&u.windowBits>0?u.windowBits=-u.windowBits:u.gzip&&u.windowBits>0&&u.windowBits<16&&(u.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new jc,this.strm.avail_out=0;let d=ds.deflateInit2(this.strm,u.level,u.method,u.windowBits,u.memLevel,u.strategy);if(d!==$s)throw new Error(Vs[d]);if(u.header&&ds.deflateSetHeader(this.strm,u.header),u.dictionary){let p;if(typeof u.dictionary=="string"?p=un.string2buf(u.dictionary):dn.call(u.dictionary)==="[object ArrayBuffer]"?p=new Uint8Array(u.dictionary):p=u.dictionary,d=ds.deflateSetDictionary(this.strm,p),d!==$s)throw new Error(Vs[d]);this._dict_set=!0}}zs.prototype.push=function(n,u){let d=this.strm,p=this.options.chunkSize,l,A;if(this.ended)return!1;for(u===~~u?A=u:A=u===!0?Gc:Hc,typeof n=="string"?d.input=un.string2buf(n):dn.call(n)==="[object ArrayBuffer]"?d.input=new Uint8Array(n):d.input=n,d.next_in=0,d.avail_in=d.input.length;;){if(d.avail_out===0&&(d.output=new Uint8Array(p),d.next_out=0,d.avail_out=p),(A===Bc||A===Fc)&&d.avail_out<=6){this.onData(d.output.subarray(0,d.next_out)),d.avail_out=0;continue}if(l=ds.deflate(d,A),l===$c)return d.next_out>0&&this.onData(d.output.subarray(0,d.next_out)),l=ds.deflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===$s;if(d.avail_out===0){this.onData(d.output);continue}if(A>0&&d.next_out>0){this.onData(d.output.subarray(0,d.next_out)),d.avail_out=0;continue}if(d.avail_in===0)break}return!0},zs.prototype.onData=function(n){this.chunks.push(n)},zs.prototype.onEnd=function(n){n===$s&&(this.result=cn.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Yc(n,u){u=u||{};let d=new zs(u);if(d.push(n,!0),d.err)throw d.msg||Vs[d.err];return d.result}function Xc(n,u){return u=u||{},u.gzip=!0,Yc(n,u)}return(n,u,d)=>{let p=Xc(n);return u==="base64"?p=btoa(hn(p)):p=p.buffer,d&&d(p),p}}var Wf=(()=>{class s extends pa{constructor(){super(),this.algorithm=Ei.GZIP,this.Xb=Ar(),this.compress=(r,o,a)=>this.Om.compress(r,o).then(a);let e=typeof CompressionStream!="undefined"&&!!self.CompressionStream?Xf:Yf;this.Om=new e,qf.create(e,{getPakoCompressor:Ar}).then(r=>{this.Om=r})}compressSync(t,e){try{return this.Xb(t,e)}catch(r){throw rt.warn(r),r}}}return s})(),Yf=(()=>{class s{constructor(){this.Kb=Ar()}compress(t,e){return Promise.resolve(this.Kb(t,e))}}return s})(),Xf=(()=>{class s{Jb(t){return new Promise(e=>{let r=new FileReader;r.onload=o=>e(o.target.result.split(",")[1]),r.readAsDataURL(new Blob([t]))})}compress(t,e){let r=new Response(t).body.pipeThrough(new CompressionStream("gzip")),o=new Response(r).arrayBuffer();return e==="base64"?o.then(a=>this.Jb(a)):o}}return s})(),Kf=(()=>{class s extends pa{constructor(){super(...arguments),this.algorithm=Ei.UNCOMPRESSED,this.compress=(t,e,r)=>{r(this.compressSync(t,e))},this.compressSync=(t,e)=>t}}return s})(),Ta=(()=>{class s{static create(t=!0){return this.instance?this.instance:t&&!$f.isCompressionEnabled()?new Kf:this.instance=new Wf}}return s})(),Jf=s=>{let i=s*60*1e3;return`${Math.floor(csDate.now()/i)}`},Qf=5e3,Zf=(()=>{class s extends Ho{constructor(t,e,r){super(t,e),this.Hr=null,this.Qb=(r==null?void 0:r.type)||"json",this.Nm=r==null?void 0:r.cacheMinutes,this.To=r==null?void 0:r.timeout}onLoad(t){this.Br=t}onError(t){this.bo=t}onTimeout(t,e){this.Zi=t,this.To=e}send(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,o=>o());let t=this.retrieveParameters();this.Qc(t);let e=Vr.toQuery(t),r=`${this.domainUri}${this.path?`/${this.path}`:""}?${e}`;this.Zb(r,this.Qb)}abort(){this.Hr&&(this.Hr.abort(),this.Hr=null)}isInProgress(){return this.Hr!==null}Zb(t,e){var r;let o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType=e,o.onerror=()=>{var a;return(a=this.bo)===null||a===void 0?void 0:a.call(this,o)},o.ontimeout=()=>{var a;return(a=this.Zi)===null||a===void 0?void 0:a.call(this,o)},o.onload=()=>{var a,c;o.status>=200&&o.status<400?((a=this.Br)===null||a===void 0||a.call(this,this.tR(o,e)?o.response:o.responseText),csArray.prototype.forEach.call(this.afterRequestCallbacks,h=>h())):(c=this.bo)===null||c===void 0||c.call(this,o)},o.onloadend=()=>{this.Hr=null},o.timeout=(r=this.To)!==null&&r!==void 0?r:Qf,this.Hr=o,o.send()}tR(t,e){let r=t.getResponseHeader("Content-Type");return r===null?e==="json":csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(r),"json")>0}Qc(t){let e;this.Nm?e=`${Jf(this.Nm)}`:e=csString.prototype.slice.call(`${Math.random()}`,2,8),t.r=e}}return s})(),tp=(()=>{class s{constructor(t){var e;this.We={},this.ku={},this.Mm=r=>{for(let o of r){let{metadata:a,events:c}=o;this.send(c,a)}},this.Va=t.endpoint,this.Ro=t.compressionOpts,this.ne=t.recoveryStorage,this.mandatoryParameters=(e=t.mandatoryParameters)!==null&&e!==void 0?e:[],this.Lu=t.contentType,this.worker=!!t.worker,this.ne&&this.ne.recover(this.Mm)}setQueryParams(t){Object.keys(t).forEach(e=>{this.We[e]=t[e]})}removeQueryParams(t){t?t.forEach(e=>{delete this.We[e]}):this.We={}}send(t,e){let r=e||{...this.We},o=!("ct"in r),a=this.Lu==="application/json"||typeof t!="string"&&!this.eR(t);"ct"in r||(!this.Ro||!o?r.ct=Ei.UNCOMPRESSED:r.ct=this.Ro.compressionType);let c=a?JSON.stringify(t):t,h=Object.keys(r).map(g=>`${encodeURIComponent(g)}=${encodeURIComponent(r[g])}`).join("&"),f=`${this.Va}?${h}`;if(dl(this.mandatoryParameters,g=>r[g]==null)){rt.warn(`[${this.worker?"WORKER":"MAIN"}] All mandatory parameters are not present on ${f}`);return}this.Ro&&o&&typeof c=="string"?this.Ro.compressor(c,this.Ro.compressionOutputType,g=>this.Dm(f,r,g)):this.Dm(f,r,c)}onLoad(t){this.Br=t}onError(t){this.bo=t}onTimeout(t,e){this.Zi=t,this.To=e}abort(){this.km&&this.km()}setRequestHeader(t,e){this.ku[t]=e}getQueryParams(){return this.We}eR(t){return t&&t.byteLength!==void 0}Dm(t,e,r){let o=new XMLHttpRequest,a=Object.keys(e).map(c=>`${encodeURIComponent(c)}=${encodeURIComponent(e[c])}`).join("&");o.open("POST",t),this.Lu&&o.setRequestHeader("Content-Type",this.Lu),o.onload=()=>{if(this.ne&&this.ne.recover(this.Mm),this.Br){let c={params:e,responseText:o.responseText,status:o.status};this.Br(c)}},o.onerror=()=>{this.ne&&this.ne.save({key:a,metadata:e,events:r}),this.bo&&this.bo({params:e})},this.To&&this.Zi&&(o.timeout=this.To,o.ontimeout=()=>{this.Zi()}),this.km=()=>o.abort(),Object.keys(this.ku).forEach(c=>{o.setRequestHeader(c,this.ku[c])}),o.send(r)}}return s})(),ba=(()=>{class s{constructor(t){this.Lm=t}create(t,e,r){let o=e?{compressor:this.Lm.compress,compressionOutputType:e,compressionType:this.Lm.algorithm}:void 0;return new tp({endpoint:t,compressionOpts:o,recoveryStorage:r})}}return s})(),ep=(()=>{class s{setItem(t,e){window.localStorage.setItem(t,e)}getItem(t){return window.localStorage.getItem(t)}removeItem(t){window.localStorage.removeItem(t)}}return s})(),sp=(()=>{class s{constructor(t){this.xu=t}start(){this.xu.onEvent(t=>this.Q(t)),this.xu.start()}stop(){this.xu.stop()}Q(t){let e=`Content Security Policy error. Violated directive: ${t.violatedDirective} - Source file: ${t.sourceFile}`;j.warn(e)}}return s})(),ip=(()=>{class s{constructor(){this.Xt={boundElement:document,type:"securitypolicyviolation",listener:t=>this.securityPolicyViolationListener(t)}}start(){_s(this.Xt)}stop(){ws(this.Xt)}onEvent(t){this.V=t}sR(t){if(!t)return!1;let e=t.disposition;return H(t.sourceFile)&&csArray.prototype.some.call(s.iR,r=>csString.prototype.indexOf.call(t.sourceFile,r)>0)&&e!=="report"}securityPolicyViolationListener(t){this.sR(t)&&this.V({violatedDirective:t.violatedDirective,sourceFile:t.sourceFile})}}return s.iR=["contentsquare","cdnssl.clicktale.net"],W([z("Event handler type: securitypolicyviolation")],s.prototype,"securityPolicyViolationListener",null),s})(),rp=(()=>{class s{init(){this.mc=new sp(new ip),this.mc.start()}onOptout(){this.mc.stop()}onArtificialPageViewEnd(t){t&&this.mc.stop()}onAfterArtificialPageView(t){t&&this.mc.start()}}return s})(),np=(()=>{class s{constructor(t,e,r){this.E=t,this.R=e,this.w=r}grantReplayConsent(){if(!Te.isReplayConsentNeeded(this.E))return;let t=this.R.getSession();if(!t){this.R.grantReplayRecordingBeforeSessionStart();return}Te.isRecordingBlockedByConsent(t)&&(this.R.grantReplayRecording(t),this.w.emitAfterReplayRecordingConsentGranted())}withdrawReplayConsent(){if(!Te.isReplayConsentNeeded(this.E))return;let t=this.R.getSession();if(!t){this.R.withdrawnReplayRecordingBeforeSessionStart();return}Te.isRecordingWithDrawn(t)||(this.R.withdrawnReplayRecording(t),this.w.emitAfterReplayRecordingConsentWithdrawn())}}return s})(),op=["replay:consent:unanonymized:granted","trackConsentGranted"],ap=["replay:consent:unanonymized:withdrawn","trackConsentWithdrawn"],cp=["replay:consent:startForSession:granted"],lp=["replay:consent:startForSession:withdrawn"],hp=(()=>{class s{constructor(t,e,r,o,a){this.E=t,this.S=e,this.bt=r,this.R=o,this.w=a}init(){this.xm=new np(this.E,this.R,this.w),this.bt.setInitialConsent(),this.ut()}ut(){this.S.register(op,()=>{this.bt.grantReplayAnonymizationConsent()}),this.S.register(ap,()=>{this.bt.withdrawReplayAnonymizationConsent()}),this.S.register(cp,()=>{this.xm.grantReplayConsent()}),this.S.register(lp,()=>{this.xm.withdrawReplayConsent()})}onOptout(){this.bt.removeAllConsents()}onBeforeVisitorRenewal(){this.bt.removeAllConsents()}onAfterVisitorRenewal(){this.bt.setInitialConsent()}onAfterVisitorCleared(){this.bt.setInitialConsent()}}return s})(),ye="_cs_c",ke=(()=>{let s;return function(i){i[i.NOT_REQUIRED=0]="NOT_REQUIRED",i[i.NOT_EXPRESSED=1]="NOT_EXPRESSED",i[i.GRANTED=2]="GRANTED",i[i.WITHDRAWN=3]="WITHDRAWN"}(s||(s={})),s})(),up=(()=>{class s{constructor(t,e,r){this.E=t,this.N=e,this.Nt=r}get(){let t;return this.E.cookielessTrackingEnabled?t=this.Nt.getItem(ye):t=this.N.get(ye),t===null?t:Number(t)}set(t){this.E.cookielessTrackingEnabled?this.Nt.setItem(ye,csString(t)):this.N.set(ye,csString(t),Cr)}remove(){this.E.cookielessTrackingEnabled?this.Nt.removeItem(ye):this.N.delete(ye)}handleSubdomainChange(){this.E.cookielessTrackingEnabled||(this.E.allowSubdomains?this.N.delete(ye,mi.CURRENT_DOMAIN):this.N.delete(ye,this.N.getRootDomain()))}}return s})(),dp=(()=>{class s{constructor(t,e,r){this.E=t,this.ft=e,this.w=r}setInitialConsent(){let t=this.ft.get();(t===null||this.hasConsentRequiredChanged(t))&&this.setDefaultReplayAnonymization()}hasConsentRequiredChanged(t){let e=this.E.consentRequired;return e&&t===ke.NOT_REQUIRED||!e&&t!==ke.NOT_REQUIRED}handleSubdomainChange(){this.ft.handleSubdomainChange()}setDefaultReplayAnonymization(){let t=this.E.consentRequired?ke.NOT_EXPRESSED:ke.NOT_REQUIRED;this.ft.set(t)}grantReplayAnonymizationConsent(){this.E.consentRequired&&(this.ft.set(ke.GRANTED),this.w.emitReplayUnanonymizationConsentGranted())}withdrawReplayAnonymizationConsent(){this.E.consentRequired&&(this.ft.set(ke.WITHDRAWN),this.w.emitReplayUnanonymizationConsentWithdrawn())}removeAllConsents(){this.ft.remove()}isReplayUnanonymizedAllowedByConsent(){return!this.E.consentRequired||this.ft.get()===ke.GRANTED}getRequestParameters(){return{uc:`${this.ft.get()}`}}}return s})();var fp=(()=>{class s{setItem(t,e){window.sessionStorage.setItem(t,e)}getItem(t){return window.sessionStorage.getItem(t)}removeItem(t){window.sessionStorage.removeItem(t)}}return s})();var ho=512,uo=255,Xi={SESSION:["visit",2],PAGE:["page",3],NEXT_PAGE_ONLY:["nextPageOnly",4]},pp=(()=>{class s{constructor(t,e){this.M=t,this.ft=e,this.Zt={},this.He={}}set(t,e,r,o){let a,c;if((Ct(t)||H(t))&&Number(t)>0&&St(e)&&St(r)&&!Fe(e)&&!Fe(r)&&this.oR(o)){let h=this.M.anonymizePII(csString(e)),f=this.M.anonymizePII(csString(r));if(a=[csString.prototype.slice.call(h,0,ho),csString.prototype.slice.call(f,0,uo)],c=r!=="",!X(o)||csArray.prototype.indexOf.call(Xi.SESSION,o)>=0){let g=this.getCustomVariablesSession();c?g[t]=a:delete g[t],this.setCustomVariableSession(g)}(!X(o)||csArray.prototype.indexOf.call(Xi.PAGE,o)>=0)&&(c?this.Zt[t]=a:delete this.Zt[t]),X(o)&&csArray.prototype.indexOf.call(Xi.NEXT_PAGE_ONLY,o)>=0&&(c?this.He[t]=a:delete this.He[t])}else throw new ut(sa[0])}getCustomVariablesSession(){let t=this.ft.get();if(!t)return{};let e=window.csJSON.parse(t);return e!==null&&Es(e)?e:{}}setCustomVariableSession(t){this.ft.set(window.csJSON.stringify(t))}removeCustomVariablesSession(){this.ft.remove()}removeCustomVariablesPage(){this.Zt={}}getRequestParameters(){let t=this.getCustomVariablesSession();for(let r in this.He)this.He.hasOwnProperty(r)&&(this.Zt[r]=this.He[r]);for(let r in this.Zt)this.Zt.hasOwnProperty(r)&&(t[r]=this.Zt[r]);if(window.csJSON.stringify(t).length<=2)return{};let e={cvars:this.Um(t)};return this.hasCustomVariablesPage()&&(e.cvarp=this.getCustomVariablesPage()),e}deleteNextPageOnlyCustomVariables(){if(Object.keys(this.He).length>0)for(let t in this.He)this.He[t]===this.Zt[t]&&(delete this.Zt[t],delete this.He[t])}hasCustomVariablesPage(){return this.Zt&&!sr(this.Zt)}getCustomVariablesPage(){return this.Um(this.Zt)}jm(t){for(let e in t)if(t.hasOwnProperty(e)){let r=parseInt(e,10),o=t[e],a=o[0],c=o[1];(!Qc(r,1,20)||a.length>ho||c.length>uo)&&delete t[e]}}Um(t){this.jm(t);let e=sr(t)?[]:t;return window.csJSON.stringify(e)}oR(t){return!X(t)||H(t)||Ct(t)}getAllValidCustomVars(){let t=this.getCustomVariablesSession();for(let e in this.He)this.He.hasOwnProperty(e)&&(this.Zt[e]=this.He[e]);for(let e in this.Zt)this.Zt.hasOwnProperty(e)&&(t[e]=this.Zt[e]);return this.jm(t),t}}return s})(),gp=(()=>{class s{constructor(t,e,r,o){this.ve=t,this.Co=e,this.Io=r,this.bt=o}init(){this.aR()}shouldMaskNonTextElements(){if(this.ve.anonymisationMethod!==Me.replayRecordingMaskedUrlRegexRules)return!1;if(this.ve.isSMB)return this.shouldUseAnonymization();let t=this.Io.getMatchingRules(this.Co.getAnonymizedUrl());return csArray.prototype.some.call(t,e=>e.maskMedia)}shouldUseAnonymization(){if(this.bt&&!this.bt.isReplayUnanonymizedAllowedByConsent()){switch(this.ve.anonymisationMethod){case null:case Me.replayRecordingUnmaskedUrlRegex:return!(this.ve.replayRecordingUnmaskedUrlRegex&&this.ve.replayRecordingUnmaskedUrlRegex.test(this.Co.getAnonymizedUrl()));case Me.replayRecordingUnmaskedUrlRegexRules:return!this.Io.evaluateUrl(this.Co.getAnonymizedUrl())}return!0}else{switch(this.ve.anonymisationMethod){case null:case Me.replayRecordingMaskedUrlRegex:return!!(this.ve.replayRecordingMaskedUrlRegex&&this.ve.replayRecordingMaskedUrlRegex.test(this.Co.getAnonymizedUrl()));case Me.replayRecordingMaskedUrlRegexRules:return this.Io.evaluateUrl(this.Co.getAnonymizedUrl())}return!1}}aR(){this.ve.anonymisationMethod===Me.replayRecordingMaskedUrlRegexRules&&this.ve.replayRecordingMaskedUrlRegexRules?this.Io.setRegexRules(this.ve.replayRecordingMaskedUrlRegexRules):this.ve.anonymisationMethod===Me.replayRecordingUnmaskedUrlRegexRules&&this.ve.replayRecordingUnmaskedUrlRegexRules&&this.Io.setRegexRules(this.ve.replayRecordingUnmaskedUrlRegexRules)}}return s})();var mp=(()=>{class s extends kd{constructor(t){super(),this.W=null,this.yc=null,this.L=null,this.oi=null,this.Hm=["value","checked","src","data","alt"],this.Ec={state:B.MaskedElementState.Child},this.lR=e=>{for(let r of e){if(B.isMaskedElement(r.target)||B.isMaskedElementChild(r.target))for(let o=0;o<r.addedNodes.length;o+=1){let a=r.addedNodes[o];B.isMaskedElement(a)||B.isMaskedElementChild(a)||dt(a)&&this.Bm(a)}for(let o=0;o<r.removedNodes.length;o+=1){let a=r.removedNodes[o];rs.isConnected(a)||this.Fm(a)}}},this.hR=t}setMaskedElementSettings(t){this.$s=t}startIdentifier(){this.isStarted||(this.isStarted=!0,this.onStart())}stopIdentifier(){return this.isStarted=!1,this.onStop()}start(){}stop(){}onStart(){var t,e,r,o;this.$s||(rt.error("maskedElementSettings not initialized","MaskedElementIdentifier.start"),this.$s={elementSelector:"",attrSelector:"",attrSelectors:[]});let{elementSelector:a,attrSelector:c,attrSelectors:h}=this.$s;(t=this.oi)!==null&&t!==void 0||(this.oi=this.uR()),a.length!==0&&((e=this.W)!==null&&e!==void 0||(this.W=this.dR()),this.W.observe(a)),c.length!==0&&((r=this.yc)!==null&&r!==void 0||(this.yc=this.fR(h)),this.yc.observe(c)),(o=this.L)!==null&&o!==void 0||(this.L=new yi(this.lR,(f,g)=>g==="added"&&this.pR(f))),this.L.observe(),csSetTimeout(this.hR)}onStop(){var t,e,r;this.W&&(this.Fm(document),this.W.disconnect()),(t=this.yc)===null||t===void 0||t.disconnect(),(e=this.L)===null||e===void 0||e.disconnect(),(r=this.oi)===null||r===void 0||r.disconnect()}uR(){return window.ResizeObserver?new ResizeObserver(t=>{window.requestAnimationFrame(()=>{csArray.prototype.forEach.call(t,e=>{this.resizeObserverCallback(e)})})}):null}dR(){return new di(t=>{csArray.prototype.forEach.call(t,e=>{this.gR(e)?this.Bm(e):(this.mR(e),this.yR(e))})})}fR(t){return new di(e=>{csArray.prototype.forEach.call(e,r=>this.ER(r,t))})}resizeObserverCallback(t){let e=t.target.getBoundingClientRect(),r=B.getMaskedElementDetails(t.target);if(r.state!==B.MaskedElementState.Parent||e.width===r.width&&e.height===r.height)return;let o={state:B.MaskedElementState.Parent,width:e.width,height:e.height};B.setMaskedElementProperty(t.target,o),this.produceEvent({type:"ResizeMaskedElement",target:Yo(t.target),width:e.width,height:e.height})}yR(t){!this.oi||!dt(t)||Pl(t)||this.oi.observe(t)}gR(t){let e=csNodeparentNode.apply(t);return e?B.isMaskedElement(e)||B.isMaskedElementChild(e):Ss(t)?B.isMaskedElement(t.host)||B.isMaskedElementChild(t.host):!1}pR(t){(B.isMaskedElement(t.host)||B.isMaskedElementChild(t.host))&&B.setMaskedElementProperty(t,this.Ec)}Fm(t){Qt(t,NodeFilter.SHOW_ELEMENT).visitAll(r=>{B.unsetMaskedElementProperty(r)})}mR(t){let e=t.getBoundingClientRect(),r={state:B.MaskedElementState.Parent,width:e.width,height:e.height};B.setMaskedElementProperty(t,r),this.SR(t),Qt(t).visitAll(o=>o!==t&&B.setMaskedElementProperty(o,this.Ec))}Bm(t){B.setMaskedElementProperty(t,this.Ec),Qt(t).visitAll(e=>e!==t&&B.setMaskedElementProperty(e,this.Ec))}SR(t){var e;let r=(e=it.getProperty(t,B.maskedAttributeProp))!==null&&e!==void 0?e:{attributes:[]};for(let o=0;o<this.Hm.length;o+=1){let a=this.Hm[o];csArray.prototype.indexOf.call(r.attributes,a)===-1&&csArray.prototype.push.call(r.attributes,a)}r.attributes.length!==0&&B.setMaskedAttributeProperty(t,r)}ER(t,e){var r;let o=(r=it.getProperty(t,B.maskedAttributeProp))!==null&&r!==void 0?r:{attributes:[]};for(let a=0;a<t.attributes.length;a+=1){let c=t.attributes[a].name;csArray.prototype.indexOf.call(o.attributes,c)===-1&&csArray.prototype.some.call(e,h=>csString.prototype.indexOf.call(h.attrName,c)>-1&&Bt.call(t,h.selector))&&csArray.prototype.push.call(o.attributes,c)}o.attributes.length!==0&&B.setMaskedAttributeProperty(t,o)}}return Td([z()],s.prototype,"resizeObserverCallback",null),s})(),yp=(()=>{class s{constructor(){this.Uu=0,this.U=!1,this.Gm="data-cs-capture",this._i=t=>{for(let e of t){if(Se.isWhitelistedElement(e.target))for(let r=0;r<e.addedNodes.length;r+=1){let o=e.addedNodes[r];Se.isWhitelistedElement(o)||dt(o)&&this.$m(o)}for(let r=0;r<e.removedNodes.length;r+=1){let o=e.removedNodes[r];rs.isConnected(o)||this.zm(o)}}}}start(){this.Uu++,!this.U&&(this.U=!0,this.vR())}vR(){this.W||(this.W=new di(e=>Nt(e,r=>this.$m(r))));let t=this.ju?`[${this.Gm}], ${this.ju}`:`[${this.Gm}]`;this.W.observe(t),this.L||(this.L=new yi(this._i,(e,r)=>r==="added"&&this._R(e))),this.L.observe()}stop(){this.U&&(this.Uu--,this.Uu===0&&(this.U=!1,this.wR()))}wR(){this.W&&(this.zm(document),this.W.disconnect()),this.L&&this.L.disconnect()}setWhitelistedElementsSelector(t,e=!0){if(ei(t))this.ju=t;else if(e)throw new ut("setCapturedElementsSelector")}getWhitelistedElementsSelector(){return this.ju}$m(t){Qt(t).visitAll(e=>{Se.whitelistElement(e)})}_R(t){Se.isWhitelistedElement(t.host)&&Se.whitelistElement(t)}zm(t){Qt(t,NodeFilter.SHOW_ELEMENT).visitAll(r=>{Se.removeWhitelistElement(r)})}}return s})();var Ep=(()=>{let s;return function(i){function t(){let r=navigator.userAgent+navigator.language+navigator.platform,o=csString.prototype.slice.call(e(r).toString(16),-4),a=new csDate().getTime(),c="xxxxxxxx-hhhh-axxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,h=>{let f=(a+Math.random()*16)%16|0;return a=Math.floor(a/16),(h==="x"?f:f&7|8).toString(16)});return csString.prototype.replace.call(c,"hhhh",o)}i.generate=t;function e(r){let o=0;for(let a=0;a<r.length;a+=1)o=csString.prototype.charCodeAt.call(r,a)+(o<<6)+(o<<16)-o;return Math.abs(o)}}(s||(s={})),s})();var Sp=(()=>{class s{constructor(t,e){this.et=t,this.Ct=e,this.Hu=!1}getRequestParameters(){return{dr:this.get()}}addUrlMaskingPattern(t){this.Ct.addUrlMaskingPattern(t)}enableRemoveQueryString(){this.Hu=!0}disableRemoveQueryString(){this.Hu=!1}get(){let t=this.Hu?this.et.removeQueryString(this.Km()):this.Km();return this.et.anonymizeUrl(t,{maskingPatterns:this.Ct.getUrlMaskingPatterns()})}set(t){this.Jm=t}Km(){if(this.Jm)return this.Jm;let t="";try{t=window.top.document.referrer}catch{if(window.parent)try{t=window.parent.document.referrer}catch{t=""}}return t===""&&(t=document.referrer),typeof t!="string"&&(t=""),t}}return s})();function fo(s,i,t){if(!X(i)&&!X(t))return s.href;let e=X(i)?Ra(i):s.pathname,r=X(t)?Ca(t):s.search;return`${s.protocol}//${s.host}${e}${r}`}function Ra(s){return Dt(s,"/")?s:`/${s}`}function Ca(s){return Dt(s,"?")||s===""?s:`?${s}`}var Ki=(()=>{let s;return function(i){i[i.page=1]="page",i[i.onNextPageviewOnly=2]="onNextPageviewOnly"}(s||(s={})),s})(),vp=(()=>{class s{constructor(t,e){this.Lt=t,this.et=e,this.VR=10}overridePath(t,e){if(t===""){this.Fr=void 0;return}let r=this.Qm(e);r&&(this.Bu=r),this.Fr=e?this.Zm(t,e):t}overrideQuery(t,e){let r=this.Qm(e);r&&(this.Fu=r),this.Po=e?this.Zm(t,e):t}computeOverriddenUrl(t){return this.UR(t)?this.getAnonymizedUrl():t}jR(t){return(typeof t=="string"||typeof t=="number")&&t in Ki}UR(t){let e=this.ua(this.Lt.href);return this.ua(t)===e}ua(t){return fh(t,"/")?csString.prototype.slice.call(t,0,-1):t}Qm(t){return X(t==null?void 0:t.lifespan)&&this.jR(t==null?void 0:t.lifespan)?t==null?void 0:t.lifespan:null}HR(){return this.Bu&&this.Bu in Ki}BR(){return this.Fu&&this.Fu in Ki}cleanupOverrideLifespan(){this.HR()&&(this.Fr=void 0,this.Bu=void 0),this.BR()&&(this.Po=void 0,this.Fu=void 0)}getAnonymizedUrl(){let t=fo(this.Lt,this.Fr,this.Po);return this.et.anonymizeUrl(t)}getUrl(){return fo(this.Lt,this.Fr,this.Po)}getAnonymizedPathAndQuery(){let t=X(this.Fr)?Ra(this.Fr):this.Lt.pathname,e=X(this.Po)?Ca(this.Po):this.Lt.search;return this.et.anonymizeUrl(t+e)}getUrlProtocol(){return this.Lt.protocol}getRequestParameters(){return{url:this.getAnonymizedUrl()}}Zm(t,e){return this.FR(e)?this.GR(t):this.$R(e)?this.zR(t):t}$R(t){return!!t.decodeURI}zR(t){return this.ty(t,1,!1)}FR(t){return!!t.decodeURIDeep}GR(t){return this.ty(t,this.VR,!0)}ty(t,e,r){let o=t;for(let a=0;a<e;a++)try{let c=window.decodeURI(o);if(c===o)return o;o=c}catch{return o}return r&&j.warn(`decodeURIDeep limit reached: ${o}`),o}}return s})(),_p=(()=>{class s{constructor(t,e){this.S=t,this.As=e}init(){this.S.register(["debugEvents"],t=>{typeof t=="boolean"&&this.As.updateDynamicFields("emitDebugEvents",t)})}}return s})();var po=(()=>{class s{constructor(t,e,r,o,a){this.E=t,this.O=e,this.R=r,this.ey=o,this.zs=a}getRequestParameters(){var t;let e={...Ur(),...this.E.getRequestParameters()},r=this.R.getSession();r&&(e.pn=`${r.pageNumber}`);let o=this.O.getVisitor();if(o&&(e.sn=`${o.visitsCount}`,e.uu=`${o.id}`),!((t=this.ey)===null||t===void 0)&&t.hasSubProjectId()&&(e.subProjectID=`${this.ey.getSubProjectId()}`),this.qR(e),window.heap&&!this.E.isCsCrosswritingHeap())try{e.happid=window.heap.appid,window.heap.getSessionId&&(e.hsid=window.heap.getSessionId()),window.heap.getUserId?e.huu=window.heap.getUserId():window.heap.userId&&(e.huu=window.heap.userId),window.heap.getPageviewMetadata&&(e.hpvid=window.heap.getPageviewMetadata().pageviewId)}catch{delete e.happid,delete e.hsid,delete e.huu,delete e.hpvid}return e}qR(t){if(!this.zs)return;let e=this.zs.getSharedContext();e&&(t.happid=e.happid,t.t=e.pageTitle,t.fvt=csString(e.firstViewTime),t.fvurl=e.firstViewUrl,e.previousViewUrl&&(t.pvurl=e.previousViewUrl),t.url=e.currentViewUrl,e.sessionReferrer&&(t.fpvurl=e.sessionReferrer),t.sw=csString(e.screenWidth),t.sh=csString(e.screenHeight),t.cvt=csString(e.currentViewTime),e.encryptedIdentity&&(t.i=e.encryptedIdentity),e.cvarp&&(t.cvarp=e.cvarp))}}return s})();function wp(){let s="[data-cs-mask]",i="#c1_card_info_id",t=".ctHidden",e=["[data-heap-redact-text]","[heap-ignore]","[data-heap-ignore]","[data-heap-redact-attributes]"],r=["[data-hj-suppress]",".data-hj-suppress","[data-hj-masked]"];return[s,i,t,...e,...r]}function Ap(){return[{selector:".ctHidden,input:not([type=button]):not([type=submit])",attrName:"value"}]}var Tp=(()=>{class s{constructor(){this.WR={PIISelectors:["picture","img","video","audio"],Attributes:[]},this.$s={elementSelector:"",attrSelector:"",attrSelectors:[]};let t={PIISelectors:wp(),Attributes:Ap()};this.$s=B.getComputedSelectorSettings(t,this.$s)}init(){this.YR()}setMaskedElementSettingsFromCommand(t){if(t=B.sanitizeSelectorUserInput(t),!B.isSelectorUserInput(t))throw new ut(ia[0]);this.Gu(t)}setMaskedElementSettingsFromParent(t){let e={PIISelectors:csString.prototype.split.call(t.elementSelector,","),Attributes:t.attrSelectors};this.Gu(e)}getMaskedElementSettings(t){return t?this.sy(this.WR):this.$s}YR(){var t,e,r,o,a,c;let h={PIISelectors:[],Attributes:[]};((r=(e=(t=window==null?void 0:window.ClickTaleSettings)===null||t===void 0?void 0:t.DOM)===null||e===void 0?void 0:e.PII)===null||r===void 0?void 0:r.Text)instanceof Array&&h.PIISelectors.push(...window.ClickTaleSettings.DOM.PII.Text),((c=(a=(o=window==null?void 0:window.ClickTaleSettings)===null||o===void 0?void 0:o.DOM)===null||a===void 0?void 0:a.PII)===null||c===void 0?void 0:c.Attributes)instanceof Array&&window.ClickTaleSettings.DOM.PII.Attributes.forEach(f=>{H(f.attr)&&H(f.rule)&&h.Attributes.push({selector:f.rule,attrName:f.attr})}),this.Gu(h)}Gu(t){this.$s=this.sy(t)}sy(t){return B.getComputedSelectorSettings(t,this.$s)}}return s})(),bp=60*1e3,Rp=30*1e3,Cp=(()=>{class s{constructor(t,e){this.R=t,this.O=e,this.$u=!1,this.XR=Br(()=>this.R.refreshSession(),Rp)}onSessionExpired(t){this.KR=t}isSessionValid(){return this.$u?!0:!(!this.R.hasValidSession()||this.R.pollCacheRefreshEvent()&&this.O.isSessionRenewed())}isCurrentPageviewValid(){let t=this.R.hasValidSession();return this.R.pollCacheRefreshEvent(!1)?!this.O.isSessionRenewed():t}refreshSession(){this.isSessionValid()?this.XR():this.JR()&&(this.iy=F.now(),this.renewSession(!1))}renewSession(t){this.$u=!0,this.KR(t),this.$u=!1}JR(){return!document.hidden&&(!X(this.iy)||F.now()-this.iy>bp)}}return s})(),Ip=(()=>{class s{constructor(){this.W=null,this.L=null,this.U=!1,this._i=t=>{for(let e of t)if(xe.isEditableNode(e.target))for(let r=0;r<e.addedNodes.length;r+=1){let o=e.addedNodes[r];if(!xe.isEditableNode(o)){if(ar(o)||Il(o)){xe.markEditableNode(o);continue}dt(o)&&this.ry(o)}}}}start(){this.U||(this.U=!0,this.W=new di(t=>Nt(t,e=>{this.ry(e)})),this.W.observe("[contenteditable]"),this.L=new yi(this._i,(t,e)=>e==="added"&&this.QR(t)),this.L.observe())}stop(){var t,e;this.U&&(this.U=!1,(t=this.W)===null||t===void 0||t.disconnect(),this.W=null,(e=this.L)===null||e===void 0||e.disconnect(),this.L=null)}ry(t){Qt(t).visitAll(e=>{xe.markEditableNode(e)})}QR(t){xe.isEditableNode(t.host)&&xe.markEditableNode(t)}}return s})();var Pp=(()=>{class s{constructor(){this.subscriptions={}}subscribe(t,e){this.subscriptions[t]=e,Object.keys(this.subscriptions).length===1&&this.onStartTracking()}unsubscribe(t){delete this.subscriptions[t],Object.keys(this.subscriptions).length===0&&this.onStopTracking()}}return s})(),Op=(()=>{class s extends Pp{constructor(t){super(),this.t0=t,this.li=[{boundElement:document,type:"touchstart",listener:e=>this.Q(e)},{boundElement:document,type:"touchmove",listener:e=>this.Q(e)},{boundElement:document,type:"touchend",listener:e=>this.Q(e)}],this.Oo=new Gd,this.Oo.onGesture((e,r)=>this.Rh(e,r))}Rh(t,e){for(let r in this.subscriptions){let o=this.subscriptions[r];o(t,e)}}onStartTracking(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.li,t=>_s(t))}onStopTracking(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.li,t=>ws(t))}canDetectGesture(){return typeof devicePixelRatio!="undefined"}Q(t){this.t0.tryToExecute("process gesture event",()=>{if(this.Oo.isValidTouchEvent(t))switch(t.type){case"touchstart":this.Oo.processActionDown(t);break;case"touchmove":this.Oo.processActionMove();break;case"touchend":this.Oo.processActionUp(t);break}})()}static isSwipe(t){return t.type===Rt.FLICK||t.type===Rt.DRAG}}return s})();var Np=(()=>{class s{constructor(t){this.pt=t}on(t,e){return r=>{this.pt.hasValidEventTarget(r)&&this.v0(r,t)&&e(r)}}v0(t,e){let r=Ae(t);return Bt.call(r,e)}isMatchesSelectorSupported(){return!!Bt}}return s})(),Mp=(()=>{class s extends kt{constructor(){super(),this.hy=0}onStart(){j.isPerfLoggingActive()&&(this.Mo=window.csSetInterval(()=>this.uy(),s._0))}onStop(){j.isPerfLoggingActive()&&(this.uy(),csClearInterval(this.Mo))}uy(){this.hy>=s.w0||V.counters.methodPerformance.flush()&&this.hy++}}return s._0=5e3,s.w0=5,s})(),Dp=(()=>{class s{constructor(){}init(){this._c=new Mp}onStartTracking(){this._c.start()}onOptout(){this._c.stop()}onArtificialPageViewEnd(t){t&&this._c.stop()}onAfterArtificialPageView(t){t&&this._c.start()}}return s})();var kp=["startDataCollection","data-collection:start"],Lp=["data-collection:stop"],xp=(()=>{class s{constructor(t,e){this.rs=t,this.S=e}init(){this.S.register(kp,()=>{this.rs.startDataCollection()}),this.S.register(Lp,()=>{this.rs.stopDataCollection()})}}return s})(),Ji={fromSessionRenewal:!1,isRenewedVisitor:!1},Vp=(()=>{class s{constructor(t,e,r,o,a,c){this.E=t,this.w=e,this.cs=r,this.lt=o,this.er=a,this.G=c,this.wy=!1,this.Ay=0,this.rd=!0,this.Ty=!1,this.qs=!1,this.startDataCollection=({fromSessionRenewal:h,onAfterDataCollectionStartedCallback:f}=Ji)=>{h&&this.qs||!this.wy?this.Z0(h,f):this.tC()}}isDataCollectionStarted(){return this.qs}tryStartAutomaticDataCollection({fromSessionRenewal:t,isRenewedVisitor:e,onAfterDataCollectionStartedCallback:r}=Ji){this.eC(t,e)&&this.startDataCollection({fromSessionRenewal:t,onAfterDataCollectionStartedCallback:r})}disableStartDataCollection(){this.rd=!1}allowStartDataCollection({fromSessionRenewal:t}=Ji){this.rd=!0,this.Ty&&this.startDataCollection({fromSessionRenewal:t})}stopDataCollection(){this.qs&&(this.qs=!1,this.w.emitArtificialPageViewEnd(!0),this.er.stop())}tC(){this.qs||(this.qs=!0,this.G.isSessionValid()?(this.G.refreshSession(),this.er.start(je.Artificial)):this.G.renewSession(!1))}eC(t,e){return e&&!this.qs?!1:t?!0:this.E.startMode===li.Manual?!1:!mr(this.E)&&!this.E.isHeapSideloadsStartDataCollection()&&!this.E.isCsSideloadingHeap()}Z0(t,e){if(this.cs.isActive()||(this.Ty=!0,this.sC()&&(this.Ay++,this.Ay<2))||!this.rd||this.qs&&!t)return;this.wy=!0,this.qs=!0,this.lt.init();let r=t?je.Renewal:je.Natural;this.er.start(r);let o=()=>{this.w.emitStartTracking(t),typeof e=="function"&&e()};rs.onDocumentLoaded(o)}sC(){return mr(this.E)&&this.E.isCsSideloadingHeap()}}return s})();var Up=(()=>{class s{constructor(t){this.S=t}init(){this.Fy(s.uI,Go),this.Fy(s.dI,Fo)}Fy(t,e){this.S.register([t],(r,o)=>{!H(r)||!(H(o)||te(o))||j.error(o,`${e}${r}`)})}}return s.dI="logSnippetError",s.uI="logImplementationSnippetError",s})();var jp=(()=>{class s{constructor(t,e){this.Gt=t,this.E=e,this.Gy=!1}enableRecordingContext(t,e,r){this.Gy=!0,this.Vr=t,this.R=e,this.io=r}getRecordingContext(){var t,e,r;if(!this.Gy)return{isRecording:!1,recordingStartTimestamp:0,etrState:jt.ETR_OFF,etrStatus:Jo.ETR_DISABLED,collectState:R.ANALYTICS_ONLY};let o=this.R.getSession();return{isRecording:this.Vr.isRecording(),useAnonymization:this.Gt.getSensitiveStatus().useAnonymization,enableOnlineResources:(t=this.Vr.getStaticResourceManagerStatus())===null||t===void 0?void 0:t.onlineAssets.activated,enableOnlineResourcesOnNextPageview:(e=this.Vr.getStaticResourceManagerStatus())===null||e===void 0?void 0:e.onlineAssets.enabledOnNextPageview,recordingStartTimestamp:parseInt(this.Vr.getRecordingStartTimestamp(),10),etrState:this.E.malkaEtrEnabled?jt.ETR_ON:jt.ETR_OFF,etrStatus:this.io.getEtrStatus(o),collectState:(r=o==null?void 0:o.collectState)!==null&&r!==void 0?r:R.ANALYTICS_ONLY}}}return s})(),pi=(()=>{class s{static isRecordingSupported(){return"MutationObserver"in window&&"visibilityState"in document}static isAsyncSerializationSupported(){return"Promise"in window&&"findIndex"in csArray.prototype}}return s})();var Hp=(()=>{class s extends kt{constructor(t,e,r,o,a,c){super(),this.ye=t,this.lt=e,this.qt=r,this.pr=o,this.Zr=a,this.it=c}onStart(){var t,e,r;this.qt.start(),this.ye.setMaskedElementSettings(this.lt.getMaskedElementSettings((t=this.it)===null||t===void 0?void 0:t.shouldMaskNonTextElements())),this.ye.startIdentifier(),(e=this.pr)===null||e===void 0||e.start(),(r=this.Zr)===null||r===void 0||r.start()}onStop(){var t,e;this.qt.stop(),this.ye.stopIdentifier(),(t=this.pr)===null||t===void 0||t.stop(),(e=this.Zr)===null||e===void 0||e.stop()}}return s})(),Bp=(()=>{class s{constructor(t,e,r,o,a,c){this.it=t,this.lt=e,this.se=r,this.qt=o,this.Cn=a,this.ht=c,this.In=jo(this.Cn)}getSensitiveStatus(){var t,e;return{started:this.se.isStarted,useAnonymization:this.it.shouldUseAnonymization(),capturedElementSelector:this.qt.getWhitelistedElementsSelector(),maskedElementSettings:this.lt.getMaskedElementSettings((t=this.it)===null||t===void 0?void 0:t.shouldMaskNonTextElements()),encryptionSelectors:(e=this.ht)===null||e===void 0?void 0:e.getEncryptionSelectors()}}getElementSensitiveStatus(t){let e=this.se.isStarted,r=this.it.shouldUseAnonymization();return e?B.isMaskedElement(t)||B.isMaskedElementChild(t)?_t.MASKED:Vd.shouldEncrypt(t)?_t.ENCRYPTED:xe.isEditableNode(t)?_t.ANONYMIZED:r?Se.isWhitelistedElement(t)?_t.CAPTURED:_t.ANONYMIZED:_t.CAPTURED:_t.ANONYMIZED}getAttributeSensitiveStatus(t,e){if(!this.se.isStarted)return _t.ANONYMIZED;let r=this.it.shouldUseAnonymization();return B.isMaskedAttribute(t,e)?_t.MASKED:r?Oo(t)||Se.isWhitelistedElement(t)||this.In.has(e)?_t.CAPTURED:_t.ANONYMIZED:_t.CAPTURED}}return s})(),Fp=(()=>{class s{constructor(t){this.G=t}onAfterVisitorRenewal(){this.G.renewSession(!0)}}return s})(),Gp=(()=>{let s;return function(i){i.URL="url"}(s||(s={})),s})(),go=(()=>{let s;return function(i){function t(m,y){for(let v of m)if(r(v,y))return!0;return!1}i.isUrlMatching=t;function e(m,y){if(H(y)){for(let v of m)if(r(v,y))return!0}else if(ii(y)){for(let v of m)if(r(v,csString(y)))return!0}return!1}i.isMatching=e;function r(m,y){let v=o(m,y);return m.negate?!v:v}function o(m,y){switch(m.rule_type==="date"&&(m.match_operation==="less_than"||m.match_operation==="greater_than")&&(y=(new csDate(y).valueOf()/1e3).toFixed(0)),m.match_operation){case"exact":switch(m.rule_type){case"string":return H(m.pattern)?csString.prototype.toLowerCase.call(y)===csString.prototype.toLowerCase.call(m.pattern):!1;case"boolean":return y===m.pattern||y===csString(m.pattern);case"number":return St(y)?Number(y)===Number(m.pattern):!1;default:return y===m.pattern}case"starts_with":return H(m.pattern)?csString.prototype.indexOf.call(y,m.pattern)===0:!1;case"ends_with":return H(m.pattern)?Ir(y,m.pattern):!1;case"contains":return H(m.pattern)?csString.prototype.indexOf.call(y,m.pattern)!==-1:!1;case"regex":if(!H(m.pattern))return!1;try{return new csRegExp(m.pattern).test(y)}catch(v){return j.warn(`targeting.matchOperation.regex invalid ${v==null?void 0:v.message}`),!1}case"simple":return H(m.pattern)?g(y)===g(m.pattern):!1;case"greater_than":return Number(y)>Number(m.pattern);case"less_than":return Number(y)<Number(m.pattern);case"exact_date":{let v=Number(m.pattern);if(!Ct(v))return!1;let I=new csDate(v*1e3);return new csDate(y).toDateString()===I.toDateString()}case"exact_days_ago":return a(m,y);case"more_than_days_ago":return c(m,y);case"less_than_days_ago":return h(m,y);case"unknown":return f(y);default:return j.warn(`targeting.matchOperation.regex not managed operation ${m.match_operation}`),!1}}function a(m,y){let v=new csDate,I=v.setDate(v.getDate()-Number(m.pattern)),D=new csDate(I);return new csDate(y).toDateString()===D.toDateString()}function c(m,y){let v=Number(m.pattern);if(!Ct(v))return!1;let I=Number(v)+1,D=new csDate,x=new csDate(D);return x.setDate(D.getDate()-I),new csDate(y).getTime()<=x.getTime()}function h(m,y){let v=Number(m.pattern);if(!Ct(v))return!1;if(v===0)return a(m,y);let I=new csDate,D=new csDate(I);return D.setDate(I.getDate()-v),new csDate(y).getTime()>=D.getTime()}function f(m){return St(m)?H(m)?csString.prototype.trim.call(m)==="":ii(m)?m===!0:Ct(m)?m!==0:!1:!0}function g(m){let y=Dt(m,"http://")||Dt(m,"https://")?m:`https://${m}`,v=$o(y);return v!==null?csString.prototype.replace.call(v.host,/^www./,""):m}}(s||(s={})),s})(),Qi={isLegacyURL:s=>s.component==="url",isLegacyTrigger:s=>s.component==="trigger",isURL:s=>s.type===Gp.URL},$p=(()=>{class s{constructor(){this.zy=new jr,this.qy=[],this.Wy=[]}setTargetingRules(t){this.zy.setRegexRules(csArray.prototype.filter.call(t,Qi.isURL));for(let e of t)Qi.isLegacyURL(e)?csArray.prototype.push.call(this.qy,e):Qi.isLegacyTrigger(e)&&csArray.prototype.push.call(this.Wy,e)}matchUrl(t){return go.isUrlMatching(this.qy,t)||this.zy.evaluateUrl(t)}matchTrigger(t){return go.isMatching(this.Wy,t)}}return s})(),zp=(()=>{class s extends kt{constructor(t,e,r){super(),this.Yy=t,this.gd=e,this.C=r}init(){this.md=new $p,this.Yy&&this.md.setTargetingRules(this.Yy)}onStart(){}checkTargetingRules(){let t=this.C.getAnonymizedUrl();this.gd(this.yd(t,"url"))}onStop(){}onTargetingRulesArtificialPageview(t){this.isStarted&&this.gd(this.yd(t,"url"))}onExternalEvent(t){this.isStarted&&this.gd(this.yd(t.name,"trigger"))}yd(t,e){var r,o;return e==="url"&&H(t)&&(!((r=this.md)===null||r===void 0)&&r.matchUrl(t))?!0:!!(e==="trigger"&&(!((o=this.md)===null||o===void 0)&&o.matchTrigger(t)))}}return s})(),qp={MATCHED:{[R.ANALYTICS_ONLY]:R.ANALYTICS_ONLY_RULES_TARGETING,[R.RECORDING_GLOBAL_SAMPLING]:R.RECORDING_RULES_TARGETING,[R.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING]:R.RECORDING_RULES_TARGETING},MISSED:{[R.ANALYTICS_ONLY]:R.ANALYTICS_ONLY_RULES_TARGETING,[R.RECORDING_GLOBAL_SAMPLING]:R.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING}},Wp=(()=>{class s{constructor(t,e,r,o,a,c,h){this.E=t,this.w=e,this.wt=r,this.Z=o,this.C=a,this.R=c,this.rs=h,this.nr=!1,this.$o=(f=!1)=>{this.nr&&this.E.isSMB&&this.rs.allowStartDataCollection({fromSessionRenewal:f}),this.E.startMode===li.Automatic&&this.rs.startDataCollection({fromSessionRenewal:f})},this.EI=f=>{this.nr||(this.nr=f,this.Xy(),this.$o())}}init(){this.E.isSMB&&this.rs.disableStartDataCollection(),this.tn=new zp(this.E.recordTargetingRules,this.EI,this.C),this.Z.addListener(this.tn),this.tn.init()}start(){this.tn.start()}stop(){this.tn.stop()}maybeStartDataCollection(t){if(t){this.$o(t);return}if(this.SI()){this.nr=!0,this.$o(),this.stop();return}this.tn.checkTargetingRules()}onAfterArtificialPageView(){this.tn.checkTargetingRules()}onCollectStateChange(t){if(this.Ky(t)){this.stop();return}let e=t===R.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING;!this.nr&&e||csSetTimeout(()=>this.Jy(t),0)}onStartTracking(){this.Xy()}SI(){let t=this.R.getSession();return!!(t&&this.Ky(t.collectState))}Ky(t){return t===R.RECORDING_RULES_TARGETING||t===R.ANALYTICS_ONLY_RULES_TARGETING}Xy(){var t;if(this.nr){let e=this.R.getSession(),r=this.wt.getInitialCollectState();this.Jy((t=e==null?void 0:e.collectState)!==null&&t!==void 0?t:r),this.rs.isDataCollectionStarted()&&this.w.emitTargetingRulesMatched()}}Jy(t){let e=qp[this.nr?"MATCHED":"MISSED"][t];e&&this.w.emitCollectStateChange(e,jt.ETR_OFF)}}return s})(),Yp=(()=>{class s{constructor(){this.Qy=new Set,this.Zy=[],this.Ed=new Set,this.Sd=[]}addUrlMaskingPattern(t){if(this.Qy.has(t))return;this.Qy.add(t);let e=Dn(t);csArray.prototype.push.call(this.Zy,e)}getUrlMaskingPatterns(){return this.Zy}resetPartialUrlMaskingPatterns(){this.Ed.clear(),this.Sd=[]}addPartialUrlMaskingPattern(t){if(this.Ed.has(t))return;this.Ed.add(t);let e=Dn(t);csArray.prototype.push.call(this.Sd,e)}getPartialUrlMaskingPatterns(){return this.Sd}}return s})(),Xp=(()=>{class s{constructor(t,e,r){this.E=t,this.O=e,this.R=r,this.gs=F.now()}resetStartTime(){this.gs=F.now()}getSessionData(){let{projectId:t}=this.E,e=this.O.getVisitor();e==null&&j.warn("Visitor is null. This happens when a snippet tries to get Session Data before the tag was initialized.");let{id:r,visitsCount:o}=e!=null?e:{},a=this.R.getSession();a===null&&j.warn("Session is null. This happens when a snippet tries to get Session Data before the tag was initialized.");let{pageNumber:c}=a!=null?a:{};return{projectId:t,userId:r,sessionNumber:o,pageNumber:c,relativeTimestamp:F.now()-this.gs}}}return s})(),Kp=["clearSession"],Jp=["extendSession"];var Qp=["getSessionData"],Zp=["session:start:newVisitor"],tg=["session:clear:visitor"],eg=(()=>{class s{constructor(t,e,r,o){this.E=t,this.O=e,this.R=r,this.S=o}init(){this.vd=new Xp(this.E,this.O,this.R),this.S.register(Kp,()=>this.R.removeSession()),this.S.register(Jp,()=>this.R.extendSessionPeriodically(),{disableApplyPending:!0}),this.S.register(Qp,()=>this.vd.getSessionData(),{disableApplyPending:!0}),this.S.register(Zp,()=>this.O.renewVisitor()),this.S.register(tg,()=>{this.O.resetVisitor()},{disableApplyImmediate:!0})}onBeforeNaturalPageView(){this.O.createOrUpdateVisitor(),this.R.createOrUpdateSession()}onBeforeArtificialPageView(){this.O.createOrUpdateVisitor(),this.R.createOrUpdateSession()}onAfterNaturalPageView(){this.vd.resetStartTime()}onAfterArtificialPageView(){this.vd.resetStartTime()}onOptout(){this.O.removeVisitor(),this.R.removeSession()}onCollectStateChange(t){this.R.updateCollectState(t)}}return s})(),sg=(()=>{class s{constructor(t,e,r,o,a,c,h,f,g,m,y,v,I,D,x,_,w,O,C,T,k,Y,J,wt,mt,At,E,P,N,L,Z,nt,$t,Re,We,Ye,se){this.St=t,this.Lc=e,this.de=r,this.O=o,this.R=a,this.G=c,this.Ps=h,this.w=f,this.S=g,this.pl=m,this.E=y,this.gl=v,this.cs=I,this._n=D,this.bt=x,this.M=_,this.J=w,this.et=O,this.C=C,this.vI=T,this.Z=k,this.Tt=Y,this.Et=J,this.tE=wt,this.ee=mt,this._I=At,this.D=E,this.Oe=P,this.N=N,this.Nt=L,this.K=Z,this.wt=nt,this.lt=$t,this.Fe=Re,this.ss=We,this.Ze=Ye,this.es=se,this.wI=ie=>{this.w.emitBeforeSessionRenewal(),this.rn(!0,ie),this.w.emitAfterSessionRenewal()},this.AI=ie=>{this.w.emitBeforeSessionRenewal(),this.wt.refreshQuota(It=>{It!==R.QUOTA_REACHED&&(this.rn(!0,ie),this.w.emitAfterSessionRenewal())})}}start(){if(this.gl.init(),this.cs.init(),this.cs.isActive())return;let t,e,r,o,a,c,h,f,g,m,y,v,I,D,x,_,w,O,C;this.D.schedule(()=>{x=new Fp(this.G),v=new Np(this.J),I=new mp(()=>{}),_=new yp,C=new Ip;let T=new Hp(I,this.lt,_,O,C,this.eE());D=new Bp(this.eE(),this.lt,T,_,this.E.whitelistedAttributes,w);let k=new nd(this.w,this.S,this.lt,T,_,w,O);k.init(),this.w.addListener(k),t=new bf(this.E,this.Lc,this.O,this.J,v,this.S,this.G,new Op(j),this.Tt,this.Oe,this.Z,D,this.mt,this.Ze,this.es),e=new ud(this.S,this.R,this.E,this.St,this.de,this.M),y=new jp(D,this.E);let Y=null,J=new Yu;r=new xf(this.O,this.R,this.S,this.Tt,Y,this.E,J,y),o=new Sd(this.E,this.Lc,this.O,this.S,this.M,this.G,this.C);let wt;this.er=new ed(this.E,this.S,this.w,this.Lc,this.O,this.R,this.Ps,this.bt,this.Et,this.C,this.ee,J,this.Z,this.Fe,wt),this.sE=new eg(this.E,this.O,this.R,this.S),this.rs=new Vp(this.E,this.w,this.cs,this.lt,this.er,this.G),new xp(this.rs,this.S).init(),h=new Ad(this.E,this.S,this.de,this.Lc,this.Z),f=new Up(this.S),g=new Dp}),this.D.schedule(()=>{this._n.init()}),this.D.schedule(()=>{r.init()}),this.D.schedule(()=>{e.init()}),this.D.schedule(()=>{o.init()}),this.D.schedule(()=>{this.tE.init()}),this.D.schedule(()=>{this.er.init()}),this.D.schedule(()=>{this.sE.init()}),this.D.schedule(()=>{h.init()}),this.D.schedule(()=>{this.vI.init()}),this.D.schedule(()=>{f.init()}),this.D.schedule(()=>{g.init()}),this.D.schedule(()=>{this._I.init()}),this.D.schedule(()=>{this.w.addListener(this.sE),this.w.addListener(this.pl),this.w.addListener(t),this.w.addListener(this._n),this.w.addListener(r),this.w.addListener(o),this.w.addListener(this.tE),this.w.addListener(this.er),this.w.addListener(h),this.w.addListener(e),this.w.addListener(g),this.w.addListener(x)}),this.D.schedule(()=>{t.init()}),this.D.schedule(()=>{this.E.isQuotaEnabled()?this.G.onSessionExpired(T=>{this.AI(T)}):this.G.onSessionExpired(T=>{this.wI(T)}),this.rn()})}rn(t=!1,e=!1){var r,o,a;if(this.E.hasTargetingRules()){this.zo||(this.zo=new Wp(this.E,this.w,this.wt,this.Z,this.C,this.R,this.rs),this.w.addListener(this.zo),this.zo.init(),this.zo.start(),this.S.start(),(r=this.mt)===null||r===void 0||r.start()),this.zo.maybeStartDataCollection(t);return}this.S.start(),(o=this.mt)===null||o===void 0||o.start(),this.rs.tryStartAutomaticDataCollection({fromSessionRenewal:t,isRenewedVisitor:e})}eE(){if(this.it)return this.it;let t=new jr;return this.it=new gp(this.E,this.C,t,this.bt),this.it.init(),this.it.shouldUseAnonymization()&&V.counters.pageAnonymisation.count("anonymized-on-start"),this.it}}return s})();var Ia=(()=>{class s{constructor(t){this.configuration=t}}return s})(),ig=(()=>{class s extends Ia{constructor(t,e,r,o,a){super(t),this.configuration=t,this.w=e,this._d=r,this.C=o,this.wd=a,this.Ad=!1}refreshQuota(){}canCollect(t){return!0}init(){this.configuration.malkaUrlEnabled&&this.configuration.hasRecordingUrlRules()&&(this.Ad=!0,this.wd.setRegexRules(this.configuration.recordingUrlRules))}sanitizeSessionCollectState(t){return(t.collectState===R.QUOTA_REACHED||t.collectState===R.RECORDING_RULES_TARGETING||t.collectState===R.RECORDING_TEMPORARILY)&&(t.collectState=R.ANALYTICS_ONLY),t}computeInitialCollectState(){return Te.isReplayConsentNeeded(this.configuration)?R.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED:this.xc()}computeInitialCollectStateFromRecordingConsentGranted(){return this.xc()}xc(){if(!pi.isRecordingSupported())return R.ANALYTICS_ONLY;let t=R.ANALYTICS_ONLY,e=jt.ETR_OFF;return Ge.percentage()<this.configuration.replayRecordingRate||this._d.isForceReplayRecorded()?t=R.RECORDING_GLOBAL_SAMPLING:this.Ad&&this.wd.evaluateUrl(this.C.getAnonymizedUrl())&&(t=R.RECORDING_URL_SAMPLING),this.configuration.malkaEtrEnabled&&(e=jt.ETR_ON),this.w.emitCollectStateChange(t,e),t}getEligibleCollectState(t){if(!pi.isRecordingSupported())return R.ANALYTICS_ONLY;if(Te.isRecordingBlockedByConsent(t))return t.collectState===R.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?R.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN:R.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED;if(t.collectState===R.RECORDING_GLOBAL_SAMPLING)return R.RECORDING_GLOBAL_SAMPLING;let e=this.configuration.malkaEtrEnabled?jt.ETR_ON:jt.ETR_OFF;return this.Ad&&this.wd.evaluateUrl(this.C.getAnonymizedUrl())?(this.w.emitCollectStateChange(R.RECORDING_URL_SAMPLING,e),R.RECORDING_URL_SAMPLING):(this.w.emitCollectStateChange(R.ANALYTICS_ONLY,e),R.ANALYTICS_ONLY)}isReplayRecorded(t){return Te.isRecordingBlockedByConsent(t)?!1:t.collectState===R.RECORDING_TEMPORARILY||t.collectState===R.RECORDING_GLOBAL_SAMPLING||t.collectState===R.RECORDING_URL_SAMPLING||this.configuration.malkaEtrEnabled}getInitialCollectState(){return R.ANALYTICS_ONLY}getRecordingConsentWithdrawn(){return R.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}}return s})(),Ot="_cs_s",Tr=18e5,Zi=".",rg=13,Qs=(()=>{let s;return function(i){i[i.NOT_FOUND=0]="NOT_FOUND",i[i.EXPIRED=1]="EXPIRED",i[i.FOUND=2]="FOUND"}(s||(s={})),s})(),ng=(()=>{class s{constructor(t,e,r){this.E=t,this.N=e,this.K=r,this.ie=null,this.Td=!1}get(t){let e=this.getRawSession(t);return this.isValid(e)?ta(e):null}getRawSession(t){if(t){let g=this.bd();return gr(g)}let{sessionString:e,status:r}=this.TI(),o=gr(e);if(r!==Qs.EXPIRED)return o;if(this.E.cookielessTrackingEnabled)return null;let a=this.bd();if(!a)return null;let c=csString.prototype.split.call(a,Zi);if(!s.iE(c))return a;let h=c[c.length-1],f=parseInt(h,10);return isNaN(f)||this.bI(f),o}onCookieToSet(t){this.Oi=t}onCookieToRemove(t){this.Ni=t}set(t,e=Tr){var r;let o=F.now()+e,a=Mu(t);a+=`${Zi}${o}`,this.RI(a,o),this.E.cookielessTrackingEnabled?this.K.setItem(Ot,a):(this.N.set(Ot,a,e),(r=this.Oi)===null||r===void 0||r.call(this,Ot,a,e))}remove(){var t;this.E.cookielessTrackingEnabled?this.K.removeItem(Ot):(this.N.delete(Ot),(t=this.Ni)===null||t===void 0||t.call(this,Ot)),this.CI()}handleSubdomainChange(){if(this.E.cookielessTrackingEnabled)return;let t=this.get(!0);t&&(this.E.allowSubdomains?this.N.delete(Ot,mi.CURRENT_DOMAIN):this.N.delete(Ot,this.N.getRootDomain()),this.set(t))}isValid(t){return t!==null&&Gr(t)}RI(t,e){this.ie={sessionString:t,expires:e}}TI(){return this.ie?this.ie&&F.now()<=this.ie.expires?{sessionString:this.ie.sessionString,status:Qs.FOUND}:{sessionString:this.ie.sessionString,status:Qs.EXPIRED}:{sessionString:this.bd(),status:Qs.NOT_FOUND}}CI(){this.ie=null}bI(t){this.ie&&(this.ie.expires=t,this.Td=!0)}isCacheRefreshed(){return this.Td}resetCacheRefreshed(){this.Td=!1}bd(){if(this.E.cookielessTrackingEnabled){let e=this.K.getItem(Ot);return!e||this.rE(e)?null:e}let t=this.N.get(Ot);return!t||this.rE(t)?null:t}rE(t){let e=csString.prototype.split.call(t,Zi);if(!s.iE(e))return!1;let r=parseInt(e[e.length-1],10);return!isNaN(r)&&F.now()>r}static iE(t){return t[t.length-1].length===rg}}return s})(),og=(()=>{class s extends Ia{constructor(t,e,r){super(t),this.configuration=t,this.qo=e,this.w=r,this.II=R.RECORDING_GLOBAL_SAMPLING}refreshQuota(t){this.nE=t,this.Wo=void 0,this.PI()}init(t){this.OI();let e=et.get(Ot);e!==null&&Gr(e)?t(this.canCollect(Du(e))):this.refreshQuota(r=>{t(r!==R.QUOTA_REACHED)})}sanitizeSessionCollectState(t){return t}canCollect(t){return t!==null&&t.collectState!==R.QUOTA_REACHED}computeInitialCollectState(t){return this.Wo?(this.w.emitCollectStateChange(this.Wo,this.configuration.malkaEtrEnabled?jt.ETR_ON:jt.ETR_OFF),this.Wo):(j.warn("Quota file error computeInitialCollectState() called before quota answered"),R.QUOTA_REACHED)}getEligibleCollectState(t){return t.collectState===R.QUOTA_REACHED?R.QUOTA_REACHED:!pi.isRecordingSupported()&&this.isReplayRecorded(t)?R.ANALYTICS_ONLY:t.collectState===R.RECORDING_RULES_TARGETING?R.RECORDING_RULES_TARGETING:t.collectState===R.ANALYTICS_ONLY_RULES_TARGETING?R.ANALYTICS_ONLY_RULES_TARGETING:t.collectState===R.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING?R.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING:t.collectState===R.RECORDING_GLOBAL_SAMPLING?R.RECORDING_GLOBAL_SAMPLING:R.ANALYTICS_ONLY}isReplayRecorded(t){return t.collectState===R.RECORDING_GLOBAL_SAMPLING||t.collectState===R.RECORDING_RULES_TARGETING}getInitialCollectState(){return this.Wo||R.QUOTA_REACHED}computeInitialCollectStateFromRecordingConsentGranted(t){return R.ANALYTICS_ONLY}Yo(t){this.Wo=t,this.nE&&this.nE(t)}OI(){this.qo.onError(t=>this.quotaServiceErrorHandler(`HTTP:${t.status} - fetching quota file for pid: ${this.configuration.projectId}`)),this.qo.onTimeout(()=>this.quotaServiceErrorHandler("timeout")),this.qo.onLoad(t=>this.quotaFileHandler(t))}PI(){this.qo.isInProgress()||this.qo.send()}quotaFileHandler(t){var e;if(!(!((e=t==null?void 0:t.quotas)===null||e===void 0)&&e.length)){this.quotaServiceErrorHandler("Quota types missing from config file");return}this.NI(t)}quotaServiceErrorHandler(t){let e=`Quota error - ${t}`;j.warn(e),this.Yo(this.II)}NI(t){let e=!1,r=!1;for(let o of t.quotas)o.quotaType==="ANALYTICS"&&o.value?e=!0:o.quotaType==="RECORDING"&&o.value&&Ge.boolean(Math.round(o.value*100))&&(r=!0);!e&&r?this.quotaServiceErrorHandler(`Quota types impossible: replay without analytics - ${csJSON.stringify(t)}`):e&&r?pi.isRecordingSupported()?this.Yo(R.RECORDING_GLOBAL_SAMPLING):this.Yo(R.ANALYTICS_ONLY):e&&!r?this.Yo(R.ANALYTICS_ONLY):this.Yo(R.QUOTA_REACHED)}getRecordingConsentWithdrawn(){return R.ANALYTICS_ONLY}}return W([z("Quota File: quotaFileHandler")],s.prototype,"quotaFileHandler",null),W([z("Quota File: onerror")],s.prototype,"quotaServiceErrorHandler",null),s})();var ag=(()=>{class s{constructor(t,e,r,o,a){this.O=t,this.R=e,this.vs=r,this.Et=o,this.E=a}get(){return{exclusion:this.vs.getAppliedTrackingDraw(),visitor:this.O.getVisitor(),session:this.R.getSession(),cvars:this.Et.getCustomVariablesSession()}}apply(t){t&&(t.exclusion?this.exclude():this.include(t))}exclude(){this.vs.exclude(this.E),this.O.removeVisitor(),this.R.removeSession(),this.Et.removeCustomVariablesSession()}include(t){this.vs.removeExclusion(),this.O.setVisitor(t.visitor),t.session?this.R.setSession(t.session):this.R.removeSession(),t.cvars?this.Et.setCustomVariableSession(t.cvars):this.Et.removeCustomVariablesSession()}}return s})();var Yr=60*1e3,cg=60*Yr,lg=4*cg-Yr,ss=(()=>{let s;return function(i){i[i.NO=0]="NO",i[i.WITHDRAWN=1]="WITHDRAWN",i[i.GRANTED=2]="GRANTED"}(s||(s={})),s})(),hg=(()=>{class s{constructor(t,e,r,o,a){this.we=t,this.wt=e,this.w=r,this.VI=o,this.UI=a,this.Xo=null,this.Cd=0,this.Ko=ss.NO}setDynamicVariablesService(t){this.jI=t}createOrUpdateSession(){this.Id(),this.HI=F.now(),this.Cd=0;let t=this.cE();t===null?(t=this.BI(),this.xc(t),this.w.emitSessionCreated()):(t=this.wt.sanitizeSessionCollectState(t),this.FI(t),t.collectState=this.wt.getEligibleCollectState(t)),this.setSession(t)}grantReplayRecording(t){t.collectState=this.wt.getInitialCollectState(),t.collectState=this.wt.computeInitialCollectStateFromRecordingConsentGranted(t),this.setSession(t)}grantReplayRecordingBeforeSessionStart(){this.Ko=ss.GRANTED}withdrawnReplayRecording(t){t.collectState=this.wt.getRecordingConsentWithdrawn(),this.setSession(t)}withdrawnReplayRecordingBeforeSessionStart(){this.Ko=ss.WITHDRAWN}xc(t){this.Ko===ss.WITHDRAWN?(t.collectState=this.wt.getRecordingConsentWithdrawn(),this.setSession(t)):this.Ko===ss.GRANTED?t.collectState=this.wt.computeInitialCollectStateFromRecordingConsentGranted(t):t.collectState=this.wt.computeInitialCollectState(t),this.Ko=ss.NO}BI(){return{pageNumber:1,collectState:this.wt.getInitialCollectState(),replayConsent:this.VI?pr.NOT_EXPRESSED:pr.UNNECESSARY,etrStatus:Jo.ETR_NOT_SAVED_SESSION}}FI(t){t.pageNumber+=1}isReplayRecorded(){let t=this.getSession();return!!t&&this.wt.isReplayRecorded(t)}isTemporarilyRecorded(){let t=this.getSession();return(t==null?void 0:t.collectState)===R.RECORDING_TEMPORARILY}getRequestParameters(){let t={},e=this.getSession();return e!==null&&(t.pn=`${e.pageNumber}`),t}getSession(){return this.we.get()}cE(){return this.we.get(!0)}doesSessionExist(){return this.we.get()!==null}setSession(t){this.we.set(t),this.w.emitSessionRefreshed()}refreshSession(){let t=this.cE();t&&this.setSession(t)}removeSession(){this.we.remove(),this.w.emitSessionRemoved()}getRecordingTypes(){let t=this.getSession(),e=this.GI(t);return this.$I(e)}$I(t){let e=[];return csArray.prototype.forEach.call(t,r=>{if(Pu(r)){let o=Ou[r]||r;csArray.prototype.push.call(e,o)}}),e}GI(t){let e=[];return(t==null?void 0:t.collectState)!==void 0&&(csArray.prototype.push.call(e,t.collectState),this.UI&&csArray.prototype.push.call(e,R.RECORDING_ETR_SAMPLING)),e}updateCollectState(t){let e=this.getSession();e!==null&&(e.collectState=t,this.setSession(e))}hasValidSession(){let t=this.we.getRawSession();return this.we.isValid(t)}handleSubdomainChange(){this.we.handleSubdomainChange()}pollCacheRefreshEvent(t=!0){let e=this.we.isCacheRefreshed();return e&&t&&this.we.resetCacheRefreshed(),e}extendSessionPeriodically(){this.Xo||this.lE()}extendSession(){let t=this.getSession();return t===null?(j.warn("extendSession is trying to extend an expired session"),this.Id(),!1):(this.setSession(t),!0)}lE(){if(this.zI()){this.Id();return}this.extendSession()&&(this.qI(),this.WI())}WI(){this.Xo=window.csSetTimeout(()=>{this.lE()},Tr-Yr)}zI(){return lg-(F.now()+Tr-this.HI)<0}Id(){this.Xo&&(window.csClearTimeout(this.Xo),this.Xo=null)}qI(){this.Cd+=1,this.jI.trackDynamicVariable("session_expiry_update",this.Cd)}}return s})();var ug=(()=>{class s{constructor(t,e,r){this.O=t,this.R=e,this.KI=r}handle(){this.O.hasAllowSubdomainsChanged()&&(this.O.handleSubdomainChange(),this.R.handleSubdomainChange(),this.KI.handleSubdomainChange())}}return s})(),tr="_cs_inc",dg=(()=>{class s{constructor(t,e){this.Lt=t,this.N=e}isForceIncluded(){return this.JI()||this.QI()}isForceReplayRecorded(){return this.ZI(R.RECORDING_GLOBAL_SAMPLING)}JI(){return this.N.get(tr)!==null}ZI(t){return this.N.get(tr)===t}QI(){return csString.prototype.indexOf.call(this.Lt.href,tr)>0}}return s})(),fg=(()=>{class s{constructor(t,e,r){this.E=t,this.O=e,this.vs=r}clear(){this.tP()&&(this.hE=this.O.getVisitor(),this.O.removeVisitor()),this.eP()&&this.vs.removeExclusion()}tP(){return this.O.doesVisitorExist()&&this.O.getVisitor().appliedTrackingDraw!==this.E.lastTrackingDraw}eP(){return this.vs.getAppliedTrackingDraw()!==this.E.lastTrackingDraw}restoreClearedVisitor(){this.hE&&this.O.setVisitor(this.hE)}}return s})(),pg=(()=>{class s{constructor(t,e,r,o,a,c,h,f){this.E=t,this.O=e,this.vs=r,this.uE=o,this.sP=a,this.iP=c,this.rP=h,this._d=f}compute(t){var e,r;this.E.crossDomainTracking&&!this.E.cookielessTrackingEnabled?this.E.crossDomainSingleIframeTracking?(e=this.rP)===null||e===void 0||e.start(()=>this.Md(t)):(r=this.iP)===null||r===void 0||r.applyUpToDate(()=>this.Md(t)):this.Md(t)}Md(t){this.sP.handle(),this.uE.clear(),this.nP()?(this.uE.restoreClearedVisitor(),t(!0)):(this.vs.exclude(this.E),t(!1))}nP(){let t=Ge.boolean(this.E.sampleRate);return this._d.isForceIncluded()||!this.vs.isExcluded()&&this.O.doesVisitorExist()||!this.vs.isExcluded()&&t}}return s})(),gg=(()=>{class s{constructor(t,e,r,o){this.E=t,this.ft=e,this.w=r,this.R=o,this.oP=10*1e3}createOrUpdateVisitor(){var t;let e=this.getVisitor();e===null&&(e=this.aP(),(t=this.R)===null||t===void 0||t.removeSession()),this.cP(e),this.setVisitor(e)}aP(){return{id:Ep.generate(),visitsCount:0,appliedTrackingDraw:this.E.lastTrackingDraw,creationTimestamp:gn(),lastVisitTimestamp:0,hitTimestamp:0,expires:F.now()+this.E.visitorCookieTimeout,allowSubdomains:this.E.allowSubdomains,identityPrint:null}}cP(t){let e=gn();this.R&&!this.R.doesSessionExist()&&(t.visitsCount+=1,t.lastVisitTimestamp=e),t.hitTimestamp=e,t.appliedTrackingDraw=this.E.lastTrackingDraw,this.dE=t.visitsCount}getRequestParameters(){let t=this.getVisitor();return t?{uu:t.id,sn:`${t.visitsCount}`,hd:`${t.hitTimestamp}`}:{}}getVisitor(){return this.ft.get()}setVisitor(t){this.ft.set(t)}doesVisitorExist(){return this.ft.get()!==null}resetVisitor(){this.fE(),this.w.emitAfterVisitorCleared()}removeVisitor(){this.ft.remove()}hasAllowSubdomainsChanged(){let t=this.getVisitor();return t?t.allowSubdomains!==this.E.allowSubdomains:!1}handleSubdomainChange(){this.ft.handleSubdomainChange()}isSessionRenewed(){let t=this.getVisitor();return t===null||this.dE===void 0?!1:t.visitsCount!==this.dE}lP(){return!X(this.pE)||F.now()-this.pE>this.oP}renewVisitor(){this.lP()?(this.pE=F.now(),this.fE(),this.w.emitAfterVisitorRenewal()):j.warn("session:start:newVisitor is trying to renew visitor under time limit")}fE(){this.w.emitBeforeVisitorRenewal(),this.removeVisitor()}}return s})(),Vt="_cs_id",mg=(()=>{class s{constructor(t,e,r){this.E=t,this.N=e,this.K=r}onCookieToSet(t){this.Oi=t}onCookieToRemove(t){this.Ni=t}get(){let t;return this.E.cookielessTrackingEnabled?t=this.K.getItem(Vt):t=this.N.get(Vt),t?(bu(t)||j.warn(`Invalid visitor string: ${t}`),Au(t)):null}set(t){var e;let r=Tu(t);if(this.E.cookielessTrackingEnabled)this.K.setItem(Vt,r);else{let o=new csDate(t.expires);this.N.set(Vt,r,o),(e=this.Oi)===null||e===void 0||e.call(this,Vt,r,o)}}remove(){var t;this.E.cookielessTrackingEnabled?this.K.removeItem(Vt):(this.N.delete(Vt),(t=this.Ni)===null||t===void 0||t.call(this,Vt))}handleSubdomainChange(){if(this.E.cookielessTrackingEnabled)return;let t=this.get();t&&(t.allowSubdomains=this.E.allowSubdomains,this.E.allowSubdomains?this.N.delete(Vt,mi.CURRENT_DOMAIN):this.N.delete(Vt,this.N.getRootDomain()),this.set(t))}}return s})(),yg=(()=>{class s{constructor(t,e,r,o,a,c){this.E=t,this.Pi=e,this.bs=r,this.D=o,this.w=a,this.K=c}initWithQuota(){if(!this.E.collectionEnabled){this.gE();return}let t=new Zf(this.E.getSettingsFileUri(),"",{type:"json",cacheMinutes:15});this.wt=new og(this.E,t,this.w),this.wt.init(e=>{e?this.init():this.gE()})}hP(){this.D.schedule(()=>{this.M=new Rs,this.et=new Yh(this.M),this.C=new vp(window.location,this.et),this.N=new mi(this.E,this.C,this.Pi),this.N.init(),this.Nt=new ep,this.S=new fu([du.UXA]),this.Z=new pu,this.lt=new Tp,this.bt=new dp(this.E,new up(this.E,this.N,this.Nt),this.w)})}gE(){}init(){gs.isSupported()&&gs.setDigestSalt(this.E.projectId.toString());let t,e,r,o,a,c,h,f,g,m,y,v,I,D,x,_,w,O,C,T,k,Y,J,wt,mt,At,E,P,N;this.hP();let L=new Ff;this.w.addListener(L),this.D.schedule(()=>{y=new dg(window.location,this.N),new rp().init(),v=Ta.create(),m=new ba(v),this.wt===void 0&&(this.wt=new ig(this.E,this.w,y,this.C,new jr),this.wt.init())}),this.D.schedule(()=>{t=new ng(this.E,this.N,this.K),e=new hg(t,this.wt,this.w,this.E.replayConsentRequiredForSession,this.E.malkaEtrEnabled),r=new mg(this.E,this.N,this.K),o=new gg(this.E,r,this.w,e),this.bs.setContext(o,e)}),this.D.schedule(()=>{c=new ug(o,e,this.bt),h=new Lu(this.E,this.N,this.K),f=new ju(window.location,h),g=new Uu(f),x=new fg(this.E,o,f),mt=new _u(Zt,this.E);let Z;T=new ou(mt,this.E.isChild,Z),k=new au(mt),Y=new cu(mt),J=new hu,wt=new Qh(T,k,Y,J),_=new uu(this.S,wt),w=new $u(this.C),O=new Bu(w,this.S);let nt=new xu(this.E,this.N,this.K);At=new pp(this.M,nt),C=new sd(this.S,At);let $t=new ag(o,e,f,At,this.E)}),this.D.schedule(()=>{new pg(this.E,o,f,x,c,I,a,y).compute(nt=>{this.D.schedule(()=>{var $t,Re,We,Ye;_.init();let se=new hp(this.E,this.S,this.bt,e,this.w),ie=new jf(this.E,this.N,this.Nt),It=new Hf(this.w,window.location,ie),ot=new Uf(this.S,It),Tt=new _p(this.S,this.E),Os=new Sp(this.et,new Yp),vi=new Cp(e,o),_i,Ns,wi,Ms=new po(this.E,o,e,D),Ds=new po(this.E,o,e,D,Ns);nt?(this.w.emitInitTracking(),new sg(Ms,Ds,v,o,e,vi,Os,this.w,this.S,_,this.E,ot,It,se,this.bt,this.M,mt,this.et,this.C,Tt,this.Z,wt,At,C,w,O,this.D,m,this.N,this.Nt,this.K,this.wt,this.lt,wi,_i,P,N).start()):new Vu(this.w,this.S,_,ot,It,g,se).start()})})})}}return s})(),Ue=(()=>{let s;return function(i){let t="{domain}/tag/tag.bundle.js?v={version}",e,r={loadBundle(w){let O=w.source,C=w.data;if(c(C)){let T=()=>{let k=o(t,C);y(k,()=>O.postMessage("csBundleLoaded",w.origin))};e=C.token,_(r.loadBundle),h(w.origin)&&T()}}};function o(w,O){return csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.replace.call(w,"{version}",O.version),"{token}",O.token),"{domain}",O.domain)}function a(){return e}i.getToken=a;function c(w){return w&&w.type==="csBundleInjection"&&h(w.domain)&&g(w.version)&&f(w.token)}i.isAuthorizedIncomingMessage=c,i.hjDomainRegex=/^https?:\/\/[a-zA-Z0-9\.\-]+\.hotjar\.com$/;function h(w){return/^https?:\/\/[a-zA-Z0-9\.\-]+\.(content-square\.fr|contentsquare\.com|csq\.io)$/.test(w)||i.hjDomainRegex.test(w)}i.isAuthorizedDomain=h;function f(w){return/^[a-zA-Z0-9]+$/.test(w)}i.isAuthorizedToken=f;function g(w){return/^[a-zA-Z0-9\.]+$/.test(w)}i.isAuthorizedTagVersion=g;function m(){let w=window.opener||window.parent;return window!==w&&window.addEventListener}i.isActivable=m;function y(w,O){let C=document.createElement("script");C.type="text/javascript",C.async=!0,C.src=w,C.onload=O,C.charset="utf-8",document.head.appendChild(C)}i.addScript=y;function v(w){let O=document.createElement("link");O.rel="stylesheet",O.href=w,document.head.appendChild(O)}i.addStyle=v;function I(w){return`${w}?cb=${new csDate().getTime()}`}i.addCacheBusting=I;function D(){x(r.loadBundle)}i.waitForBundleInjection=D;function x(w){window.addEventListener("message",w,!1)}i.listen=x;function _(w){window.removeEventListener("message",w,!1)}i.removeListener=_}(s||(s={})),s})(),mo="_hp_ved",Eg=18e5,Sg="/js/ved.js",vg="/css/ved.css",_g="/js/ved.css",wg=(()=>{let s;return function(i){i.StatusUpdate="status"}(s||(s={})),s})(),Ag=(()=>{let s;return function(i){i.ReceivedInitMessage="received_init_message"}(s||(s={})),s})();var er=(()=>{let s;return function(i){let t=!1,e;function r(y){return e+y}function o(){let y=[r(vg),r(_g)];csArray.prototype.forEach.call(y,v=>{Ue.addStyle(v)})}function a(y){let v=new csRegExp("(^|;)[ ]*"+y+"=([^;]*)"),I=v.exec(document.cookie);return I?decodeURIComponent(I[2]):null}function c(y,v,I){let D=encodeURIComponent(y)+"="+encodeURIComponent(v),x=new csDate;x.setTime(x.getTime()+I);let _=D+"; expires="+x.toUTCString()+"; path=/";document.cookie=_}function h(){c(mo,"on",Eg)}function f(){return a(mo)==="on"}i.isVLCookieEnabled=f;function g(y){window.heapV=Object.assign({},window.heap,{source:y==null?void 0:y.source,uri:e,loadArgs:y==null?void 0:y.data.args,identify:()=>{},track:()=>{}})}i.initializeHeapV=g;function m(y,v){var I;if(e=y,v){let D={type:wg.StatusUpdate,value:Ag.ReceivedInitMessage},x={targetOrigin:v==null?void 0:v.origin};(I=v==null?void 0:v.source)===null||I===void 0||I.postMessage(D,x)}t||(t=!0,h(),g(v),window.heapV&&(Ue.addScript(r(Sg)),o()))}i.init=m}(s||(s={})),s})(),Tg=(()=>{let s;return function(i){let t=window.opener||window.parent,e="tag",r="https://app.contentsquare.com",o=[/^https:\/\/app\.contentsquare\.com$/,/^https:\/\/dev-app\.contentsquare\.com$/,/^https:\/\/staging-app\.contentsquare\.com$/,/^https:\/\/.*\.test\.contentsquare\.com$/,/^https:\/\/app\.[a-z0-9-]+\.csiab\.[a-z0-9-]+\.csq\.io$/,Ue.hjDomainRegex],a,c,h,f={initHeapVisualLabeler(T){var k;T.origin===h&&((k=T.data)===null||k===void 0?void 0:k.message)==="init"&&T.source&&(er.init(h,T),w(f.initHeapVisualLabeler))},ping(T){typeof T.data=="string"&&T.data==="ping"&&y(T.origin)&&(c=T.origin,a=Ue.hjDomainRegex.test(T.origin)?r:T.origin,w(f.ping),_(f.insertMessageScript),v(Ue.addCacheBusting("utils.js")))},insertMessageScript:O(T=>{typeof T.data=="string"&&T.data!=="ping"&&(w(f.insertMessageScript),v(T.data))})};function g(){return Ue.getToken()}i.getToken=g;function m(){return window!==t&&window.addEventListener}i.isActivable=m;function y(T){return csArray.prototype.some.call(o,k=>k.test(T))}i.isAuthorizedDomain=y;function v(T,k){let Y=document.createElement("script");Y.type="text/javascript",Y.async=!0;let J=a==null?void 0:csString.prototype.replace.call(a,/^https?:/,"");Y.src=`${J}/${e}/${T}`,Y.onload=k,Y.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(Y),I(T)}function I(T){csString.prototype.includes.call(T,"&mode=")&&sessionStorage.setItem("_hjRetakerMode",csString.prototype.split.call(T,"&mode=")[1])}function D(){_(f.ping),Ue.waitForBundleInjection()}i.waitForConnection=D;function x(T){h=T,_(f.initHeapVisualLabeler),er.isVLCookieEnabled()&&er.init(h)}i.waitForHeapVisualLabeler=x;function _(T){window.addEventListener("message",T,!1)}i.listen=_;function w(T){window.removeEventListener("message",T,!1)}i.removeListener=w;function O(T){return function(k){k.origin===c&&T(k)}}i.secureListener=O;function C(T){c&&t.postMessage(T,c)}i.post=C}(s||(s={})),s})();var Zs=window.CSFrameCommunication||Tg,bg=(()=>{class s extends Hr{constructor(t){super(),this.D=t;{let e=(r,o)=>{if(typeof o!="string"||!csString.prototype.startsWith.call(o,"on"))return;let a=csString.prototype.substring.call(o,2);return(...c)=>{o==="onInitialDomDone"&&(c=[]),document.dispatchEvent(new CustomEvent("cs-e2e-event",{detail:{type:"lifecycle",name:a,data:c}}))}};this.addListener(new Proxy({},{get:e}))}}emitBeforeNaturalPageView(t){for(let e of this.listeners)e.onBeforeNaturalPageView&&e.onBeforeNaturalPageView(t)}emitAfterNaturalPageView(t){for(let e of this.listeners)e.onAfterNaturalPageView&&e.onAfterNaturalPageView(t)}emitInitTracking(){for(let t of this.listeners)t.onInitTracking&&t.onInitTracking()}emitStartTracking(t){for(let e of this.listeners)e.onStartTracking&&this.D.schedule(()=>e.onStartTracking(t))}emitStartNoTrackingMode(){for(let t of this.listeners)t.onStartNoTrackingMode&&this.D.schedule(()=>t.onStartNoTrackingMode())}emitArtificialPageViewEnd(t=!1){for(let e of this.listeners)if(e.onArtificialPageViewEnd)try{e.onArtificialPageViewEnd(t)}catch(r){j.error(r)}}emitBeforeArtificialPageView(t,e){for(let r of this.listeners)r.onBeforeArtificialPageView&&r.onBeforeArtificialPageView(t,e)}emitAfterArtificialPageView(t=!1){for(let e of this.listeners)e.onAfterArtificialPageView&&e.onAfterArtificialPageView(t)}emitBeforeSessionRenewal(){for(let t of this.listeners)t.onBeforeSessionRenewal&&t.onBeforeSessionRenewal()}emitAfterSessionRenewal(){for(let t of this.listeners)t.onAfterSessionRenewal&&t.onAfterSessionRenewal()}emitOptout(){for(let t of this.listeners)t.onOptout&&t.onOptout()}emitReplayUnanonymizationConsentGranted(){for(let t of this.listeners)t.onReplayUnanonymizationConsentGranted&&t.onReplayUnanonymizationConsentGranted()}emitReplayUnanonymizationConsentWithdrawn(){for(let t of this.listeners)t.onReplayUnanonymizationConsentWithdrawn&&t.onReplayUnanonymizationConsentWithdrawn()}emitAfterReplayRecordingConsentGranted(){for(let t of this.listeners)t.onAfterReplayRecordingConsentGranted&&t.onAfterReplayRecordingConsentGranted()}emitAfterReplayRecordingConsentWithdrawn(){for(let t of this.listeners)t.onAfterReplayRecordingConsentWithdrawn&&t.onAfterReplayRecordingConsentWithdrawn()}emitCollectStateChange(t,e){for(let r of this.listeners)r.onCollectStateChange&&r.onCollectStateChange(t,e)}emitInitialDomStart(){for(let t of this.listeners)t.onInitialDomStart&&t.onInitialDomStart()}emitInitialDomDone(t){for(let e of this.listeners)e.onInitialDomDone&&e.onInitialDomDone(t)}emitRecordingContextChange(){for(let t of this.listeners)t.onRecordingContextChange&&t.onRecordingContextChange()}emitSensitiveStatusChange(){var t;for(let e of this.listeners)(t=e.onSensitiveStatusChange)===null||t===void 0||t.call(e)}emitBeforeVisitorRenewal(){for(let t of this.listeners)t.onBeforeVisitorRenewal&&t.onBeforeVisitorRenewal()}emitAfterVisitorCleared(){for(let t of this.listeners)t.onAfterVisitorCleared&&t.onAfterVisitorCleared()}emitAfterVisitorRenewal(){for(let t of this.listeners)t.onAfterVisitorRenewal&&t.onAfterVisitorRenewal()}emitSessionCreated(){for(let t of this.listeners)t.onSessionCreated&&t.onSessionCreated()}emitSessionRemoved(){for(let t of this.listeners)t.onSessionRemoved&&t.onSessionRemoved()}emitSessionRefreshed(){for(let t of this.listeners)t.onSessionRefreshed&&t.onSessionRefreshed()}emitTargetingRulesMatched(){for(let t of this.listeners)t.onTargetingRulesMatched&&t.onTargetingRulesMatched()}}return W([vs("emitStartTracking")],s.prototype,"emitStartTracking",null),s})();var Rg=(()=>{let s;return function(i){function t(){return typeof window.CSJavascriptBridge=="object"&&typeof window.CSJavascriptBridge.optIn=="function"&&typeof window.CSJavascriptBridge.optOut=="function"&&typeof window.CSJavascriptBridge.sendEvent=="function"&&typeof window.CSJavascriptBridge.sendDynamicVar=="function"&&typeof window.CSJavascriptBridge.sendTransaction=="function"}i.isCSJavascriptBridgeDefined=t;function e(){if(typeof window.CSJavascriptBridge.getVersion=="function")try{let _=window.CSJavascriptBridge.getVersion();if(Ct(_))return _}catch{j.warn("an error occurred when calling getVersion")}return null}i.getBridgeVersion=e;function r(){typeof window.CSJavascriptBridge.onWebviewTrackingReady=="function"&&window.CSJavascriptBridge.onWebviewTrackingReady()}i.notifyIsReadyForTracking=r;function o(_,w){window.CSJavascriptBridge.identify&&window.CSJavascriptBridge.identify(_,csJSON.stringify(w))}i.identify=o;function a(){window.CSJavascriptBridge.resetIdentity&&window.CSJavascriptBridge.resetIdentity()}i.resetIdentity=a;function c(_){window.CSJavascriptBridge.addUserProperties&&window.CSJavascriptBridge.addUserProperties(csJSON.stringify(_))}i.addUserProperties=c;function h(_){window.CSJavascriptBridge.sendEvent(csJSON.stringify(_))}i.sendAnalysisEvent=h;function f(_){if(window.CSJavascriptBridge.sendSREvent)for(let w of _.events)window.CSJavascriptBridge.sendSREvent(csJSON.stringify(w))}i.sendSREvent=f;function g(_){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendLog&&window.CSJavascriptBridge.sendLog(csJSON.stringify(_))}i.sendLog=g;function m(){window.CSJavascriptBridge.optIn()}i.sendOptIn=m;function y(){window.CSJavascriptBridge.optOut()}i.sendOptOut=y;function v(_,w){window.CSJavascriptBridge.sendDynamicVar(_,w)}i.sendDynamicVariable=v;function I(_,w,O){window.CSJavascriptBridge.sendTransaction(_,w,O)}i.sendTransaction=I;function D(_,w){if(window.CSJavascriptBridge.sendAssets){let O=csJSON.stringify(_);window.CSJavascriptBridge.sendAssets(O,w||null)}else window.CSJavascriptBridge.sendSRAssets&&window.CSJavascriptBridge.sendSRAssets(csArray.prototype.map.call(_,O=>O.assetId))}i.sendAssets=D;function x(_){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendNativeSREvent&&window.CSJavascriptBridge.sendNativeSREvent(csJSON.stringify(_))}i.sendNativeSREvent=x}(s||(s={})),s})();var Cg=(()=>{class s{constructor(t,e,r){this.E=t,this.It=e,this.bs=r}start(){var t,e,r,o,a;if(window.CSQ_TAGS=csArray.prototype.concat.call(window.CSQ_TAGS||[],this.E.projectId),window.UXAnalytics)return;window.UXAnalytics={};let c=new fp,h=new Kd(!!(!((t=this.E.taskSchedulerOptions)===null||t===void 0)&&t.enabled),(e=this.E.taskSchedulerOptions)===null||e===void 0?void 0:e.maxProcessingTime,(r=this.E.taskSchedulerOptions)===null||r===void 0?void 0:r.waitDuration),f=new Fh(this.It,this.E);f.init();let g=new $h(this.E,f);if(this.It.isTopWindowTracker()&&g.canTrack()){if(!((o=window.CSProtectnativeFunctionsLogs)===null||o===void 0)&&o.Warning&&j.warn(`protectNativeFunctions failed: ${window.CSProtectnativeFunctionsLogs.Warning}`),!((a=window.CSProtectnativeFunctionsLogs)===null||a===void 0)&&a.Critical){j.error(`protectNativeFunctions failed: ${window.CSProtectnativeFunctionsLogs.Critical}`);return}Hh();let y=new bg(h),v=new yg(this.E,f,this.bs,h,y,c);this.E.isQuotaEnabled()?v.initWithQuota():v.init()}let m=csString.prototype.indexOf.call(window.location.href,"csDebug=1")>-1;window.UXAnalytics={Sensitive:{isNodeSensitive(y){return B.isMaskedElement(y)||B.isMaskedElementChild(y)},isAttributeSensitive(y,v){return B.isMaskedAttribute(y,v)},getSensitiveAttributes(y){return fl(y.attributes,v=>B.isMaskedAttribute(y,v.name))}},Console:{warn(y){m&&console.warn("cs.tracking.warning",y)},error(y){m&&console.error("cs.tracking.error",y)}},Version:Bo},window.CSFrameCommunication||(window.CSFrameCommunication=Zs,Zs.isActivable()&&Zs.waitForConnection(),this.E.isCsCrosswritingHeap()&&Zs.waitForHeapVisualLabeler(this.E.getHeapWebAppUri()))}}return W([vs("main.start"),z("main.start")],s.prototype,"start",null),s})(),Ig=(()=>{class s{constructor(){}send(t,e,r=Q.warn){let o={message:t,errorCode:e,level:r};Rg.sendLog(o)}}return s})();function Pg(){csSetTimeout(()=>{let s=0;typeof CompressionStream!="undefined"&&(s|=1),typeof TransformStream!="undefined"&&(s|=2),typeof performance!="undefined"&&typeof performance.now=="function"&&(s|=4),typeof Worker!="undefined"&&(s|=8),typeof scheduler!="undefined"&&(typeof scheduler.yield=="function"&&(s|=16),typeof scheduler.postTask=="function"&&(s|=32)),V.counters.availableFeatures.set(s)})}var Og=(()=>{class s{constructor(t,e,r){this.X=t,this.M=e,this.dO=r,this.gt=[],this.fO=Ur().v,Pg()}flush(){this.gt.length!==0&&(this.X.send({m:csArray.prototype.map.call(this.gt,t=>({n:t.name,p:t.parameter,v:t.value})),p:this.M.anonymizePII(window.location.pathname),pid:this.dO,v:this.fO}),this.gt=[])}push(t){csArray.prototype.push.call(this.gt,...t),this.flush()}}return s.DEBOUNCE_INTERVAL=5e3,W([nl(s.DEBOUNCE_INTERVAL)],s.prototype,"flush",null),s})();function Ng(s,i){let t=s.validationRate/10,e=Ge.boolean(t);if((s.environment==="staging"||!1||e)&&!i.isInWebViewContext())try{let a=Ta.create(i.isTopWindowTracker()),h=new ba(a).create(s.getMetricsUri()),f=new Rs,g=new Og(h,f,s.projectId);V.setService(g)}catch(a){j.warn(`Error initializing metrics: ${a.message}`)}}function Mg(){var s;yl();let i=new uh(window.CS_CONF);window._uxa=window._uxa||[],i.processOptionOverrides(window._uxa);let t=new dh(window,i);t.init();let e=new Lh;if(Zc(j),xh(),j.computeIsActive(i.validationRate),t.isTopWindowTracker()){let a=new Nh(i,e);j.setStrategy(a)}else if(t.isInWebViewContext()){let o=new Ig;j.setStrategy(o)}!((s=i==null?void 0:i.experimental)===null||s===void 0)&&s.disableMutationObserverProtection&&window.csMutationObserver&&(window.csMutationObserver=qe(window,"MutationObserver")),Zl(),Ng(i,t),new Cg(i,t,e).start()}window.CSCurrentScript=document.currentScript;csSetTimeout(()=>{try{Vh(Mg)}catch{}});})();

// signature-f16689dcf3748281081eedd641d0fbac70d2ba8e9752c883d7a24d59c81c4399