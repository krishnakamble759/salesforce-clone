import{r as t,f as e,a as n,b as l,L as i,i as o,c as a,g as r,d as c}from"./chunks/helpers.v55IkvxL.js";var s=[function(t,e,n){var l=t?"["+t+"]":"";return"thexternal-collection"+l+" {--thexternal-collection_padding: 0;--thexternal-collection_item-background-color: white;--tds-content-collection-item_background-color: white;--tds-a11y-outline-color-focus: var(--pbc-focus-state-color, var(--sds-g-color-palette-blue-60));--thexternal-collection_header-title-color: var(--pbc-g-blue-vibrant-20);--thexternal-collection_header-title-font-family: var(--pbc-g-font-display);--thexternal-collection_header-title-font-size: 36px;--thexternal-collection_header-title-letter-spacing: -0.4px;--thexternal-collection_header-title-line-height: 40px;--thexternal-collection_header-title-text-align: center;--thexternal-collection_header-title-margin: auto;--thexternal-collection_header-title-max-width: 832px;--thexternal-collection_cta-background-color: var(--pbc-g-brand-default-color);--thexternal-collection_cta-background-color-hover: #014486;--thexternal-collection_cta-border: 1px solid transparent;--thexternal-collection_cta-border-hover: 1px solid transparent;--thexternal-collection_cta-font-smoothing: antialiased;--thexternal-collection_cta-border-radius: 4px;--thexternal-collection_cta-box-shadow: none;--thexternal-collection_cta-box-shadow-hover: var(--pbc-g-brand-default-color);--thexternal-collection_cta-color: var(--pbc-g-brand-default-color-background);--thexternal-collection_cta-color-hover: var(--pbc-g-brand-default-color-background);--thexternal-collection_cta-font-family: var(--pbc-g-font-display);--thexternal-collection_cta-font-size: 14px;--thexternal-collection_cta-font-weight: 500;--thexternal-collection_cta-letter-spacing: -0.002em;--thexternal-collection_cta-line-height: 20px;--thexternal-collection_cta-padding: 14px 24px;--thexternal-collection_cta-transition: background-color 0.3s;--thexternal-collection_cta-background-color-focus: #014486;--thexternal-collection_cta-outline-focus: 5px auto -webkit-focus-ring-color;--thexternal-collection_cta-offset-focus: -2px;--thexternal-collection_cta-color-focus: #fff;--thexternal-collection_item-image-size: 120px;--thexternal-collection_content-padding: 52px 0 32px 0;--thexternal-collection_content-grid-template-columns: 1fr 1fr 1fr;--thexternal-collection_item-box-shadow: 0 2px 8px -2px rgba(24, 24, 24, 0.08), 0 8px 12px -2px rgba(24, 24, 24, 0.16);--thexternal-collection_item-gap: 40px;--thexternal-collection_item-padding: 24px;--thexternal-collection_item-border-radius: 16px;--thexternal-collection_item-border-top: 1px solid rgba(24, 24, 24, 0.02);--thexternal-collection_item-border-right: 1px solid rgba(24, 24, 24, 0.02);--thexternal-collection_item-border-bottm: 1px solid rgba(24, 24, 24, 0.02);--thexternal-collection_item-border-left: 1px solid rgba(24, 24, 24, 0.02);--thexternal-collection_item-header-justify-content: center;--thexternal-collection_item-body-margin: 16px 0 0 0;--thexternal-collection_item-pretitle-color: var(--pbc-g-blue-vibrant-20);--thexternal-collection_item-pretitle-font-family: var(--pbc-g-font-sans);--thexternal-collection_item-pretitle-font-weight: 700;--thexternal-collection_item-pretitle-font-size: 12px;--thexternal-collection_item-pretitle-letter-spacing: 0;--thexternal-collection_item-pretitle-line-height: 24px;--thexternal-collection_item-pretitle-text-transform: capitalize;--thexternal-collection_item-pretitle-text-align: left;--thexternal-collection_pretitle-background-color: #1ea7fd33;--thexternal-collection_pretitle-padding: 0px 12px;--thexternal-collection_pretitle-border-radius: 25px;--thexternal-collection_pretitle-display: inline-block;--thexternal-collection_item-title-link-color: var(--pbc-g-blue-vibrant-20);--thexternal-collection_item-title-link-color-hover: var(--sds-g-color-palette-blue-50);--thexternal-collection_item-title-link-text-decoration-hover: none;--thexternal-collection_item-title-font-family: var(--pbc-g-font-display);--thexternal-collection_item-title-font-size: 24px;--thexternal-collection_item-title-letter-spacing: -0.1px;--thexternal-collection_item-title-line-height: 24px;--thexternal-collection_item-title-text-align: left;--thexternal-collection_item-title-margin: 16px 0 0 0;--thexternal-collection_item-description-color: var(--pbc-g-gray-20);--thexternal-collection_item-description-font-family: var(--pbc-g-font-sans);--thexternal-collection_item-description-font-size: 16px;--thexternal-collection_item-description-line-height: 24px;--thexternal-collection_item-description-text-align: left;--thexternal-collection_item-description-margin: 16px 0 32px 0;--thexternal-collection_item-stencil-overlay-background-color: #c9c9c9c9;--thexternal-collection_dynamic-cta-text-align: left;--thexternal-collection_dynamic-cta-margin: 10px 0;--thexternal-collection_dynamic-cta-font-family: var(--pbc-g-font-sans);--thexternal-collection_dynamic-cta-font-size: 16px;--thexternal-collection_dynamic-cta-font-weight: bold;--thexternal-collection_dynamic-cta-color: var(--pbc-g-blue-vibrant-20);--thexternal-collection_dynamic-cta-letter-spacing: 0.1px;--thexternal-collection_dynamic-cta-color-hover: var(--pbc-g-blue-vibrant-40);--thexternal-collection_dynamic-cta-text-decoration: underline;--tds-summary_dynamic-cta-border: 2px solid transparent;--tds-summary_dynamic-cta-border-radius: 4px;--tds-summary_dynamic-cta-background-color-focus: var(--sds-c-button-color-background-focus, var(--sds-g-color-palette-cloud-blue-95));--tds-summary_dynamic-cta-color-hover: var(--pbc-g-blue-vibrant-40);--tds-summary_dynamic-cta-color-focus: var(--pbc-g-blue-vibrant-40);--tds-summary_dynamic-cta-outline-focus: 5px solid var(--tds-a11y-outline-color-focus);}@media screen and (max-width: 768px) {thexternal-collection"+l+" {--thexternal-collection_content-padding: 32px 0 32px 0;--thexternal-collection_content-gap: 16px;--thexternal-collection_header-title-font-size: 24px;--thexternal-collection_header-title-line-height: 28px;--thexternal-collection_content-grid-template-columns: 1fr;--thexternal-collection_item-padding: 32px;--thexternal-collection_item-body-margin: 32px 0 0 0;}}@media screen and (min-width: 768px) {thexternal-collection"+l+" {--thexternal-collection_header-title-max-width: 632px;--thexternal-collection_content-gap: 24px;--thexternal-collection_item-title-font-size: 18px;--thexternal-collection_item-title-line-height: 24px;--thexternal-collection_item-padding: 24px;--thexternal-collection_item-body-margin: 24px 0 0 0;}}@media screen and (min-width: 1024px) {thexternal-collection"+l+" {--thexternal-collection_header-title-max-width: 832px;--thexternal-collection_content-gap: 32px;--thexternal-collection_item-title-font-size: 24px;--thexternal-collection_item-title-line-height: 28px;--thexternal-collection_item-padding: 32px;--thexternal-collection_item-body-margin: 32px 0 0 0;}}@media screen and (min-width: 1312px) {thexternal-collection"+l+" {--thexternal-collection_content-gap: 40px;--thexternal-collection_item-padding: 40px;--thexternal-collection_item-body-margin: 40px 0 0 0;}}thexternal-collection[data-variant='community']"+l+" {--thexternal-collection_content-padding: 52px 0 32px 0;--thexternal-collection_item-box-shadow: 0 2px 8px -2px rgba(24, 24, 24, 0.08), 0 8px 12px -2px rgba(24, 24, 24, 0.16);--thexternal-collection_item-content-alignment: flex-start;--thexternal-collection_item-gap: 40px;--thexternal-collection_item-padding: 24px;--thexternal-collection_item-border-radius: 16px;--thexternal-collection_item-border-top: 1px solid rgba(24, 24, 24, 0.02);--thexternal-collection_item-border-right: 1px solid rgba(24, 24, 24, 0.02);--thexternal-collection_item-border-bottm: 1px solid rgba(24, 24, 24, 0.02);--thexternal-collection_item-border-left: 1px solid rgba(24, 24, 24, 0.02);--thexternal-collection_item-header-justify-content: left;--thexternal-collection_item-body-margin: 0;--thexternal-collection_item-pretitle-text-align: left;--thexternal-collection_item-title-text-align: left;}@media screen and (max-width: 768px) {thexternal-collection[data-variant='community']"+l+" {--thexternal-collection_content-padding: 32px 0 32px 0;--thexternal-collection_content-gap: 16px;--thexternal-collection_header-title-font-size: 24px;--thexternal-collection_header-title-line-height: 28px;--thexternal-collection_item-padding: 32px;}}@media screen and (min-width: 768px) {thexternal-collection[data-variant='community']"+l+" {--thexternal-collection_header-title-max-width: 632px;--thexternal-collection_content-gap: 24px;--thexternal-collection_item-title-font-size: 18px;--thexternal-collection_item-title-line-height: 24px;--thexternal-collection_item-padding: 32px;}}@media screen and (min-width: 1024px) {thexternal-collection[data-variant='community']"+l+" {--thexternal-collection_header-title-max-width: 832px;--thexternal-collection_content-gap: 32px;--thexternal-collection_item-title-font-size: 24px;--thexternal-collection_item-title-line-height: 28px;}}@media screen and (min-width: 1312px) {thexternal-collection[data-variant='community']"+l+" {--thexternal-collection_content-gap: 40px;--thexternal-collection_item-title-font-size: 24px;--thexternal-collection_item-title-line-height: 28px;--thexternal-collection_item-padding: 40px;}}"}];const d={context:{lwc:{dom:"manual"}},key:1};function h(t,e,n,l){const{h:i,fr:o}=t;return[e.tag?o(0,[i("div",d)],0):null]}var p=t(h);function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);e&&(l=l.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,l)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var l=n.call(t,e||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}h.stylesheets=[],s&&h.stylesheets.push.apply(h.stylesheets,s),h.stylesheetToken="lwc-39moj8hvpie",h.legacyStylesheetToken="pbc-thwrapper_thwrapper",e(h);class u extends i{constructor(...t){super(...t),this.properties="",this.src="",this.componentname="",this.tag="",this.variant="",this.bladeid="",this.bladename="",this.idxnext="",this.bladesource="",this.bladevariant="",this.hasRendered=!1,this.personalizationPayload={},this.isPersonalizationPresent=!1,this.triggerEvent=(t,e)=>{e=e||{};const n=new CustomEvent("www_track",{bubbles:!0,composed:!0,detail:{type:t,id:this.componentname,bladeId:this.bladeid,source:"trailhead",eventData:e,personalization:e.personalization}});this.dispatchEvent(n)}}renderedCallback(){!this.hasRendered&&this.tag&&(customElements.whenDefined(this.tag).then((async()=>{try{await this.ensureGdpr(3e3)}catch(t){console.error(t)}this.appendElement()})).catch(console.log),this.appendScript(),this.hasRendered=!0)}appendScript(){const t=document.createElement("script");t.src=this.src,t.type="module",this.template.querySelector("div").appendChild(t)}appendElement(){const t=document.createElement(this.tag),e=JSON.parse(this.properties),n=this.getGAClientId(),l=this.getAdvertisingTrackingDisabledStatus();e.trackingDisabled=this.getFunctionalTrackingDisabledStatus(),e.trackingVisitorId=n,"personalized-learning"===this.variant&&(e.config.personalization.googleClientId=n,l&&(e.variant="learning",e.items=e.config.personalization.fallbackItems,delete e.config.personalization)),e.trackingViewContext={componentHost:window.location.host,componentPath:window.location.pathname,componentName:this.componentname},t.addEventListener("track",(t=>this.handleTrackEvents(t))),t.addEventListener("click",(t=>this.handleTrailheadClicks(t))),Object.assign(t,e),t.setAttribute("data-variant",e.variant),this.template.querySelector("div").appendChild(t)}handleTrailheadClicks(t){const e=this.processClickEvent(t);if(!e)return;const n=new CustomEvent("www_track",{bubbles:!0,composed:!0,detail:{event:"custEv_contentClick",blade:m({},e)}});document.dispatchEvent(n)}processClickEvent(t){const e=t.target;if(o(e))return null;const n=t.composedPath(),l=n[0],i=this.getLink(l,n);if(!i)return null;const a=this.getModule(l);if(!a)return null;const r=this.buildModuleData(a);r.link=i;const c=m(m({},this.getAnalyticsBladeData()),{},{module:r});return this.isPersonalizationPresent&&(c.personalization=this.buildPersonalizationPayload(this.personalizationPayload)),c}buildModuleData(t){const e=t?.summary;return e?{id:e.id,name:e.title,type:e.type,position:this.getModulePosition(e.title)}:{}}getLink(t,e){let n=null;const l=a("a[href]",t);return l&&(n={url:l.getAttribute("href")},t&&t.matches("img")?(n.text=l.getAttribute("aria-label")||t.getAttribute("alt"),n.type="image",n.elementType="image"):e.find((t=>"lwc-tds-heading"===t.nodeName?.toLowerCase()))?(n.elementType="headline link",n.type="headline",t instanceof HTMLSlotElement&&(n.text=t?.assignedNodes()[0]?.data)):(n.text=t.innerText,n.type="text",n.elementType="text link")),n?(n.url&&(n.internalDriver=r("d",n.url)),n):null}handleTrackEvents(t){const{eventName:e,payload:n}=t.detail,{content:l,personalization:i}=n;switch(void 0!==i&&"personalized-learning"===this.variant?(this.isPersonalizationPresent=!0,this.personalizationPayload=i):this.isPersonalizationPresent=!1,e){case"loaded":return this.triggerEvent("rendered",this.buildPayload(l,this.isPersonalizationPresent,i));case"error":return this.triggerEvent("error",{module:"Error rendering"});case"empty":return this.triggerEvent("empty",{module:"No content rendered"});case"loading":return this.triggerEvent("loading",{module:"Trailhead mfe loading"});case"cta_clicked":return this.triggerEvent("click",{module:{links:{url:n.content.ctaHref,text:n.content.ctaLabel}}});default:return}}buildPayload(t,e,n){const l=t.map((t=>({id:t.id,name:t.title,type:t.type,position:this.getModulePosition(t.title),link:{text:t.title,url:t.path}}))),i=m(m({},this.getAnalyticsBladeData()),{},{content:l});return e&&(i.personalization=this.buildPersonalizationPayload(n)),i}getAnalyticsBladeData(){return{id:this.bladeid,name:this.bladename,position:this.idxnext,source:this.bladesource,variant:this.bladevariant,state:"rendered",type:"blade"}}getModule(t){const e=this.template?.querySelector("div thexternal-collection")?.shadowRoot?.querySelector("lwc-th-content-collection")?.shadowRoot?.querySelectorAll("lwc-tds-content-collection-item");if(!e)return null;const n=Array.from(e);let l=t.parentNode;for(;null!=l;){for(const t of n)if(t===l)return t;l=l?.parentNode instanceof ShadowRoot?l.parentNode.host:l.parentNode}return null}getModulePosition(t){const e=this.template?.querySelector("div thexternal-collection")?.shadowRoot?.querySelector("lwc-th-content-collection")?.shadowRoot?.querySelectorAll("lwc-tds-content-collection-item"),n=[];return null!=e&&e.length>0&&e.forEach((t=>{n.push(t.shadowRoot?.querySelector("lwc-tds-content-summary")?.shadowRoot?.querySelector("lwc-tds-summary")?.shadowRoot?.querySelector("lwc-tds-heading a lwc-tds-truncate")?.innerHTML)})),n.length>0&&-1!==n.indexOf(t)?n.indexOf(t)+1:""}buildPersonalizationPayload(t){return{itemType:t.itemType,englishFallbacksRendered:t.englishFallbacksRendered,fallbackItemsRendered:t.fallbackItemsRendered,campaign:t.campaignId,experience:t.experienceId,userGroup:t.userGroup,userID:t.googleClientId}}getGAClientId(){const t=window.Util,e=void 0!==t&&t.getCookie?t.getCookie("_ga"):void 0;if(!e)return"unknown";return e.split(".").splice(2).join(".")||""}getFunctionalTrackingDisabledStatus(){const t=window.SfdcWwwBase;return void 0===t||!t.gdpr||!t.gdpr.isActiveGroup("functional")}getAdvertisingTrackingDisabledStatus(){const t=window.SfdcWwwBase;return void 0===t||!t.gdpr||!t.gdpr.isActiveGroup("advertising")}async ensureGdpr(t){const e=Date.now(),n=(l,i)=>{window.SfdcWwwBase?.gdpr?l(window.SfdcWwwBase.gdpr):t&&Date.now()-e>=t?i(new Error("gdpr global object not available")):setTimeout(n.bind(this,l,i),30)};return await new Promise(n)}}n(u,{publicProps:{properties:{config:0},src:{config:0},componentname:{config:0},tag:{config:0},variant:{config:0},bladeid:{config:0},bladename:{config:0},idxnext:{config:0},bladesource:{config:0},bladevariant:{config:0}},fields:["hasRendered","personalizationPayload","isPersonalizationPresent","triggerEvent"]});var b=l(u,{tmpl:p,sel:"pbc-thwrapper",apiVersion:59});c("pbc-thwrapper",b);export{b as pbcThwrapper};
